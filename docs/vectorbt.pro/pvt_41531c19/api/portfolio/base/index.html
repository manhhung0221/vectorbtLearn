<!doctype html><html lang=en class=no-js> 
<!-- Mirrored from vectorbt.pro/pvt_41531c19/api/portfolio/base/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 22 Nov 2025 03:48:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Module providing the base class for simulating a portfolio and measuring its performance"><meta name=author content="Oleg Polakow"><link href=https://vectorbt.pro/api/portfolio/base/ rel=canonical><link href=../index.html rel=prev><link href=../call_seq/index.html rel=next><link rel=icon href=../../../assets/logo/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.6.21+insiders-4.53.17"><title>base - VectorBT® PRO</title><link rel=stylesheet href=../../../assets/stylesheets/main.010a373c.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=../../../../../fonts.gstatic.com/index.html crossorigin><link rel=stylesheet href="../../../../../fonts.googleapis.com/cssbe43.css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/stylesheets/extra.css><link rel=stylesheet href=../../../assets/stylesheets/custom-light.css><link rel=stylesheet href=../../../assets/stylesheets/custom-dark.css><link rel=stylesheet href=../../../assets/stylesheets/pygments-light.css><link rel=stylesheet href=../../../assets/stylesheets/pygments-dark.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-0C5VNYCFHL"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-0C5VNYCFHL",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="../../../../../www.googletagmanager.com/gtag/jsc6c8?id=G-0C5VNYCFHL",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><meta name=robots content="noindex, nofollow"><meta property=og:title content=base><meta property=og:type content=website><meta content=https://vectorbt.pro/api/portfolio/base/ property=og:url><meta property=og:image:url content=https://vectorbt.pro/pvt_41531c19/assets/logo/social-new.png><meta property=og:image:type content=image/png><meta property=og:description content="Module providing the base class for simulating a portfolio and measuring its performance"><meta property=og:locale content=en-GB><link rel=apple-touch-icon sizes=180x180 href=https://vectorbt.pro/pvt_41531c19/assets/logo/apple-touch-icon.png><link rel=icon type=image/svg+xml href=https://vectorbt.pro/pvt_41531c19/assets/logo/favicon.svg><link rel=icon type=image/png sizes=32x32 href=https://vectorbt.pro/pvt_41531c19/assets/logo/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://vectorbt.pro/pvt_41531c19/assets/logo/favicon-16x16.png><link rel=manifest href=https://vectorbt.pro/pvt_41531c19/assets/logo/site.webmanifest><link rel=mask-icon href=https://vectorbt.pro/pvt_41531c19/assets/logo/safari-pinned-tab.svg color=#1e1f22><link rel="shortcut icon" href=https://vectorbt.pro/pvt_41531c19/assets/logo/favicon.ico><meta name=msapplication-TileColor content=#1e1f22><meta name=msapplication-config content=https://vectorbt.pro/pvt_41531c19/assets/logo/browserconfig.xml><meta name=theme-color content=#1e1f22><link href=https://unpkg.com/aos@2.3.4/dist/aos.css rel=stylesheet><script src=https://unpkg.com/aos@2.3.4/dist/aos.js></script><link href=http://fonts.cdnfonts.com/css/uni-neue rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/js/all.min.js integrity="sha512-8pHNiqTlsrRjVD4A/3va++W1sMbUHwWxxRPWNyVlql3T+Hgfd81Qc6FC5WMXDC+tSauxxzp1tgiAvSKFu1qIlA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><link rel=preconnect href=https://fonts.googleapis.com/><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin></head> <body dir=ltr data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#vectorbtpro.portfolio.base class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> <i>What's new</i>: New LLM providers, reasoning steps, function calling, YAML & TOML support, and <a href=https://vectorbt.pro/pvt_41531c19/getting-started/release-notes><strong>more</strong></a> <span class="twemoji announce-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="m153.6 29.9 16-21.3c4-5.4 10.4-8.6 17.1-8.6C198.4 0 208 9.6 208 21.3v22.1c0 13.1 5.4 25.7 14.9 34.7l84.7 80.9c48.8 46.6 76.4 111.2 76.4 178.7C384 434 306 512 209.7 512H192C86 512 0 426 0 320v-3.8c0-48.8 19.4-95.6 53.9-130.1l3.5-3.5c4.2-4.2 10-6.6 16-6.6 12.5 0 22.6 10.1 22.6 22.6V288c0 35.3 28.7 64 64 64s64-28.7 64-64v-3.9c0-18-7.2-35.3-19.9-48l-38.6-38.6c-24-24-37.5-56.7-37.5-90.7 0-27.7 9-54.8 25.6-76.9"/></svg></span> </div> <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script> </aside> </div> <!-- Determine class according to configuration --> <!-- Header --> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <!-- Link to home --> <a href=https://vectorbt.pro/pvt_41531c19/ title="VectorBT® PRO" class="md-header__button md-logo" aria-label="VectorBT® PRO" data-md-component=logo> <img src=https://vectorbt.pro/pvt_41531c19/assets/logo/logo.svg alt=logo class=logo> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <!-- Header title --> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> VectorBT® PRO <span class=md-version> v2025.10.15 </span> <span class=unlock-icon><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M192 32c-35.3 0-64 28.7-64 64v64h192c35.3 0 64 28.7 64 64v224c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64V96c0-70.7 57.3-128 128-128 63.5 0 116.1 46.1 126.2 106.7 2.9 17.4-8.8 33.9-26.3 36.9S258 102.8 255 85.3C250 55.1 223.7 32 192 32m40 328c13.3 0 24-10.7 24-24s-10.7-24-24-24h-80c-13.3 0-24 10.7-24 24s10.7 24 24 24z"/></svg></span> </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> base </span> </div> </div> </div> <!-- Color palette --> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=custom-light data-md-color-primary=custom-light data-md-color-accent=custom-light aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <!-- Site language selector --> <!-- Button to open search modal --> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class=md-header__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=https://vectorbt.pro/pvt_41531c19/ class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=https://vectorbt.pro/pvt_41531c19/features/overview/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=https://vectorbt.pro/pvt_41531c19/tutorials/overview/ class=md-tabs__link> Tutorials </a> </li> <li class=md-tabs__item> <a href=https://vectorbt.pro/pvt_41531c19/documentation/overview/ class=md-tabs__link> Documentation </a> </li> <li class=md-tabs__item> <a href=https://vectorbt.pro/pvt_41531c19/cookbook/overview/ class=md-tabs__link> Cookbook </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=https://vectorbt.pro/pvt_41531c19/api/ class=md-tabs__link> API </a> </li> <li class=md-tabs__item> <a href=https://vectorbt.pro/pvt_41531c19/terms/terms-of-use/ class=md-tabs__link> Terms </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://vectorbt.pro/pvt_41531c19/ title="VectorBT® PRO" class="md-nav__button md-logo" aria-label="VectorBT® PRO" data-md-component=logo> <img src=https://vectorbt.pro/pvt_41531c19/assets/logo/logo.svg alt=logo class=logo> </a> VectorBT® PRO </label> <div class=md-nav__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/ class=md-nav__link> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/features/overview/ class=md-nav__link> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/tutorials/overview/ class=md-nav__link> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/documentation/overview/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/cookbook/overview/ class=md-nav__link> <span class=md-ellipsis> Cookbook </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8zm4 18H6V4h7v5h5zm-8.46-4.35 2.09 2.09L10.35 19 7 15.65l3.35-3.35 1.28 1.26zm7.46 0L13.65 19l-1.27-1.26 2.09-2.09-2.09-2.09 1.27-1.26z"/></svg> <span class=md-ellipsis> API </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/_dtypes/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h6v-2H6V4h7v5h5v3h2V8l-6-6m4 12a.26.26 0 0 0-.26.21l-.19 1.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11 0-.24 0-.31.13l-1 1.73c-.06.11-.04.24.06.32l1.06.82a4.2 4.2 0 0 0 0 1l-1.06.82a.26.26 0 0 0-.06.32l1 1.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19 1.32c.02.12.12.21.26.21h2c.11 0 .22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13 0 .26 0 .33-.13l1-1.73a.26.26 0 0 0-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5s-.01-.33-.04-.5l1.06-.82a.26.26 0 0 0 .06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236 0 0 0 20 14m-1 3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.84 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5"/></svg> <span class=md-ellipsis> _dtypes </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/_opt_deps/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h6v-2H6V4h7v5h5v3h2V8l-6-6m4 12a.26.26 0 0 0-.26.21l-.19 1.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11 0-.24 0-.31.13l-1 1.73c-.06.11-.04.24.06.32l1.06.82a4.2 4.2 0 0 0 0 1l-1.06.82a.26.26 0 0 0-.06.32l1 1.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19 1.32c.02.12.12.21.26.21h2c.11 0 .22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13 0 .26 0 .33-.13l1-1.73a.26.26 0 0 0-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5s-.01-.33-.04-.5l1.06-.82a.26.26 0 0 0 .06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236 0 0 0 20 14m-1 3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.84 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5"/></svg> <span class=md-ellipsis> _opt_deps </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h6v-2H6V4h7v5h5v3h2V8l-6-6m4 12a.26.26 0 0 0-.26.21l-.19 1.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11 0-.24 0-.31.13l-1 1.73c-.06.11-.04.24.06.32l1.06.82a4.2 4.2 0 0 0 0 1l-1.06.82a.26.26 0 0 0-.06.32l1 1.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19 1.32c.02.12.12.21.26.21h2c.11 0 .22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13 0 .26 0 .33-.13l1-1.73a.26.26 0 0 0-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5s-.01-.33-.04-.5l1.06-.82a.26.26 0 0 0 .06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236 0 0 0 20 14m-1 3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.84 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5"/></svg> <span class=md-ellipsis> _settings </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/accessors/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 5H8l4-4 4 4h-3v4.43c-.75.46-1.42 1.03-2 1.69zm11 6-4-4v3a6.747 6.747 0 0 0-7 6.17A3.006 3.006 0 0 0 9.17 20 3.006 3.006 0 0 0 13 21.83 3.01 3.01 0 0 0 14.83 18c-.3-.86-.98-1.53-1.83-1.83.47-4 4.47-4.2 4.95-4.2v3zm-11.37.59A7.63 7.63 0 0 0 6 10V7l-4 4 4 4v-3c1.34.03 2.63.5 3.64 1.4.25-.64.58-1.25.99-1.81"/></svg> <span class=md-ellipsis> accessors </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/mcp_server/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8zm4 18H6V4h7v5h5zm-8.46-4.35 2.09 2.09L10.35 19 7 15.65l3.35-3.35 1.28 1.26zm7.46 0L13.65 19l-1.27-1.26 2.09-2.09-2.09-2.09 1.27-1.26z"/></svg> <span class=md-ellipsis> mcp_server </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/base/ class=md-nav__link> <span class=md-ellipsis> base </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/data/ class=md-nav__link> <span class=md-ellipsis> data </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/generic/ class=md-nav__link> <span class=md-ellipsis> generic </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/indicators/ class=md-nav__link> <span class=md-ellipsis> indicators </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/knowledge/ class=md-nav__link> <span class=md-ellipsis> knowledge </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/labels/ class=md-nav__link> <span class=md-ellipsis> labels </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/ohlcv/ class=md-nav__link> <span class=md-ellipsis> ohlcv </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_14 checked> <label class=md-nav__link for=__nav_6_14 id=__nav_6_14_label tabindex=0> <span class=md-ellipsis> portfolio </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_14_label aria-expanded=true> <label class=md-nav__title for=__nav_6_14> <span class="md-nav__icon md-icon"></span> portfolio </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.45 15.18 22 7.31V21H2V3h2v12.54L9.5 6 16 9.78l4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L4.31 19h2.26l4.39-7.56z"/></svg> <span class=md-ellipsis> portfolio </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3M4 5h2v2H4m14 0h2v2h-2M8 17h2v2H8Z"/></svg> <span class=md-ellipsis> base </span> <span class="md-nav__icon md-icon"></span> </label> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/ class="md-nav__link md-nav__link--active"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3M4 5h2v2H4m14 0h2v2h-2M8 17h2v2H8Z"/></svg> <span class=md-ellipsis> base </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.returns_acc_config class=md-nav__link> <span class=md-ellipsis> returns_acc_config </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.shortcut_config class=md-nav__link> <span class=md-ellipsis> shortcut_config </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.fix_wrapper_for_records class=md-nav__link> <span class=md-ellipsis> fix_wrapper_for_records </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.records_indexing_func class=md-nav__link> <span class=md-ellipsis> records_indexing_func </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.records_resample_func class=md-nav__link> <span class=md-ellipsis> records_resample_func </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.returns_resample_func class=md-nav__link> <span class=md-ellipsis> returns_resample_func </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.MetaPortfolio class=md-nav__link> <span class=md-ellipsis> MetaPortfolio </span> </a> <nav class=md-nav aria-label=MetaPortfolio> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.MetaPortfolio.in_output_config class=md-nav__link> <span class=md-ellipsis> in_output_config </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio class=md-nav__link> <span class=md-ellipsis> Portfolio </span> </a> <nav class=md-nav aria-label=Portfolio> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.allocations class=md-nav__link> <span class=md-ellipsis> allocations </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.alpha class=md-nav__link> <span class=md-ellipsis> alpha </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.annual_returns class=md-nav__link> <span class=md-ellipsis> annual_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.annualized_return class=md-nav__link> <span class=md-ellipsis> annualized_return </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.annualized_volatility class=md-nav__link> <span class=md-ellipsis> annualized_volatility </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.apply_weights class=md-nav__link> <span class=md-ellipsis> apply_weights </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.asset_flow class=md-nav__link> <span class=md-ellipsis> asset_flow </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.asset_pnl class=md-nav__link> <span class=md-ellipsis> asset_pnl </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.asset_returns class=md-nav__link> <span class=md-ellipsis> asset_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.asset_value class=md-nav__link> <span class=md-ellipsis> asset_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.assets class=md-nav__link> <span class=md-ellipsis> assets </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.beta class=md-nav__link> <span class=md-ellipsis> beta </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.bm_close class=md-nav__link> <span class=md-ellipsis> bm_close </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.bm_returns class=md-nav__link> <span class=md-ellipsis> bm_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.bm_value class=md-nav__link> <span class=md-ellipsis> bm_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.build_in_output_config_doc class=md-nav__link> <span class=md-ellipsis> build_in_output_config_doc </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.call_seq class=md-nav__link> <span class=md-ellipsis> call_seq </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.calmar_ratio class=md-nav__link> <span class=md-ellipsis> calmar_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.capture_ratio class=md-nav__link> <span class=md-ellipsis> capture_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.cash class=md-nav__link> <span class=md-ellipsis> cash </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.cash_deposits class=md-nav__link> <span class=md-ellipsis> cash_deposits </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.cash_deposits_as_input class=md-nav__link> <span class=md-ellipsis> cash_deposits_as_input </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.cash_earnings class=md-nav__link> <span class=md-ellipsis> cash_earnings </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.cash_flow class=md-nav__link> <span class=md-ellipsis> cash_flow </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.cash_sharing class=md-nav__link> <span class=md-ellipsis> cash_sharing </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.close class=md-nav__link> <span class=md-ellipsis> close </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.close_flex class=md-nav__link> <span class=md-ellipsis> close_flex </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.column_stack class=md-nav__link> <span class=md-ellipsis> column_stack </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.column_stack_in_outputs class=md-nav__link> <span class=md-ellipsis> column_stack_in_outputs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.column_stack_objs class=md-nav__link> <span class=md-ellipsis> column_stack_objs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.cond_value_at_risk class=md-nav__link> <span class=md-ellipsis> cond_value_at_risk </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.cumulative_returns class=md-nav__link> <span class=md-ellipsis> cumulative_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.daily_log_returns class=md-nav__link> <span class=md-ellipsis> daily_log_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.daily_returns class=md-nav__link> <span class=md-ellipsis> daily_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.debt class=md-nav__link> <span class=md-ellipsis> debt </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.deflated_sharpe_ratio class=md-nav__link> <span class=md-ellipsis> deflated_sharpe_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.disable_weights class=md-nav__link> <span class=md-ellipsis> disable_weights </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.down_capture_ratio class=md-nav__link> <span class=md-ellipsis> down_capture_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.downside_risk class=md-nav__link> <span class=md-ellipsis> downside_risk </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.drawdown class=md-nav__link> <span class=md-ellipsis> drawdown </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.drawdowns class=md-nav__link> <span class=md-ellipsis> drawdowns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.drawdowns_cls class=md-nav__link> <span class=md-ellipsis> drawdowns_cls </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.entry_trades class=md-nav__link> <span class=md-ellipsis> entry_trades </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.entry_trades_cls class=md-nav__link> <span class=md-ellipsis> entry_trades_cls </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.exit_trades class=md-nav__link> <span class=md-ellipsis> exit_trades </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.exit_trades_cls class=md-nav__link> <span class=md-ellipsis> exit_trades_cls </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.filled_bm_close class=md-nav__link> <span class=md-ellipsis> filled_bm_close </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.filled_close class=md-nav__link> <span class=md-ellipsis> filled_close </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.fillna_close class=md-nav__link> <span class=md-ellipsis> fillna_close </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.final_value class=md-nav__link> <span class=md-ellipsis> final_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.free_cash class=md-nav__link> <span class=md-ellipsis> free_cash </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.free_cash_flow class=md-nav__link> <span class=md-ellipsis> free_cash_flow </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.from_def_order_func class=md-nav__link> <span class=md-ellipsis> from_def_order_func </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.from_holding class=md-nav__link> <span class=md-ellipsis> from_holding </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.from_optimizer class=md-nav__link> <span class=md-ellipsis> from_optimizer </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.from_order_func class=md-nav__link> <span class=md-ellipsis> from_order_func </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.from_orders class=md-nav__link> <span class=md-ellipsis> from_orders </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.from_random_signals class=md-nav__link> <span class=md-ellipsis> from_random_signals </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.from_signals class=md-nav__link> <span class=md-ellipsis> from_signals </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_allocations class=md-nav__link> <span class=md-ellipsis> get_allocations </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_alpha class=md-nav__link> <span class=md-ellipsis> get_alpha </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_annual_returns class=md-nav__link> <span class=md-ellipsis> get_annual_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_annualized_return class=md-nav__link> <span class=md-ellipsis> get_annualized_return </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_annualized_volatility class=md-nav__link> <span class=md-ellipsis> get_annualized_volatility </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_asset_flow class=md-nav__link> <span class=md-ellipsis> get_asset_flow </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_asset_pnl class=md-nav__link> <span class=md-ellipsis> get_asset_pnl </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_asset_returns class=md-nav__link> <span class=md-ellipsis> get_asset_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_asset_value class=md-nav__link> <span class=md-ellipsis> get_asset_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_assets class=md-nav__link> <span class=md-ellipsis> get_assets </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_beta class=md-nav__link> <span class=md-ellipsis> get_beta </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_bm_returns class=md-nav__link> <span class=md-ellipsis> get_bm_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_bm_value class=md-nav__link> <span class=md-ellipsis> get_bm_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_calmar_ratio class=md-nav__link> <span class=md-ellipsis> get_calmar_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_capture_ratio class=md-nav__link> <span class=md-ellipsis> get_capture_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_cash class=md-nav__link> <span class=md-ellipsis> get_cash </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_cash_deposits class=md-nav__link> <span class=md-ellipsis> get_cash_deposits </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_cash_earnings class=md-nav__link> <span class=md-ellipsis> get_cash_earnings </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_cash_flow class=md-nav__link> <span class=md-ellipsis> get_cash_flow </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_cond_value_at_risk class=md-nav__link> <span class=md-ellipsis> get_cond_value_at_risk </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_cumulative_returns class=md-nav__link> <span class=md-ellipsis> get_cumulative_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_daily_returns class=md-nav__link> <span class=md-ellipsis> get_daily_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_deflated_sharpe_ratio class=md-nav__link> <span class=md-ellipsis> get_deflated_sharpe_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_down_capture_ratio class=md-nav__link> <span class=md-ellipsis> get_down_capture_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_downside_risk class=md-nav__link> <span class=md-ellipsis> get_downside_risk </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_drawdown class=md-nav__link> <span class=md-ellipsis> get_drawdown </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_drawdowns class=md-nav__link> <span class=md-ellipsis> get_drawdowns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_entry_trades class=md-nav__link> <span class=md-ellipsis> get_entry_trades </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_exit_trades class=md-nav__link> <span class=md-ellipsis> get_exit_trades </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_filled_bm_close class=md-nav__link> <span class=md-ellipsis> get_filled_bm_close </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_filled_close class=md-nav__link> <span class=md-ellipsis> get_filled_close </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_final_value class=md-nav__link> <span class=md-ellipsis> get_final_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_gross_exposure class=md-nav__link> <span class=md-ellipsis> get_gross_exposure </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_in_output class=md-nav__link> <span class=md-ellipsis> get_in_output </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_information_ratio class=md-nav__link> <span class=md-ellipsis> get_information_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_init_cash class=md-nav__link> <span class=md-ellipsis> get_init_cash </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_init_position class=md-nav__link> <span class=md-ellipsis> get_init_position </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_init_position_value class=md-nav__link> <span class=md-ellipsis> get_init_position_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_init_price class=md-nav__link> <span class=md-ellipsis> get_init_price </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_init_value class=md-nav__link> <span class=md-ellipsis> get_init_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_input_value class=md-nav__link> <span class=md-ellipsis> get_input_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_logs class=md-nav__link> <span class=md-ellipsis> get_logs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_long_view class=md-nav__link> <span class=md-ellipsis> get_long_view </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_market_returns class=md-nav__link> <span class=md-ellipsis> get_market_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_market_value class=md-nav__link> <span class=md-ellipsis> get_market_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_max_drawdown class=md-nav__link> <span class=md-ellipsis> get_max_drawdown </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_net_exposure class=md-nav__link> <span class=md-ellipsis> get_net_exposure </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_omega_ratio class=md-nav__link> <span class=md-ellipsis> get_omega_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_orders class=md-nav__link> <span class=md-ellipsis> get_orders </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_position_coverage class=md-nav__link> <span class=md-ellipsis> get_position_coverage </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_position_entry_price class=md-nav__link> <span class=md-ellipsis> get_position_entry_price </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_position_exit_price class=md-nav__link> <span class=md-ellipsis> get_position_exit_price </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_position_mask class=md-nav__link> <span class=md-ellipsis> get_position_mask </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_positions class=md-nav__link> <span class=md-ellipsis> get_positions </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_prob_sharpe_ratio class=md-nav__link> <span class=md-ellipsis> get_prob_sharpe_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_qs class=md-nav__link> <span class=md-ellipsis> get_qs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_returns class=md-nav__link> <span class=md-ellipsis> get_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_returns_acc class=md-nav__link> <span class=md-ellipsis> get_returns_acc </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio class=md-nav__link> <span class=md-ellipsis> get_sharpe_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio_std class=md-nav__link> <span class=md-ellipsis> get_sharpe_ratio_std </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_short_view class=md-nav__link> <span class=md-ellipsis> get_short_view </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_signals class=md-nav__link> <span class=md-ellipsis> get_signals </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_sortino_ratio class=md-nav__link> <span class=md-ellipsis> get_sortino_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_tail_ratio class=md-nav__link> <span class=md-ellipsis> get_tail_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_total_cash_deposits class=md-nav__link> <span class=md-ellipsis> get_total_cash_deposits </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_total_cash_earnings class=md-nav__link> <span class=md-ellipsis> get_total_cash_earnings </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_total_market_return class=md-nav__link> <span class=md-ellipsis> get_total_market_return </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_total_profit class=md-nav__link> <span class=md-ellipsis> get_total_profit </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_total_return class=md-nav__link> <span class=md-ellipsis> get_total_return </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_trade_history class=md-nav__link> <span class=md-ellipsis> get_trade_history </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_trades class=md-nav__link> <span class=md-ellipsis> get_trades </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_up_capture_ratio class=md-nav__link> <span class=md-ellipsis> get_up_capture_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_value class=md-nav__link> <span class=md-ellipsis> get_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_value_at_risk class=md-nav__link> <span class=md-ellipsis> get_value_at_risk </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.get_weights class=md-nav__link> <span class=md-ellipsis> get_weights </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.gross_exposure class=md-nav__link> <span class=md-ellipsis> gross_exposure </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.high class=md-nav__link> <span class=md-ellipsis> high </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.high_flex class=md-nav__link> <span class=md-ellipsis> high_flex </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.in_output_config class=md-nav__link> <span class=md-ellipsis> in_output_config </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.in_outputs class=md-nav__link> <span class=md-ellipsis> in_outputs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func class=md-nav__link> <span class=md-ellipsis> in_outputs_indexing_func </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.index_obj class=md-nav__link> <span class=md-ellipsis> index_obj </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.indexing_func class=md-nav__link> <span class=md-ellipsis> indexing_func </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.information_ratio class=md-nav__link> <span class=md-ellipsis> information_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.init_cash class=md-nav__link> <span class=md-ellipsis> init_cash </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.init_position class=md-nav__link> <span class=md-ellipsis> init_position </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.init_position_value class=md-nav__link> <span class=md-ellipsis> init_position_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.init_price class=md-nav__link> <span class=md-ellipsis> init_price </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.init_value class=md-nav__link> <span class=md-ellipsis> init_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.input_value class=md-nav__link> <span class=md-ellipsis> input_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.locked_cash class=md-nav__link> <span class=md-ellipsis> locked_cash </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.log_records class=md-nav__link> <span class=md-ellipsis> log_records </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.log_returns class=md-nav__link> <span class=md-ellipsis> log_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.logs class=md-nav__link> <span class=md-ellipsis> logs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.logs_cls class=md-nav__link> <span class=md-ellipsis> logs_cls </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.long_allocations class=md-nav__link> <span class=md-ellipsis> long_allocations </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.long_asset_flow class=md-nav__link> <span class=md-ellipsis> long_asset_flow </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.long_asset_value class=md-nav__link> <span class=md-ellipsis> long_asset_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.long_assets class=md-nav__link> <span class=md-ellipsis> long_assets </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.long_gross_exposure class=md-nav__link> <span class=md-ellipsis> long_gross_exposure </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.long_position_coverage class=md-nav__link> <span class=md-ellipsis> long_position_coverage </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.long_position_mask class=md-nav__link> <span class=md-ellipsis> long_position_mask </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.long_view class=md-nav__link> <span class=md-ellipsis> long_view </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.low class=md-nav__link> <span class=md-ellipsis> low </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.low_flex class=md-nav__link> <span class=md-ellipsis> low_flex </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.market_returns class=md-nav__link> <span class=md-ellipsis> market_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.market_value class=md-nav__link> <span class=md-ellipsis> market_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.matches_field_options class=md-nav__link> <span class=md-ellipsis> matches_field_options </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.max_drawdown class=md-nav__link> <span class=md-ellipsis> max_drawdown </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.metrics class=md-nav__link> <span class=md-ellipsis> metrics </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.net_exposure class=md-nav__link> <span class=md-ellipsis> net_exposure </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.omega_ratio class=md-nav__link> <span class=md-ellipsis> omega_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.open class=md-nav__link> <span class=md-ellipsis> open </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.open_flex class=md-nav__link> <span class=md-ellipsis> open_flex </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.order_records class=md-nav__link> <span class=md-ellipsis> order_records </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.orders class=md-nav__link> <span class=md-ellipsis> orders </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.orders_cls class=md-nav__link> <span class=md-ellipsis> orders_cls </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.override_in_output_config_doc class=md-nav__link> <span class=md-ellipsis> override_in_output_config_doc </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.parse_field_options class=md-nav__link> <span class=md-ellipsis> parse_field_options </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot class=md-nav__link> <span class=md-ellipsis> plot </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_allocations class=md-nav__link> <span class=md-ellipsis> plot_allocations </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_asset_flow class=md-nav__link> <span class=md-ellipsis> plot_asset_flow </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_asset_value class=md-nav__link> <span class=md-ellipsis> plot_asset_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_assets class=md-nav__link> <span class=md-ellipsis> plot_assets </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_cash class=md-nav__link> <span class=md-ellipsis> plot_cash </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_cash_flow class=md-nav__link> <span class=md-ellipsis> plot_cash_flow </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_cumulative_returns class=md-nav__link> <span class=md-ellipsis> plot_cumulative_returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_drawdowns class=md-nav__link> <span class=md-ellipsis> plot_drawdowns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_gross_exposure class=md-nav__link> <span class=md-ellipsis> plot_gross_exposure </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_net_exposure class=md-nav__link> <span class=md-ellipsis> plot_net_exposure </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_orders class=md-nav__link> <span class=md-ellipsis> plot_orders </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_trade_pnl class=md-nav__link> <span class=md-ellipsis> plot_trade_pnl </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_trade_signals class=md-nav__link> <span class=md-ellipsis> plot_trade_signals </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_trades class=md-nav__link> <span class=md-ellipsis> plot_trades </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_underwater class=md-nav__link> <span class=md-ellipsis> plot_underwater </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plot_value class=md-nav__link> <span class=md-ellipsis> plot_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.plots_defaults class=md-nav__link> <span class=md-ellipsis> plots_defaults </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.position class=md-nav__link> <span class=md-ellipsis> position </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.position_coverage class=md-nav__link> <span class=md-ellipsis> position_coverage </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.position_entry_price class=md-nav__link> <span class=md-ellipsis> position_entry_price </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.position_exit_price class=md-nav__link> <span class=md-ellipsis> position_exit_price </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.position_mask class=md-nav__link> <span class=md-ellipsis> position_mask </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.positions class=md-nav__link> <span class=md-ellipsis> positions </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.positions_cls class=md-nav__link> <span class=md-ellipsis> positions_cls </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.post_resolve_attr class=md-nav__link> <span class=md-ellipsis> post_resolve_attr </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.pre_resolve_attr class=md-nav__link> <span class=md-ellipsis> pre_resolve_attr </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.prob_sharpe_ratio class=md-nav__link> <span class=md-ellipsis> prob_sharpe_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.qs class=md-nav__link> <span class=md-ellipsis> qs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.resample class=md-nav__link> <span class=md-ellipsis> resample </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.resample_in_outputs class=md-nav__link> <span class=md-ellipsis> resample_in_outputs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.resample_obj class=md-nav__link> <span class=md-ellipsis> resample_obj </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.resolve_shortcut_attr class=md-nav__link> <span class=md-ellipsis> resolve_shortcut_attr </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.returns class=md-nav__link> <span class=md-ellipsis> returns </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.returns_acc class=md-nav__link> <span class=md-ellipsis> returns_acc </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.returns_acc_defaults class=md-nav__link> <span class=md-ellipsis> returns_acc_defaults </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.returns_stats class=md-nav__link> <span class=md-ellipsis> returns_stats </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.row_stack class=md-nav__link> <span class=md-ellipsis> row_stack </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.row_stack_in_outputs class=md-nav__link> <span class=md-ellipsis> row_stack_in_outputs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.row_stack_objs class=md-nav__link> <span class=md-ellipsis> row_stack_objs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.sharpe_ratio class=md-nav__link> <span class=md-ellipsis> sharpe_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.sharpe_ratio_std class=md-nav__link> <span class=md-ellipsis> sharpe_ratio_std </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.short_allocations class=md-nav__link> <span class=md-ellipsis> short_allocations </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.short_asset_flow class=md-nav__link> <span class=md-ellipsis> short_asset_flow </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.short_asset_value class=md-nav__link> <span class=md-ellipsis> short_asset_value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.short_assets class=md-nav__link> <span class=md-ellipsis> short_assets </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.short_gross_exposure class=md-nav__link> <span class=md-ellipsis> short_gross_exposure </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.short_position_coverage class=md-nav__link> <span class=md-ellipsis> short_position_coverage </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.short_position_mask class=md-nav__link> <span class=md-ellipsis> short_position_mask </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.short_view class=md-nav__link> <span class=md-ellipsis> short_view </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.signals class=md-nav__link> <span class=md-ellipsis> signals </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.sortino_ratio class=md-nav__link> <span class=md-ellipsis> sortino_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.stats_defaults class=md-nav__link> <span class=md-ellipsis> stats_defaults </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.subplots class=md-nav__link> <span class=md-ellipsis> subplots </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.tail_ratio class=md-nav__link> <span class=md-ellipsis> tail_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.total_cash_deposits class=md-nav__link> <span class=md-ellipsis> total_cash_deposits </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.total_cash_earnings class=md-nav__link> <span class=md-ellipsis> total_cash_earnings </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.total_market_return class=md-nav__link> <span class=md-ellipsis> total_market_return </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.total_profit class=md-nav__link> <span class=md-ellipsis> total_profit </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.total_return class=md-nav__link> <span class=md-ellipsis> total_return </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.trade_history class=md-nav__link> <span class=md-ellipsis> trade_history </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.trades class=md-nav__link> <span class=md-ellipsis> trades </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.trades_cls class=md-nav__link> <span class=md-ellipsis> trades_cls </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.trades_type class=md-nav__link> <span class=md-ellipsis> trades_type </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.up_capture_ratio class=md-nav__link> <span class=md-ellipsis> up_capture_ratio </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.use_in_outputs class=md-nav__link> <span class=md-ellipsis> use_in_outputs </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.value class=md-nav__link> <span class=md-ellipsis> value </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.value_at_risk class=md-nav__link> <span class=md-ellipsis> value_at_risk </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.weights class=md-nav__link> <span class=md-ellipsis> weights </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.wrap_obj class=md-nav__link> <span class=md-ellipsis> wrap_obj </span> </a> </li> <li class=md-nav__item> <a href=#vectorbtpro.portfolio.base.Portfolio.year_freq class=md-nav__link> <span class=md-ellipsis> year_freq </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/call_seq/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8zm4 18H6V4h7v5h5zm-8.46-4.35 2.09 2.09L10.35 19 7 15.65l3.35-3.35 1.28 1.26zm7.46 0L13.65 19l-1.27-1.26 2.09-2.09-2.09-2.09 1.27-1.26z"/></svg> <span class=md-ellipsis> call_seq </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/chunking/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16v-3h-3v9h-2V2h2v9h3V8l4 4zM2 12l4 4v-3h3v9h2V2H9v9H6V8z"/></svg> <span class=md-ellipsis> chunking </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/decorators/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3zm2 2h2v2H4zm14 2h2v2h-2zm0 8v3h-3v2h3v3h2v-3h3v-2h-3v-3zM8 17h2v2H8z"/></svg> <span class=md-ellipsis> decorators </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3zm-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1"/></svg> <span class=md-ellipsis> enums </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/logs/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4zm0 6v4h8v-4zM8 4v4h8V4z"/></svg> <span class=md-ellipsis> logs </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/orders/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4zm0 6v4h8v-4zM8 4v4h8V4z"/></svg> <span class=md-ellipsis> orders </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 4V3a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6h1v4H9v11a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-9h8V4z"/></svg> <span class=md-ellipsis> preparing </span> </a> </li> <li class=md-nav__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4zm0 6v4h8v-4zM8 4v4h8V4z"/></svg> <span class=md-ellipsis> trades </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/ class=md-nav__link> <span class=md-ellipsis> nb </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/pfopt/ class=md-nav__link> <span class=md-ellipsis> pfopt </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/px/ class=md-nav__link> <span class=md-ellipsis> px </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/records/ class=md-nav__link> <span class=md-ellipsis> records </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/registries/ class=md-nav__link> <span class=md-ellipsis> registries </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/returns/ class=md-nav__link> <span class=md-ellipsis> returns </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/signals/ class=md-nav__link> <span class=md-ellipsis> signals </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/api/utils/ class=md-nav__link> <span class=md-ellipsis> utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://vectorbt.pro/pvt_41531c19/terms/terms-of-use/ class=md-nav__link> <span class=md-ellipsis> Terms </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=https://vectorbt.pro/pvt_41531c19/api/ class=md-path__link> <span class=md-ellipsis> API </span> </a> </li> <li class=md-path__item> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/ class=md-path__link> <span class=md-ellipsis> portfolio </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <nav class=md-tags> <span class=md-tag>base</span> <span class=md-tag>portfolio</span> </nav> <h1 id=vectorbtpro.portfolio.base><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3M4 5h2v2H4m14 0h2v2h-2M8 17h2v2H8Z"/></svg></span> base <span class=dobjtype>module</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base title="Permanent link">&para;</a></h1> <p>Module providing the base class for simulating a portfolio and measuring its performance.</p> <hr> <h2 id=vectorbtpro.portfolio.base.returns_acc_config>returns_acc_config <span class=dobjtype>ReadonlyConfig</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L189-L217 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.returns_acc_config title="Permanent link">&para;</a></h2> <p>Configuration for returns accessor methods attached to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>ReadonlyConfig</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        <span class=n>source_name</span><span class=o>=</span><span class=s1>&#39;daily&#39;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=p>),</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>annual_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>        <span class=n>source_name</span><span class=o>=</span><span class=s1>&#39;annual&#39;</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=p>),</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>cumulative_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>        <span class=n>source_name</span><span class=o>=</span><span class=s1>&#39;cumulative&#39;</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    <span class=p>),</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>    <span class=n>annualized_return</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>        <span class=n>source_name</span><span class=o>=</span><span class=s1>&#39;annualized&#39;</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>    <span class=p>),</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>    <span class=n>annualized_volatility</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>    <span class=n>calmar_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>    <span class=n>omega_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>    <span class=n>sharpe_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>    <span class=n>sharpe_ratio_std</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>    <span class=n>prob_sharpe_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>    <span class=n>deflated_sharpe_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>    <span class=n>downside_risk</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a>    <span class=n>sortino_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a>    <span class=n>information_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a>    <span class=n>beta</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a>    <span class=n>alpha</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a>    <span class=n>tail_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a>    <span class=n>value_at_risk</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a>    <span class=n>cond_value_at_risk</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a>    <span class=n>capture_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a>    <span class=n>up_capture_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a>    <span class=n>down_capture_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a>    <span class=n>drawdown</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a>    <span class=n>max_drawdown</span><span class=o>=</span><span class=nb>dict</span><span class=p>()</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a><span class=p>)</span>
</span></code></pre></div> <hr> <h2 id=vectorbtpro.portfolio.base.shortcut_config>shortcut_config <span class=dobjtype>ReadonlyConfig</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L228-L465 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.shortcut_config title="Permanent link">&para;</a></h2> <p>Configuration for shortcut properties attached to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>ReadonlyConfig</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>filled_close</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>        <span class=n>decorator</span><span class=o>=&lt;</span><span class=k>class</span><span class=w> </span><span class=err>&#39;</span><span class=nc>vectorbtpro</span><span class=o>.</span><span class=n>utils</span><span class=o>.</span><span class=n>decorators</span><span class=o>.</span><span class=n>cached_property</span><span class=s1>&#39;&gt;</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=p>),</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>    <span class=n>filled_bm_close</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>        <span class=n>decorator</span><span class=o>=&lt;</span><span class=k>class</span><span class=w> </span><span class=err>&#39;</span><span class=nc>vectorbtpro</span><span class=o>.</span><span class=n>utils</span><span class=o>.</span><span class=n>decorators</span><span class=o>.</span><span class=n>cached_property</span><span class=s1>&#39;&gt;</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>    <span class=p>),</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>    <span class=n>weights</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>        <span class=n>decorator</span><span class=o>=&lt;</span><span class=k>class</span><span class=w> </span><span class=err>&#39;</span><span class=nc>vectorbtpro</span><span class=o>.</span><span class=n>utils</span><span class=o>.</span><span class=n>decorators</span><span class=o>.</span><span class=n>cached_property</span><span class=s1>&#39;&gt;,</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>    <span class=p>),</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>    <span class=n>long_view</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>    <span class=p>),</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>    <span class=n>short_view</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>    <span class=p>),</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a>    <span class=n>orders</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;records&#39;</span><span class=p>,</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>        <span class=n>field_aliases</span><span class=o>=</span><span class=p>(</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>            <span class=s1>&#39;order_records&#39;</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a>        <span class=p>),</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>        <span class=n>wrap_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=o>&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>        <span class=n>indexing_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_indexing_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;orders_cls&#39;</span><span class=p>),</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>        <span class=n>resample_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_resample_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;orders_cls&#39;</span><span class=p>)</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a>    <span class=p>),</span>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a>    <span class=n>logs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;records&#39;</span><span class=p>,</span>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a>        <span class=n>field_aliases</span><span class=o>=</span><span class=p>(</span>
</span><span id=__span-1-33><a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a>            <span class=s1>&#39;log_records&#39;</span>
</span><span id=__span-1-34><a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a>        <span class=p>),</span>
</span><span id=__span-1-35><a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a>        <span class=n>wrap_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=o>&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-1-36><a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a>        <span class=n>indexing_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_indexing_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;logs_cls&#39;</span><span class=p>),</span>
</span><span id=__span-1-37><a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a>        <span class=n>resample_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_resample_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;logs_cls&#39;</span><span class=p>)</span>
</span><span id=__span-1-38><a id=__codelineno-1-38 name=__codelineno-1-38 href=#__codelineno-1-38></a>    <span class=p>),</span>
</span><span id=__span-1-39><a id=__codelineno-1-39 name=__codelineno-1-39 href=#__codelineno-1-39></a>    <span class=n>entry_trades</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-40><a id=__codelineno-1-40 name=__codelineno-1-40 href=#__codelineno-1-40></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;records&#39;</span><span class=p>,</span>
</span><span id=__span-1-41><a id=__codelineno-1-41 name=__codelineno-1-41 href=#__codelineno-1-41></a>        <span class=n>field_aliases</span><span class=o>=</span><span class=p>(</span>
</span><span id=__span-1-42><a id=__codelineno-1-42 name=__codelineno-1-42 href=#__codelineno-1-42></a>            <span class=s1>&#39;entry_trade_records&#39;</span>
</span><span id=__span-1-43><a id=__codelineno-1-43 name=__codelineno-1-43 href=#__codelineno-1-43></a>        <span class=p>),</span>
</span><span id=__span-1-44><a id=__codelineno-1-44 name=__codelineno-1-44 href=#__codelineno-1-44></a>        <span class=n>wrap_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=o>&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-1-45><a id=__codelineno-1-45 name=__codelineno-1-45 href=#__codelineno-1-45></a>        <span class=n>indexing_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_indexing_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;entry_trades_cls&#39;</span><span class=p>),</span>
</span><span id=__span-1-46><a id=__codelineno-1-46 name=__codelineno-1-46 href=#__codelineno-1-46></a>        <span class=n>resample_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_resample_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;entry_trades_cls&#39;</span><span class=p>)</span>
</span><span id=__span-1-47><a id=__codelineno-1-47 name=__codelineno-1-47 href=#__codelineno-1-47></a>    <span class=p>),</span>
</span><span id=__span-1-48><a id=__codelineno-1-48 name=__codelineno-1-48 href=#__codelineno-1-48></a>    <span class=n>exit_trades</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-49><a id=__codelineno-1-49 name=__codelineno-1-49 href=#__codelineno-1-49></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;records&#39;</span><span class=p>,</span>
</span><span id=__span-1-50><a id=__codelineno-1-50 name=__codelineno-1-50 href=#__codelineno-1-50></a>        <span class=n>field_aliases</span><span class=o>=</span><span class=p>(</span>
</span><span id=__span-1-51><a id=__codelineno-1-51 name=__codelineno-1-51 href=#__codelineno-1-51></a>            <span class=s1>&#39;exit_trade_records&#39;</span>
</span><span id=__span-1-52><a id=__codelineno-1-52 name=__codelineno-1-52 href=#__codelineno-1-52></a>        <span class=p>),</span>
</span><span id=__span-1-53><a id=__codelineno-1-53 name=__codelineno-1-53 href=#__codelineno-1-53></a>        <span class=n>wrap_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=o>&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-1-54><a id=__codelineno-1-54 name=__codelineno-1-54 href=#__codelineno-1-54></a>        <span class=n>indexing_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_indexing_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;exit_trades_cls&#39;</span><span class=p>),</span>
</span><span id=__span-1-55><a id=__codelineno-1-55 name=__codelineno-1-55 href=#__codelineno-1-55></a>        <span class=n>resample_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_resample_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;exit_trades_cls&#39;</span><span class=p>)</span>
</span><span id=__span-1-56><a id=__codelineno-1-56 name=__codelineno-1-56 href=#__codelineno-1-56></a>    <span class=p>),</span>
</span><span id=__span-1-57><a id=__codelineno-1-57 name=__codelineno-1-57 href=#__codelineno-1-57></a>    <span class=n>trades</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-58><a id=__codelineno-1-58 name=__codelineno-1-58 href=#__codelineno-1-58></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;records&#39;</span><span class=p>,</span>
</span><span id=__span-1-59><a id=__codelineno-1-59 name=__codelineno-1-59 href=#__codelineno-1-59></a>        <span class=n>field_aliases</span><span class=o>=</span><span class=p>(</span>
</span><span id=__span-1-60><a id=__codelineno-1-60 name=__codelineno-1-60 href=#__codelineno-1-60></a>            <span class=s1>&#39;trade_records&#39;</span>
</span><span id=__span-1-61><a id=__codelineno-1-61 name=__codelineno-1-61 href=#__codelineno-1-61></a>        <span class=p>),</span>
</span><span id=__span-1-62><a id=__codelineno-1-62 name=__codelineno-1-62 href=#__codelineno-1-62></a>        <span class=n>wrap_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=o>&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-1-63><a id=__codelineno-1-63 name=__codelineno-1-63 href=#__codelineno-1-63></a>        <span class=n>indexing_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_indexing_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;trades_cls&#39;</span><span class=p>),</span>
</span><span id=__span-1-64><a id=__codelineno-1-64 name=__codelineno-1-64 href=#__codelineno-1-64></a>        <span class=n>resample_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_resample_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;trades_cls&#39;</span><span class=p>)</span>
</span><span id=__span-1-65><a id=__codelineno-1-65 name=__codelineno-1-65 href=#__codelineno-1-65></a>    <span class=p>),</span>
</span><span id=__span-1-66><a id=__codelineno-1-66 name=__codelineno-1-66 href=#__codelineno-1-66></a>    <span class=n>trade_history</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-67><a id=__codelineno-1-67 name=__codelineno-1-67 href=#__codelineno-1-67></a>    <span class=n>signals</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-68><a id=__codelineno-1-68 name=__codelineno-1-68 href=#__codelineno-1-68></a>    <span class=n>positions</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-69><a id=__codelineno-1-69 name=__codelineno-1-69 href=#__codelineno-1-69></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;records&#39;</span><span class=p>,</span>
</span><span id=__span-1-70><a id=__codelineno-1-70 name=__codelineno-1-70 href=#__codelineno-1-70></a>        <span class=n>field_aliases</span><span class=o>=</span><span class=p>(</span>
</span><span id=__span-1-71><a id=__codelineno-1-71 name=__codelineno-1-71 href=#__codelineno-1-71></a>            <span class=s1>&#39;position_records&#39;</span>
</span><span id=__span-1-72><a id=__codelineno-1-72 name=__codelineno-1-72 href=#__codelineno-1-72></a>        <span class=p>),</span>
</span><span id=__span-1-73><a id=__codelineno-1-73 name=__codelineno-1-73 href=#__codelineno-1-73></a>        <span class=n>wrap_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=o>&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-1-74><a id=__codelineno-1-74 name=__codelineno-1-74 href=#__codelineno-1-74></a>        <span class=n>indexing_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_indexing_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;positions_cls&#39;</span><span class=p>),</span>
</span><span id=__span-1-75><a id=__codelineno-1-75 name=__codelineno-1-75 href=#__codelineno-1-75></a>        <span class=n>resample_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_resample_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;positions_cls&#39;</span><span class=p>)</span>
</span><span id=__span-1-76><a id=__codelineno-1-76 name=__codelineno-1-76 href=#__codelineno-1-76></a>    <span class=p>),</span>
</span><span id=__span-1-77><a id=__codelineno-1-77 name=__codelineno-1-77 href=#__codelineno-1-77></a>    <span class=n>drawdowns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-78><a id=__codelineno-1-78 name=__codelineno-1-78 href=#__codelineno-1-78></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;records&#39;</span><span class=p>,</span>
</span><span id=__span-1-79><a id=__codelineno-1-79 name=__codelineno-1-79 href=#__codelineno-1-79></a>        <span class=n>field_aliases</span><span class=o>=</span><span class=p>(</span>
</span><span id=__span-1-80><a id=__codelineno-1-80 name=__codelineno-1-80 href=#__codelineno-1-80></a>            <span class=s1>&#39;drawdown_records&#39;</span>
</span><span id=__span-1-81><a id=__codelineno-1-81 name=__codelineno-1-81 href=#__codelineno-1-81></a>        <span class=p>),</span>
</span><span id=__span-1-82><a id=__codelineno-1-82 name=__codelineno-1-82 href=#__codelineno-1-82></a>        <span class=n>wrap_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=o>&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-1-83><a id=__codelineno-1-83 name=__codelineno-1-83 href=#__codelineno-1-83></a>        <span class=n>indexing_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_indexing_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;drawdowns_cls&#39;</span><span class=p>,</span> <span class=n>groups_only</span><span class=o>=</span><span class=kc>True</span><span class=p>),</span>
</span><span id=__span-1-84><a id=__codelineno-1-84 name=__codelineno-1-84 href=#__codelineno-1-84></a>        <span class=n>resample_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>records_resample_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=s1>&#39;drawdowns_cls&#39;</span><span class=p>)</span>
</span><span id=__span-1-85><a id=__codelineno-1-85 name=__codelineno-1-85 href=#__codelineno-1-85></a>    <span class=p>),</span>
</span><span id=__span-1-86><a id=__codelineno-1-86 name=__codelineno-1-86 href=#__codelineno-1-86></a>    <span class=n>init_position</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-87><a id=__codelineno-1-87 name=__codelineno-1-87 href=#__codelineno-1-87></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span><span class=p>,</span>
</span><span id=__span-1-88><a id=__codelineno-1-88 name=__codelineno-1-88 href=#__codelineno-1-88></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-89><a id=__codelineno-1-89 name=__codelineno-1-89 href=#__codelineno-1-89></a>    <span class=p>),</span>
</span><span id=__span-1-90><a id=__codelineno-1-90 name=__codelineno-1-90 href=#__codelineno-1-90></a>    <span class=n>asset_flow</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-91><a id=__codelineno-1-91 name=__codelineno-1-91 href=#__codelineno-1-91></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-1-92><a id=__codelineno-1-92 name=__codelineno-1-92 href=#__codelineno-1-92></a>        <span class=n>resample_func</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span><span id=__span-1-93><a id=__codelineno-1-93 name=__codelineno-1-93 href=#__codelineno-1-93></a>        <span class=n>resample_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-94><a id=__codelineno-1-94 name=__codelineno-1-94 href=#__codelineno-1-94></a>            <span class=n>wrap_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-95><a id=__codelineno-1-95 name=__codelineno-1-95 href=#__codelineno-1-95></a>                <span class=n>fillna</span><span class=o>=</span><span class=mf>0.0</span>
</span><span id=__span-1-96><a id=__codelineno-1-96 name=__codelineno-1-96 href=#__codelineno-1-96></a>            <span class=p>)</span>
</span><span id=__span-1-97><a id=__codelineno-1-97 name=__codelineno-1-97 href=#__codelineno-1-97></a>        <span class=p>)</span>
</span><span id=__span-1-98><a id=__codelineno-1-98 name=__codelineno-1-98 href=#__codelineno-1-98></a>    <span class=p>),</span>
</span><span id=__span-1-99><a id=__codelineno-1-99 name=__codelineno-1-99 href=#__codelineno-1-99></a>    <span class=n>long_asset_flow</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-100><a id=__codelineno-1-100 name=__codelineno-1-100 href=#__codelineno-1-100></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_asset_flow&#39;</span><span class=p>,</span>
</span><span id=__span-1-101><a id=__codelineno-1-101 name=__codelineno-1-101 href=#__codelineno-1-101></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-1-102><a id=__codelineno-1-102 name=__codelineno-1-102 href=#__codelineno-1-102></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-103><a id=__codelineno-1-103 name=__codelineno-1-103 href=#__codelineno-1-103></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span>
</span><span id=__span-1-104><a id=__codelineno-1-104 name=__codelineno-1-104 href=#__codelineno-1-104></a>        <span class=p>),</span>
</span><span id=__span-1-105><a id=__codelineno-1-105 name=__codelineno-1-105 href=#__codelineno-1-105></a>        <span class=n>resample_func</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span><span id=__span-1-106><a id=__codelineno-1-106 name=__codelineno-1-106 href=#__codelineno-1-106></a>        <span class=n>resample_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-107><a id=__codelineno-1-107 name=__codelineno-1-107 href=#__codelineno-1-107></a>            <span class=n>wrap_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-108><a id=__codelineno-1-108 name=__codelineno-1-108 href=#__codelineno-1-108></a>                <span class=n>fillna</span><span class=o>=</span><span class=mf>0.0</span>
</span><span id=__span-1-109><a id=__codelineno-1-109 name=__codelineno-1-109 href=#__codelineno-1-109></a>            <span class=p>)</span>
</span><span id=__span-1-110><a id=__codelineno-1-110 name=__codelineno-1-110 href=#__codelineno-1-110></a>        <span class=p>)</span>
</span><span id=__span-1-111><a id=__codelineno-1-111 name=__codelineno-1-111 href=#__codelineno-1-111></a>    <span class=p>),</span>
</span><span id=__span-1-112><a id=__codelineno-1-112 name=__codelineno-1-112 href=#__codelineno-1-112></a>    <span class=n>short_asset_flow</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-113><a id=__codelineno-1-113 name=__codelineno-1-113 href=#__codelineno-1-113></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_asset_flow&#39;</span><span class=p>,</span>
</span><span id=__span-1-114><a id=__codelineno-1-114 name=__codelineno-1-114 href=#__codelineno-1-114></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-1-115><a id=__codelineno-1-115 name=__codelineno-1-115 href=#__codelineno-1-115></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-116><a id=__codelineno-1-116 name=__codelineno-1-116 href=#__codelineno-1-116></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;shortonly&#39;</span>
</span><span id=__span-1-117><a id=__codelineno-1-117 name=__codelineno-1-117 href=#__codelineno-1-117></a>        <span class=p>),</span>
</span><span id=__span-1-118><a id=__codelineno-1-118 name=__codelineno-1-118 href=#__codelineno-1-118></a>        <span class=n>resample_func</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span><span id=__span-1-119><a id=__codelineno-1-119 name=__codelineno-1-119 href=#__codelineno-1-119></a>        <span class=n>resample_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-120><a id=__codelineno-1-120 name=__codelineno-1-120 href=#__codelineno-1-120></a>            <span class=n>wrap_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-121><a id=__codelineno-1-121 name=__codelineno-1-121 href=#__codelineno-1-121></a>                <span class=n>fillna</span><span class=o>=</span><span class=mf>0.0</span>
</span><span id=__span-1-122><a id=__codelineno-1-122 name=__codelineno-1-122 href=#__codelineno-1-122></a>            <span class=p>)</span>
</span><span id=__span-1-123><a id=__codelineno-1-123 name=__codelineno-1-123 href=#__codelineno-1-123></a>        <span class=p>)</span>
</span><span id=__span-1-124><a id=__codelineno-1-124 name=__codelineno-1-124 href=#__codelineno-1-124></a>    <span class=p>),</span>
</span><span id=__span-1-125><a id=__codelineno-1-125 name=__codelineno-1-125 href=#__codelineno-1-125></a>    <span class=n>assets</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-126><a id=__codelineno-1-126 name=__codelineno-1-126 href=#__codelineno-1-126></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-127><a id=__codelineno-1-127 name=__codelineno-1-127 href=#__codelineno-1-127></a>    <span class=p>),</span>
</span><span id=__span-1-128><a id=__codelineno-1-128 name=__codelineno-1-128 href=#__codelineno-1-128></a>    <span class=n>long_assets</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-129><a id=__codelineno-1-129 name=__codelineno-1-129 href=#__codelineno-1-129></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_assets&#39;</span><span class=p>,</span>
</span><span id=__span-1-130><a id=__codelineno-1-130 name=__codelineno-1-130 href=#__codelineno-1-130></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-1-131><a id=__codelineno-1-131 name=__codelineno-1-131 href=#__codelineno-1-131></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-132><a id=__codelineno-1-132 name=__codelineno-1-132 href=#__codelineno-1-132></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span>
</span><span id=__span-1-133><a id=__codelineno-1-133 name=__codelineno-1-133 href=#__codelineno-1-133></a>        <span class=p>)</span>
</span><span id=__span-1-134><a id=__codelineno-1-134 name=__codelineno-1-134 href=#__codelineno-1-134></a>    <span class=p>),</span>
</span><span id=__span-1-135><a id=__codelineno-1-135 name=__codelineno-1-135 href=#__codelineno-1-135></a>    <span class=n>short_assets</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-136><a id=__codelineno-1-136 name=__codelineno-1-136 href=#__codelineno-1-136></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_assets&#39;</span><span class=p>,</span>
</span><span id=__span-1-137><a id=__codelineno-1-137 name=__codelineno-1-137 href=#__codelineno-1-137></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-1-138><a id=__codelineno-1-138 name=__codelineno-1-138 href=#__codelineno-1-138></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-139><a id=__codelineno-1-139 name=__codelineno-1-139 href=#__codelineno-1-139></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;shortonly&#39;</span>
</span><span id=__span-1-140><a id=__codelineno-1-140 name=__codelineno-1-140 href=#__codelineno-1-140></a>        <span class=p>)</span>
</span><span id=__span-1-141><a id=__codelineno-1-141 name=__codelineno-1-141 href=#__codelineno-1-141></a>    <span class=p>),</span>
</span><span id=__span-1-142><a id=__codelineno-1-142 name=__codelineno-1-142 href=#__codelineno-1-142></a>    <span class=n>position_mask</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-143><a id=__codelineno-1-143 name=__codelineno-1-143 href=#__codelineno-1-143></a>    <span class=n>long_position_mask</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-144><a id=__codelineno-1-144 name=__codelineno-1-144 href=#__codelineno-1-144></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_position_mask&#39;</span><span class=p>,</span>
</span><span id=__span-1-145><a id=__codelineno-1-145 name=__codelineno-1-145 href=#__codelineno-1-145></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-146><a id=__codelineno-1-146 name=__codelineno-1-146 href=#__codelineno-1-146></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span>
</span><span id=__span-1-147><a id=__codelineno-1-147 name=__codelineno-1-147 href=#__codelineno-1-147></a>        <span class=p>)</span>
</span><span id=__span-1-148><a id=__codelineno-1-148 name=__codelineno-1-148 href=#__codelineno-1-148></a>    <span class=p>),</span>
</span><span id=__span-1-149><a id=__codelineno-1-149 name=__codelineno-1-149 href=#__codelineno-1-149></a>    <span class=n>short_position_mask</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-150><a id=__codelineno-1-150 name=__codelineno-1-150 href=#__codelineno-1-150></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_position_mask&#39;</span><span class=p>,</span>
</span><span id=__span-1-151><a id=__codelineno-1-151 name=__codelineno-1-151 href=#__codelineno-1-151></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-152><a id=__codelineno-1-152 name=__codelineno-1-152 href=#__codelineno-1-152></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;shortonly&#39;</span>
</span><span id=__span-1-153><a id=__codelineno-1-153 name=__codelineno-1-153 href=#__codelineno-1-153></a>        <span class=p>)</span>
</span><span id=__span-1-154><a id=__codelineno-1-154 name=__codelineno-1-154 href=#__codelineno-1-154></a>    <span class=p>),</span>
</span><span id=__span-1-155><a id=__codelineno-1-155 name=__codelineno-1-155 href=#__codelineno-1-155></a>    <span class=n>position_coverage</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-156><a id=__codelineno-1-156 name=__codelineno-1-156 href=#__codelineno-1-156></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-157><a id=__codelineno-1-157 name=__codelineno-1-157 href=#__codelineno-1-157></a>    <span class=p>),</span>
</span><span id=__span-1-158><a id=__codelineno-1-158 name=__codelineno-1-158 href=#__codelineno-1-158></a>    <span class=n>long_position_coverage</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-159><a id=__codelineno-1-159 name=__codelineno-1-159 href=#__codelineno-1-159></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_position_coverage&#39;</span><span class=p>,</span>
</span><span id=__span-1-160><a id=__codelineno-1-160 name=__codelineno-1-160 href=#__codelineno-1-160></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span><span class=p>,</span>
</span><span id=__span-1-161><a id=__codelineno-1-161 name=__codelineno-1-161 href=#__codelineno-1-161></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-162><a id=__codelineno-1-162 name=__codelineno-1-162 href=#__codelineno-1-162></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span>
</span><span id=__span-1-163><a id=__codelineno-1-163 name=__codelineno-1-163 href=#__codelineno-1-163></a>        <span class=p>)</span>
</span><span id=__span-1-164><a id=__codelineno-1-164 name=__codelineno-1-164 href=#__codelineno-1-164></a>    <span class=p>),</span>
</span><span id=__span-1-165><a id=__codelineno-1-165 name=__codelineno-1-165 href=#__codelineno-1-165></a>    <span class=n>short_position_coverage</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-166><a id=__codelineno-1-166 name=__codelineno-1-166 href=#__codelineno-1-166></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_position_coverage&#39;</span><span class=p>,</span>
</span><span id=__span-1-167><a id=__codelineno-1-167 name=__codelineno-1-167 href=#__codelineno-1-167></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span><span class=p>,</span>
</span><span id=__span-1-168><a id=__codelineno-1-168 name=__codelineno-1-168 href=#__codelineno-1-168></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-169><a id=__codelineno-1-169 name=__codelineno-1-169 href=#__codelineno-1-169></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;shortonly&#39;</span>
</span><span id=__span-1-170><a id=__codelineno-1-170 name=__codelineno-1-170 href=#__codelineno-1-170></a>        <span class=p>)</span>
</span><span id=__span-1-171><a id=__codelineno-1-171 name=__codelineno-1-171 href=#__codelineno-1-171></a>    <span class=p>),</span>
</span><span id=__span-1-172><a id=__codelineno-1-172 name=__codelineno-1-172 href=#__codelineno-1-172></a>    <span class=n>position_entry_price</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-173><a id=__codelineno-1-173 name=__codelineno-1-173 href=#__codelineno-1-173></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-174><a id=__codelineno-1-174 name=__codelineno-1-174 href=#__codelineno-1-174></a>    <span class=p>),</span>
</span><span id=__span-1-175><a id=__codelineno-1-175 name=__codelineno-1-175 href=#__codelineno-1-175></a>    <span class=n>position_exit_price</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-176><a id=__codelineno-1-176 name=__codelineno-1-176 href=#__codelineno-1-176></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-177><a id=__codelineno-1-177 name=__codelineno-1-177 href=#__codelineno-1-177></a>    <span class=p>),</span>
</span><span id=__span-1-178><a id=__codelineno-1-178 name=__codelineno-1-178 href=#__codelineno-1-178></a>    <span class=n>init_cash</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-179><a id=__codelineno-1-179 name=__codelineno-1-179 href=#__codelineno-1-179></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-180><a id=__codelineno-1-180 name=__codelineno-1-180 href=#__codelineno-1-180></a>    <span class=p>),</span>
</span><span id=__span-1-181><a id=__codelineno-1-181 name=__codelineno-1-181 href=#__codelineno-1-181></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-182><a id=__codelineno-1-182 name=__codelineno-1-182 href=#__codelineno-1-182></a>        <span class=n>resample_func</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span><span id=__span-1-183><a id=__codelineno-1-183 name=__codelineno-1-183 href=#__codelineno-1-183></a>        <span class=n>resample_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-184><a id=__codelineno-1-184 name=__codelineno-1-184 href=#__codelineno-1-184></a>            <span class=n>wrap_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-185><a id=__codelineno-1-185 name=__codelineno-1-185 href=#__codelineno-1-185></a>                <span class=n>fillna</span><span class=o>=</span><span class=mf>0.0</span>
</span><span id=__span-1-186><a id=__codelineno-1-186 name=__codelineno-1-186 href=#__codelineno-1-186></a>            <span class=p>)</span>
</span><span id=__span-1-187><a id=__codelineno-1-187 name=__codelineno-1-187 href=#__codelineno-1-187></a>        <span class=p>)</span>
</span><span id=__span-1-188><a id=__codelineno-1-188 name=__codelineno-1-188 href=#__codelineno-1-188></a>    <span class=p>),</span>
</span><span id=__span-1-189><a id=__codelineno-1-189 name=__codelineno-1-189 href=#__codelineno-1-189></a>    <span class=n>total_cash_deposits</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-190><a id=__codelineno-1-190 name=__codelineno-1-190 href=#__codelineno-1-190></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-191><a id=__codelineno-1-191 name=__codelineno-1-191 href=#__codelineno-1-191></a>    <span class=p>),</span>
</span><span id=__span-1-192><a id=__codelineno-1-192 name=__codelineno-1-192 href=#__codelineno-1-192></a>    <span class=n>cash_earnings</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-193><a id=__codelineno-1-193 name=__codelineno-1-193 href=#__codelineno-1-193></a>        <span class=n>resample_func</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span><span id=__span-1-194><a id=__codelineno-1-194 name=__codelineno-1-194 href=#__codelineno-1-194></a>        <span class=n>resample_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-195><a id=__codelineno-1-195 name=__codelineno-1-195 href=#__codelineno-1-195></a>            <span class=n>wrap_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-196><a id=__codelineno-1-196 name=__codelineno-1-196 href=#__codelineno-1-196></a>                <span class=n>fillna</span><span class=o>=</span><span class=mf>0.0</span>
</span><span id=__span-1-197><a id=__codelineno-1-197 name=__codelineno-1-197 href=#__codelineno-1-197></a>            <span class=p>)</span>
</span><span id=__span-1-198><a id=__codelineno-1-198 name=__codelineno-1-198 href=#__codelineno-1-198></a>        <span class=p>)</span>
</span><span id=__span-1-199><a id=__codelineno-1-199 name=__codelineno-1-199 href=#__codelineno-1-199></a>    <span class=p>),</span>
</span><span id=__span-1-200><a id=__codelineno-1-200 name=__codelineno-1-200 href=#__codelineno-1-200></a>    <span class=n>total_cash_earnings</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-201><a id=__codelineno-1-201 name=__codelineno-1-201 href=#__codelineno-1-201></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-202><a id=__codelineno-1-202 name=__codelineno-1-202 href=#__codelineno-1-202></a>    <span class=p>),</span>
</span><span id=__span-1-203><a id=__codelineno-1-203 name=__codelineno-1-203 href=#__codelineno-1-203></a>    <span class=n>cash_flow</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-204><a id=__codelineno-1-204 name=__codelineno-1-204 href=#__codelineno-1-204></a>        <span class=n>resample_func</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span><span id=__span-1-205><a id=__codelineno-1-205 name=__codelineno-1-205 href=#__codelineno-1-205></a>        <span class=n>resample_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-206><a id=__codelineno-1-206 name=__codelineno-1-206 href=#__codelineno-1-206></a>            <span class=n>wrap_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-207><a id=__codelineno-1-207 name=__codelineno-1-207 href=#__codelineno-1-207></a>                <span class=n>fillna</span><span class=o>=</span><span class=mf>0.0</span>
</span><span id=__span-1-208><a id=__codelineno-1-208 name=__codelineno-1-208 href=#__codelineno-1-208></a>            <span class=p>)</span>
</span><span id=__span-1-209><a id=__codelineno-1-209 name=__codelineno-1-209 href=#__codelineno-1-209></a>        <span class=p>)</span>
</span><span id=__span-1-210><a id=__codelineno-1-210 name=__codelineno-1-210 href=#__codelineno-1-210></a>    <span class=p>),</span>
</span><span id=__span-1-211><a id=__codelineno-1-211 name=__codelineno-1-211 href=#__codelineno-1-211></a>    <span class=n>free_cash_flow</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-212><a id=__codelineno-1-212 name=__codelineno-1-212 href=#__codelineno-1-212></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_cash_flow&#39;</span><span class=p>,</span>
</span><span id=__span-1-213><a id=__codelineno-1-213 name=__codelineno-1-213 href=#__codelineno-1-213></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-214><a id=__codelineno-1-214 name=__codelineno-1-214 href=#__codelineno-1-214></a>            <span class=n>free</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-1-215><a id=__codelineno-1-215 name=__codelineno-1-215 href=#__codelineno-1-215></a>        <span class=p>),</span>
</span><span id=__span-1-216><a id=__codelineno-1-216 name=__codelineno-1-216 href=#__codelineno-1-216></a>        <span class=n>resample_func</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span><span id=__span-1-217><a id=__codelineno-1-217 name=__codelineno-1-217 href=#__codelineno-1-217></a>        <span class=n>resample_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-218><a id=__codelineno-1-218 name=__codelineno-1-218 href=#__codelineno-1-218></a>            <span class=n>wrap_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-219><a id=__codelineno-1-219 name=__codelineno-1-219 href=#__codelineno-1-219></a>                <span class=n>fillna</span><span class=o>=</span><span class=mf>0.0</span>
</span><span id=__span-1-220><a id=__codelineno-1-220 name=__codelineno-1-220 href=#__codelineno-1-220></a>            <span class=p>)</span>
</span><span id=__span-1-221><a id=__codelineno-1-221 name=__codelineno-1-221 href=#__codelineno-1-221></a>        <span class=p>)</span>
</span><span id=__span-1-222><a id=__codelineno-1-222 name=__codelineno-1-222 href=#__codelineno-1-222></a>    <span class=p>),</span>
</span><span id=__span-1-223><a id=__codelineno-1-223 name=__codelineno-1-223 href=#__codelineno-1-223></a>    <span class=n>cash</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-224><a id=__codelineno-1-224 name=__codelineno-1-224 href=#__codelineno-1-224></a>    <span class=n>position</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-225><a id=__codelineno-1-225 name=__codelineno-1-225 href=#__codelineno-1-225></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_assets&#39;</span><span class=p>,</span>
</span><span id=__span-1-226><a id=__codelineno-1-226 name=__codelineno-1-226 href=#__codelineno-1-226></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-227><a id=__codelineno-1-227 name=__codelineno-1-227 href=#__codelineno-1-227></a>    <span class=p>),</span>
</span><span id=__span-1-228><a id=__codelineno-1-228 name=__codelineno-1-228 href=#__codelineno-1-228></a>    <span class=n>debt</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-229><a id=__codelineno-1-229 name=__codelineno-1-229 href=#__codelineno-1-229></a>        <span class=n>method_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-1-230><a id=__codelineno-1-230 name=__codelineno-1-230 href=#__codelineno-1-230></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-231><a id=__codelineno-1-231 name=__codelineno-1-231 href=#__codelineno-1-231></a>    <span class=p>),</span>
</span><span id=__span-1-232><a id=__codelineno-1-232 name=__codelineno-1-232 href=#__codelineno-1-232></a>    <span class=n>locked_cash</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-233><a id=__codelineno-1-233 name=__codelineno-1-233 href=#__codelineno-1-233></a>        <span class=n>method_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-1-234><a id=__codelineno-1-234 name=__codelineno-1-234 href=#__codelineno-1-234></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-235><a id=__codelineno-1-235 name=__codelineno-1-235 href=#__codelineno-1-235></a>    <span class=p>),</span>
</span><span id=__span-1-236><a id=__codelineno-1-236 name=__codelineno-1-236 href=#__codelineno-1-236></a>    <span class=n>free_cash</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-237><a id=__codelineno-1-237 name=__codelineno-1-237 href=#__codelineno-1-237></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_cash&#39;</span><span class=p>,</span>
</span><span id=__span-1-238><a id=__codelineno-1-238 name=__codelineno-1-238 href=#__codelineno-1-238></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-239><a id=__codelineno-1-239 name=__codelineno-1-239 href=#__codelineno-1-239></a>            <span class=n>free</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-1-240><a id=__codelineno-1-240 name=__codelineno-1-240 href=#__codelineno-1-240></a>        <span class=p>)</span>
</span><span id=__span-1-241><a id=__codelineno-1-241 name=__codelineno-1-241 href=#__codelineno-1-241></a>    <span class=p>),</span>
</span><span id=__span-1-242><a id=__codelineno-1-242 name=__codelineno-1-242 href=#__codelineno-1-242></a>    <span class=n>init_price</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-243><a id=__codelineno-1-243 name=__codelineno-1-243 href=#__codelineno-1-243></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span><span class=p>,</span>
</span><span id=__span-1-244><a id=__codelineno-1-244 name=__codelineno-1-244 href=#__codelineno-1-244></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-245><a id=__codelineno-1-245 name=__codelineno-1-245 href=#__codelineno-1-245></a>    <span class=p>),</span>
</span><span id=__span-1-246><a id=__codelineno-1-246 name=__codelineno-1-246 href=#__codelineno-1-246></a>    <span class=n>init_position_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-247><a id=__codelineno-1-247 name=__codelineno-1-247 href=#__codelineno-1-247></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-248><a id=__codelineno-1-248 name=__codelineno-1-248 href=#__codelineno-1-248></a>    <span class=p>),</span>
</span><span id=__span-1-249><a id=__codelineno-1-249 name=__codelineno-1-249 href=#__codelineno-1-249></a>    <span class=n>init_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-250><a id=__codelineno-1-250 name=__codelineno-1-250 href=#__codelineno-1-250></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-251><a id=__codelineno-1-251 name=__codelineno-1-251 href=#__codelineno-1-251></a>    <span class=p>),</span>
</span><span id=__span-1-252><a id=__codelineno-1-252 name=__codelineno-1-252 href=#__codelineno-1-252></a>    <span class=n>input_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-253><a id=__codelineno-1-253 name=__codelineno-1-253 href=#__codelineno-1-253></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-254><a id=__codelineno-1-254 name=__codelineno-1-254 href=#__codelineno-1-254></a>    <span class=p>),</span>
</span><span id=__span-1-255><a id=__codelineno-1-255 name=__codelineno-1-255 href=#__codelineno-1-255></a>    <span class=n>asset_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-256><a id=__codelineno-1-256 name=__codelineno-1-256 href=#__codelineno-1-256></a>    <span class=n>long_asset_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-257><a id=__codelineno-1-257 name=__codelineno-1-257 href=#__codelineno-1-257></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_asset_value&#39;</span><span class=p>,</span>
</span><span id=__span-1-258><a id=__codelineno-1-258 name=__codelineno-1-258 href=#__codelineno-1-258></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-259><a id=__codelineno-1-259 name=__codelineno-1-259 href=#__codelineno-1-259></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span>
</span><span id=__span-1-260><a id=__codelineno-1-260 name=__codelineno-1-260 href=#__codelineno-1-260></a>        <span class=p>)</span>
</span><span id=__span-1-261><a id=__codelineno-1-261 name=__codelineno-1-261 href=#__codelineno-1-261></a>    <span class=p>),</span>
</span><span id=__span-1-262><a id=__codelineno-1-262 name=__codelineno-1-262 href=#__codelineno-1-262></a>    <span class=n>short_asset_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-263><a id=__codelineno-1-263 name=__codelineno-1-263 href=#__codelineno-1-263></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_asset_value&#39;</span><span class=p>,</span>
</span><span id=__span-1-264><a id=__codelineno-1-264 name=__codelineno-1-264 href=#__codelineno-1-264></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-265><a id=__codelineno-1-265 name=__codelineno-1-265 href=#__codelineno-1-265></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;shortonly&#39;</span>
</span><span id=__span-1-266><a id=__codelineno-1-266 name=__codelineno-1-266 href=#__codelineno-1-266></a>        <span class=p>)</span>
</span><span id=__span-1-267><a id=__codelineno-1-267 name=__codelineno-1-267 href=#__codelineno-1-267></a>    <span class=p>),</span>
</span><span id=__span-1-268><a id=__codelineno-1-268 name=__codelineno-1-268 href=#__codelineno-1-268></a>    <span class=n>gross_exposure</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-269><a id=__codelineno-1-269 name=__codelineno-1-269 href=#__codelineno-1-269></a>    <span class=n>long_gross_exposure</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-270><a id=__codelineno-1-270 name=__codelineno-1-270 href=#__codelineno-1-270></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_gross_exposure&#39;</span><span class=p>,</span>
</span><span id=__span-1-271><a id=__codelineno-1-271 name=__codelineno-1-271 href=#__codelineno-1-271></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-272><a id=__codelineno-1-272 name=__codelineno-1-272 href=#__codelineno-1-272></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span>
</span><span id=__span-1-273><a id=__codelineno-1-273 name=__codelineno-1-273 href=#__codelineno-1-273></a>        <span class=p>)</span>
</span><span id=__span-1-274><a id=__codelineno-1-274 name=__codelineno-1-274 href=#__codelineno-1-274></a>    <span class=p>),</span>
</span><span id=__span-1-275><a id=__codelineno-1-275 name=__codelineno-1-275 href=#__codelineno-1-275></a>    <span class=n>short_gross_exposure</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-276><a id=__codelineno-1-276 name=__codelineno-1-276 href=#__codelineno-1-276></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_gross_exposure&#39;</span><span class=p>,</span>
</span><span id=__span-1-277><a id=__codelineno-1-277 name=__codelineno-1-277 href=#__codelineno-1-277></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-278><a id=__codelineno-1-278 name=__codelineno-1-278 href=#__codelineno-1-278></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;shortonly&#39;</span>
</span><span id=__span-1-279><a id=__codelineno-1-279 name=__codelineno-1-279 href=#__codelineno-1-279></a>        <span class=p>)</span>
</span><span id=__span-1-280><a id=__codelineno-1-280 name=__codelineno-1-280 href=#__codelineno-1-280></a>    <span class=p>),</span>
</span><span id=__span-1-281><a id=__codelineno-1-281 name=__codelineno-1-281 href=#__codelineno-1-281></a>    <span class=n>net_exposure</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-282><a id=__codelineno-1-282 name=__codelineno-1-282 href=#__codelineno-1-282></a>    <span class=n>value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-283><a id=__codelineno-1-283 name=__codelineno-1-283 href=#__codelineno-1-283></a>    <span class=n>allocations</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-284><a id=__codelineno-1-284 name=__codelineno-1-284 href=#__codelineno-1-284></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-285><a id=__codelineno-1-285 name=__codelineno-1-285 href=#__codelineno-1-285></a>    <span class=p>),</span>
</span><span id=__span-1-286><a id=__codelineno-1-286 name=__codelineno-1-286 href=#__codelineno-1-286></a>    <span class=n>long_allocations</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-287><a id=__codelineno-1-287 name=__codelineno-1-287 href=#__codelineno-1-287></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_allocations&#39;</span><span class=p>,</span>
</span><span id=__span-1-288><a id=__codelineno-1-288 name=__codelineno-1-288 href=#__codelineno-1-288></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-289><a id=__codelineno-1-289 name=__codelineno-1-289 href=#__codelineno-1-289></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span>
</span><span id=__span-1-290><a id=__codelineno-1-290 name=__codelineno-1-290 href=#__codelineno-1-290></a>        <span class=p>),</span>
</span><span id=__span-1-291><a id=__codelineno-1-291 name=__codelineno-1-291 href=#__codelineno-1-291></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-292><a id=__codelineno-1-292 name=__codelineno-1-292 href=#__codelineno-1-292></a>    <span class=p>),</span>
</span><span id=__span-1-293><a id=__codelineno-1-293 name=__codelineno-1-293 href=#__codelineno-1-293></a>    <span class=n>short_allocations</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-294><a id=__codelineno-1-294 name=__codelineno-1-294 href=#__codelineno-1-294></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_allocations&#39;</span><span class=p>,</span>
</span><span id=__span-1-295><a id=__codelineno-1-295 name=__codelineno-1-295 href=#__codelineno-1-295></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-296><a id=__codelineno-1-296 name=__codelineno-1-296 href=#__codelineno-1-296></a>            <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;shortonly&#39;</span>
</span><span id=__span-1-297><a id=__codelineno-1-297 name=__codelineno-1-297 href=#__codelineno-1-297></a>        <span class=p>),</span>
</span><span id=__span-1-298><a id=__codelineno-1-298 name=__codelineno-1-298 href=#__codelineno-1-298></a>        <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-1-299><a id=__codelineno-1-299 name=__codelineno-1-299 href=#__codelineno-1-299></a>    <span class=p>),</span>
</span><span id=__span-1-300><a id=__codelineno-1-300 name=__codelineno-1-300 href=#__codelineno-1-300></a>    <span class=n>total_profit</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-301><a id=__codelineno-1-301 name=__codelineno-1-301 href=#__codelineno-1-301></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-302><a id=__codelineno-1-302 name=__codelineno-1-302 href=#__codelineno-1-302></a>    <span class=p>),</span>
</span><span id=__span-1-303><a id=__codelineno-1-303 name=__codelineno-1-303 href=#__codelineno-1-303></a>    <span class=n>final_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-304><a id=__codelineno-1-304 name=__codelineno-1-304 href=#__codelineno-1-304></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-305><a id=__codelineno-1-305 name=__codelineno-1-305 href=#__codelineno-1-305></a>    <span class=p>),</span>
</span><span id=__span-1-306><a id=__codelineno-1-306 name=__codelineno-1-306 href=#__codelineno-1-306></a>    <span class=n>total_return</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-307><a id=__codelineno-1-307 name=__codelineno-1-307 href=#__codelineno-1-307></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-308><a id=__codelineno-1-308 name=__codelineno-1-308 href=#__codelineno-1-308></a>    <span class=p>),</span>
</span><span id=__span-1-309><a id=__codelineno-1-309 name=__codelineno-1-309 href=#__codelineno-1-309></a>    <span class=n>returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-310><a id=__codelineno-1-310 name=__codelineno-1-310 href=#__codelineno-1-310></a>        <span class=n>resample_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>returns_resample_func</span><span class=o>&gt;</span>
</span><span id=__span-1-311><a id=__codelineno-1-311 name=__codelineno-1-311 href=#__codelineno-1-311></a>    <span class=p>),</span>
</span><span id=__span-1-312><a id=__codelineno-1-312 name=__codelineno-1-312 href=#__codelineno-1-312></a>    <span class=n>log_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-313><a id=__codelineno-1-313 name=__codelineno-1-313 href=#__codelineno-1-313></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_returns&#39;</span><span class=p>,</span>
</span><span id=__span-1-314><a id=__codelineno-1-314 name=__codelineno-1-314 href=#__codelineno-1-314></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-315><a id=__codelineno-1-315 name=__codelineno-1-315 href=#__codelineno-1-315></a>            <span class=n>log_returns</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-1-316><a id=__codelineno-1-316 name=__codelineno-1-316 href=#__codelineno-1-316></a>        <span class=p>),</span>
</span><span id=__span-1-317><a id=__codelineno-1-317 name=__codelineno-1-317 href=#__codelineno-1-317></a>        <span class=n>resample_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>returns_resample_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>log_returns</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-1-318><a id=__codelineno-1-318 name=__codelineno-1-318 href=#__codelineno-1-318></a>    <span class=p>),</span>
</span><span id=__span-1-319><a id=__codelineno-1-319 name=__codelineno-1-319 href=#__codelineno-1-319></a>    <span class=n>daily_log_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-320><a id=__codelineno-1-320 name=__codelineno-1-320 href=#__codelineno-1-320></a>        <span class=n>method_name</span><span class=o>=</span><span class=s1>&#39;get_returns&#39;</span><span class=p>,</span>
</span><span id=__span-1-321><a id=__codelineno-1-321 name=__codelineno-1-321 href=#__codelineno-1-321></a>        <span class=n>method_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-322><a id=__codelineno-1-322 name=__codelineno-1-322 href=#__codelineno-1-322></a>            <span class=n>daily_returns</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-1-323><a id=__codelineno-1-323 name=__codelineno-1-323 href=#__codelineno-1-323></a>            <span class=n>log_returns</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-1-324><a id=__codelineno-1-324 name=__codelineno-1-324 href=#__codelineno-1-324></a>        <span class=p>),</span>
</span><span id=__span-1-325><a id=__codelineno-1-325 name=__codelineno-1-325 href=#__codelineno-1-325></a>        <span class=n>resample_func</span><span class=o>=</span><span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=o>&lt;</span><span class=n>function</span> <span class=n>returns_resample_func</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>log_returns</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-1-326><a id=__codelineno-1-326 name=__codelineno-1-326 href=#__codelineno-1-326></a>    <span class=p>),</span>
</span><span id=__span-1-327><a id=__codelineno-1-327 name=__codelineno-1-327 href=#__codelineno-1-327></a>    <span class=n>asset_pnl</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-328><a id=__codelineno-1-328 name=__codelineno-1-328 href=#__codelineno-1-328></a>        <span class=n>resample_func</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span><span id=__span-1-329><a id=__codelineno-1-329 name=__codelineno-1-329 href=#__codelineno-1-329></a>        <span class=n>resample_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-330><a id=__codelineno-1-330 name=__codelineno-1-330 href=#__codelineno-1-330></a>            <span class=n>wrap_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-331><a id=__codelineno-1-331 name=__codelineno-1-331 href=#__codelineno-1-331></a>                <span class=n>fillna</span><span class=o>=</span><span class=mf>0.0</span>
</span><span id=__span-1-332><a id=__codelineno-1-332 name=__codelineno-1-332 href=#__codelineno-1-332></a>            <span class=p>)</span>
</span><span id=__span-1-333><a id=__codelineno-1-333 name=__codelineno-1-333 href=#__codelineno-1-333></a>        <span class=p>)</span>
</span><span id=__span-1-334><a id=__codelineno-1-334 name=__codelineno-1-334 href=#__codelineno-1-334></a>    <span class=p>),</span>
</span><span id=__span-1-335><a id=__codelineno-1-335 name=__codelineno-1-335 href=#__codelineno-1-335></a>    <span class=n>asset_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-336><a id=__codelineno-1-336 name=__codelineno-1-336 href=#__codelineno-1-336></a>        <span class=n>resample_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>returns_resample_func</span><span class=o>&gt;</span>
</span><span id=__span-1-337><a id=__codelineno-1-337 name=__codelineno-1-337 href=#__codelineno-1-337></a>    <span class=p>),</span>
</span><span id=__span-1-338><a id=__codelineno-1-338 name=__codelineno-1-338 href=#__codelineno-1-338></a>    <span class=n>market_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-339><a id=__codelineno-1-339 name=__codelineno-1-339 href=#__codelineno-1-339></a>    <span class=n>market_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-340><a id=__codelineno-1-340 name=__codelineno-1-340 href=#__codelineno-1-340></a>        <span class=n>resample_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>returns_resample_func</span><span class=o>&gt;</span>
</span><span id=__span-1-341><a id=__codelineno-1-341 name=__codelineno-1-341 href=#__codelineno-1-341></a>    <span class=p>),</span>
</span><span id=__span-1-342><a id=__codelineno-1-342 name=__codelineno-1-342 href=#__codelineno-1-342></a>    <span class=n>bm_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-343><a id=__codelineno-1-343 name=__codelineno-1-343 href=#__codelineno-1-343></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-344><a id=__codelineno-1-344 name=__codelineno-1-344 href=#__codelineno-1-344></a>        <span class=n>resample_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>returns_resample_func</span><span class=o>&gt;</span>
</span><span id=__span-1-345><a id=__codelineno-1-345 name=__codelineno-1-345 href=#__codelineno-1-345></a>    <span class=p>),</span>
</span><span id=__span-1-346><a id=__codelineno-1-346 name=__codelineno-1-346 href=#__codelineno-1-346></a>    <span class=n>total_market_return</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-347><a id=__codelineno-1-347 name=__codelineno-1-347 href=#__codelineno-1-347></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-348><a id=__codelineno-1-348 name=__codelineno-1-348 href=#__codelineno-1-348></a>    <span class=p>),</span>
</span><span id=__span-1-349><a id=__codelineno-1-349 name=__codelineno-1-349 href=#__codelineno-1-349></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-350><a id=__codelineno-1-350 name=__codelineno-1-350 href=#__codelineno-1-350></a>        <span class=n>resample_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>returns_resample_func</span><span class=o>&gt;</span>
</span><span id=__span-1-351><a id=__codelineno-1-351 name=__codelineno-1-351 href=#__codelineno-1-351></a>    <span class=p>),</span>
</span><span id=__span-1-352><a id=__codelineno-1-352 name=__codelineno-1-352 href=#__codelineno-1-352></a>    <span class=n>annual_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-353><a id=__codelineno-1-353 name=__codelineno-1-353 href=#__codelineno-1-353></a>        <span class=n>resample_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>returns_resample_func</span><span class=o>&gt;</span>
</span><span id=__span-1-354><a id=__codelineno-1-354 name=__codelineno-1-354 href=#__codelineno-1-354></a>    <span class=p>),</span>
</span><span id=__span-1-355><a id=__codelineno-1-355 name=__codelineno-1-355 href=#__codelineno-1-355></a>    <span class=n>cumulative_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-356><a id=__codelineno-1-356 name=__codelineno-1-356 href=#__codelineno-1-356></a>    <span class=n>annualized_return</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-357><a id=__codelineno-1-357 name=__codelineno-1-357 href=#__codelineno-1-357></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-358><a id=__codelineno-1-358 name=__codelineno-1-358 href=#__codelineno-1-358></a>    <span class=p>),</span>
</span><span id=__span-1-359><a id=__codelineno-1-359 name=__codelineno-1-359 href=#__codelineno-1-359></a>    <span class=n>annualized_volatility</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-360><a id=__codelineno-1-360 name=__codelineno-1-360 href=#__codelineno-1-360></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-361><a id=__codelineno-1-361 name=__codelineno-1-361 href=#__codelineno-1-361></a>    <span class=p>),</span>
</span><span id=__span-1-362><a id=__codelineno-1-362 name=__codelineno-1-362 href=#__codelineno-1-362></a>    <span class=n>calmar_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-363><a id=__codelineno-1-363 name=__codelineno-1-363 href=#__codelineno-1-363></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-364><a id=__codelineno-1-364 name=__codelineno-1-364 href=#__codelineno-1-364></a>    <span class=p>),</span>
</span><span id=__span-1-365><a id=__codelineno-1-365 name=__codelineno-1-365 href=#__codelineno-1-365></a>    <span class=n>omega_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-366><a id=__codelineno-1-366 name=__codelineno-1-366 href=#__codelineno-1-366></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-367><a id=__codelineno-1-367 name=__codelineno-1-367 href=#__codelineno-1-367></a>    <span class=p>),</span>
</span><span id=__span-1-368><a id=__codelineno-1-368 name=__codelineno-1-368 href=#__codelineno-1-368></a>    <span class=n>sharpe_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-369><a id=__codelineno-1-369 name=__codelineno-1-369 href=#__codelineno-1-369></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-370><a id=__codelineno-1-370 name=__codelineno-1-370 href=#__codelineno-1-370></a>    <span class=p>),</span>
</span><span id=__span-1-371><a id=__codelineno-1-371 name=__codelineno-1-371 href=#__codelineno-1-371></a>    <span class=n>sharpe_ratio_std</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-372><a id=__codelineno-1-372 name=__codelineno-1-372 href=#__codelineno-1-372></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-373><a id=__codelineno-1-373 name=__codelineno-1-373 href=#__codelineno-1-373></a>    <span class=p>),</span>
</span><span id=__span-1-374><a id=__codelineno-1-374 name=__codelineno-1-374 href=#__codelineno-1-374></a>    <span class=n>prob_sharpe_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-375><a id=__codelineno-1-375 name=__codelineno-1-375 href=#__codelineno-1-375></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-376><a id=__codelineno-1-376 name=__codelineno-1-376 href=#__codelineno-1-376></a>    <span class=p>),</span>
</span><span id=__span-1-377><a id=__codelineno-1-377 name=__codelineno-1-377 href=#__codelineno-1-377></a>    <span class=n>deflated_sharpe_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-378><a id=__codelineno-1-378 name=__codelineno-1-378 href=#__codelineno-1-378></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-379><a id=__codelineno-1-379 name=__codelineno-1-379 href=#__codelineno-1-379></a>    <span class=p>),</span>
</span><span id=__span-1-380><a id=__codelineno-1-380 name=__codelineno-1-380 href=#__codelineno-1-380></a>    <span class=n>downside_risk</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-381><a id=__codelineno-1-381 name=__codelineno-1-381 href=#__codelineno-1-381></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-382><a id=__codelineno-1-382 name=__codelineno-1-382 href=#__codelineno-1-382></a>    <span class=p>),</span>
</span><span id=__span-1-383><a id=__codelineno-1-383 name=__codelineno-1-383 href=#__codelineno-1-383></a>    <span class=n>sortino_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-384><a id=__codelineno-1-384 name=__codelineno-1-384 href=#__codelineno-1-384></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-385><a id=__codelineno-1-385 name=__codelineno-1-385 href=#__codelineno-1-385></a>    <span class=p>),</span>
</span><span id=__span-1-386><a id=__codelineno-1-386 name=__codelineno-1-386 href=#__codelineno-1-386></a>    <span class=n>information_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-387><a id=__codelineno-1-387 name=__codelineno-1-387 href=#__codelineno-1-387></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-388><a id=__codelineno-1-388 name=__codelineno-1-388 href=#__codelineno-1-388></a>    <span class=p>),</span>
</span><span id=__span-1-389><a id=__codelineno-1-389 name=__codelineno-1-389 href=#__codelineno-1-389></a>    <span class=n>beta</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-390><a id=__codelineno-1-390 name=__codelineno-1-390 href=#__codelineno-1-390></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-391><a id=__codelineno-1-391 name=__codelineno-1-391 href=#__codelineno-1-391></a>    <span class=p>),</span>
</span><span id=__span-1-392><a id=__codelineno-1-392 name=__codelineno-1-392 href=#__codelineno-1-392></a>    <span class=n>alpha</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-393><a id=__codelineno-1-393 name=__codelineno-1-393 href=#__codelineno-1-393></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-394><a id=__codelineno-1-394 name=__codelineno-1-394 href=#__codelineno-1-394></a>    <span class=p>),</span>
</span><span id=__span-1-395><a id=__codelineno-1-395 name=__codelineno-1-395 href=#__codelineno-1-395></a>    <span class=n>tail_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-396><a id=__codelineno-1-396 name=__codelineno-1-396 href=#__codelineno-1-396></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-397><a id=__codelineno-1-397 name=__codelineno-1-397 href=#__codelineno-1-397></a>    <span class=p>),</span>
</span><span id=__span-1-398><a id=__codelineno-1-398 name=__codelineno-1-398 href=#__codelineno-1-398></a>    <span class=n>value_at_risk</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-399><a id=__codelineno-1-399 name=__codelineno-1-399 href=#__codelineno-1-399></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-400><a id=__codelineno-1-400 name=__codelineno-1-400 href=#__codelineno-1-400></a>    <span class=p>),</span>
</span><span id=__span-1-401><a id=__codelineno-1-401 name=__codelineno-1-401 href=#__codelineno-1-401></a>    <span class=n>cond_value_at_risk</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-402><a id=__codelineno-1-402 name=__codelineno-1-402 href=#__codelineno-1-402></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-403><a id=__codelineno-1-403 name=__codelineno-1-403 href=#__codelineno-1-403></a>    <span class=p>),</span>
</span><span id=__span-1-404><a id=__codelineno-1-404 name=__codelineno-1-404 href=#__codelineno-1-404></a>    <span class=n>capture_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-405><a id=__codelineno-1-405 name=__codelineno-1-405 href=#__codelineno-1-405></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-406><a id=__codelineno-1-406 name=__codelineno-1-406 href=#__codelineno-1-406></a>    <span class=p>),</span>
</span><span id=__span-1-407><a id=__codelineno-1-407 name=__codelineno-1-407 href=#__codelineno-1-407></a>    <span class=n>up_capture_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-408><a id=__codelineno-1-408 name=__codelineno-1-408 href=#__codelineno-1-408></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-409><a id=__codelineno-1-409 name=__codelineno-1-409 href=#__codelineno-1-409></a>    <span class=p>),</span>
</span><span id=__span-1-410><a id=__codelineno-1-410 name=__codelineno-1-410 href=#__codelineno-1-410></a>    <span class=n>down_capture_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-411><a id=__codelineno-1-411 name=__codelineno-1-411 href=#__codelineno-1-411></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-412><a id=__codelineno-1-412 name=__codelineno-1-412 href=#__codelineno-1-412></a>    <span class=p>),</span>
</span><span id=__span-1-413><a id=__codelineno-1-413 name=__codelineno-1-413 href=#__codelineno-1-413></a>    <span class=n>drawdown</span><span class=o>=</span><span class=nb>dict</span><span class=p>(),</span>
</span><span id=__span-1-414><a id=__codelineno-1-414 name=__codelineno-1-414 href=#__codelineno-1-414></a>    <span class=n>max_drawdown</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-1-415><a id=__codelineno-1-415 name=__codelineno-1-415 href=#__codelineno-1-415></a>        <span class=n>obj_type</span><span class=o>=</span><span class=s1>&#39;red_array&#39;</span>
</span><span id=__span-1-416><a id=__codelineno-1-416 name=__codelineno-1-416 href=#__codelineno-1-416></a>    <span class=p>)</span>
</span><span id=__span-1-417><a id=__codelineno-1-417 name=__codelineno-1-417 href=#__codelineno-1-417></a><span class=p>)</span>
</span></code></pre></div> <hr> <h2 id=vectorbtpro.portfolio.base.fix_wrapper_for_records>fix_wrapper_for_records <span class=dobjtype>function</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L79-L90 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.fix_wrapper_for_records title="Permanent link">&para;</a></h2> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>fix_wrapper_for_records</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>pf</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=p>)</span>
</span></code></pre></div> <p>Adjust wrapper flags for records based on the portfolio's cash sharing setting.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>pf</code></strong> :&ensp;<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a></dt> <dd>Portfolio instance.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>ArrayWrapper</code></dt> <dd>Adjusted array wrapper with updated flags.</dd> </dl> <hr> <h2 id=vectorbtpro.portfolio.base.records_indexing_func>records_indexing_func <span class=dobjtype>function</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L93-L122 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.records_indexing_func title="Permanent link">&para;</a></h2> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>records_indexing_func</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>obj</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>wrapper_meta</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=bp>cls</span><span class=p>,</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=n>groups_only</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=p>)</span>
</span></code></pre></div> <p>Apply the indexing function to a record array.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>obj</code></strong> :&ensp;<code>RecordArray</code></dt> <dd>Record array to be indexed.</dd> <dt><strong><code>wrapper_meta</code></strong> :&ensp;<code>dict</code></dt> <dd>Metadata from the indexing operation on the wrapper.</dd> <dt><strong><code>cls</code></strong> :&ensp;<code>Union[type, str]</code></dt> <dd>Record class or its attribute name.</dd> <dt><strong><code>groups_only</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to apply indexing only for groups.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Additional keyword arguments.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>RecordArray</code></dt> <dd>Resulting record array after indexing.</dd> </dl> <hr> <h2 id=vectorbtpro.portfolio.base.records_resample_func>records_resample_func <span class=dobjtype>function</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L125-L150 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.records_resample_func title="Permanent link">&para;</a></h2> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>records_resample_func</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>obj</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>resampler</span><span class=p>,</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>wrapper</span><span class=p>,</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=bp>cls</span><span class=p>,</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=p>)</span>
</span></code></pre></div> <p>Apply the resampling function to a record array.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>obj</code></strong> :&ensp;<code>ArrayLike</code></dt> <dd>Record data array.</dd> <dt><strong><code>resampler</code></strong> :&ensp;<code>Union[Resampler, PandasResampler]</code></dt> <dd><a href=https://vectorbt.pro/pvt_41531c19/api/base/resampling/base/#vectorbtpro.base.resampling.base.Resampler title=vectorbtpro.base.resampling.base.Resampler>Resampler</a> instance or a Pandas resampler.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>ArrayWrapper</code></dt> <dd> <p>Array wrapper instance.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper title=vectorbtpro.base.wrapping.ArrayWrapper>ArrayWrapper</a>.</p> </dd> <dt><strong><code>cls</code></strong> :&ensp;<code>Union[type, str]</code></dt> <dd>Record class or its attribute name.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Additional keyword arguments.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>RecordArray</code></dt> <dd>Resampled record array.</dd> </dl> <hr> <h2 id=vectorbtpro.portfolio.base.returns_resample_func>returns_resample_func <span class=dobjtype>function</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L153-L186 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.returns_resample_func title="Permanent link">&para;</a></h2> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>returns_resample_func</span><span class=p>(</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>    <span class=n>obj</span><span class=p>,</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>    <span class=n>resampler</span><span class=p>,</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>    <span class=n>wrapper</span><span class=p>,</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>    <span class=n>fill_with_zero</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=p>)</span>
</span></code></pre></div> <p>Apply the resampling function to returns data.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>obj</code></strong> :&ensp;<code>ArrayLike</code></dt> <dd>Returns data array.</dd> <dt><strong><code>resampler</code></strong> :&ensp;<code>Union[Resampler, PandasResampler]</code></dt> <dd><a href=https://vectorbt.pro/pvt_41531c19/api/base/resampling/base/#vectorbtpro.base.resampling.base.Resampler title=vectorbtpro.base.resampling.base.Resampler>Resampler</a> instance or a Pandas resampler.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>ArrayWrapper</code></dt> <dd> <p>Array wrapper instance.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper title=vectorbtpro.base.wrapping.ArrayWrapper>ArrayWrapper</a>.</p> </dd> <dt><strong><code>fill_with_zero</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fill missing values with zero.</dd> <dt><strong><code>log_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to compute logarithmic returns.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Additional keyword arguments.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>ArrayLike</code></dt> <dd>Resampled returns array.</dd> </dl> <hr> <h2 id=vectorbtpro.portfolio.base.MetaPortfolio>MetaPortfolio <span class=dobjtype>class</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L480-L493 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.MetaPortfolio title="Permanent link">&para;</a></h2> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>MetaPortfolio</span><span class=p>(</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>    <span class=n>name</span><span class=p>,</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>    <span class=n>bases</span><span class=p>,</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>    <span class=n>attrs</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=p>)</span>
</span></code></pre></div> <p>Metaclass for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</p> <p>This metaclass defines type-level configuration and behavior for portfolio classes.</p> <p><strong>Superclasses</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/analyzable/#vectorbtpro.generic.analyzable.MetaAnalyzable title=vectorbtpro.generic.analyzable.MetaAnalyzable>MetaAnalyzable</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.MetaConfigured title=vectorbtpro.utils.config.MetaConfigured>MetaConfigured</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.MetaPlotsBuilderMixin title=vectorbtpro.generic.plots_builder.MetaPlotsBuilderMixin>MetaPlotsBuilderMixin</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.MetaStatsBuilderMixin title=vectorbtpro.generic.stats_builder.MetaStatsBuilderMixin>MetaStatsBuilderMixin</a></li> <li><code>builtins.type</code></li> </ul> <p><strong>Inherited members</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.MetaStatsBuilderMixin.metrics title=vectorbtpro.generic.analyzable.MetaAnalyzable.metrics>MetaAnalyzable.metrics</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.MetaPlotsBuilderMixin.subplots title=vectorbtpro.generic.analyzable.MetaAnalyzable.subplots>MetaAnalyzable.subplots</a></li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.MetaPortfolio.in_output_config>in_output_config <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L486-L493 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.MetaPortfolio.in_output_config title="Permanent link">&para;</a></h3> <p>In-place output configuration settings.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Config</code></dt> <dd>Configuration settings for in-place outputs.</dd> </dl> <hr> <h2 id=vectorbtpro.portfolio.base.Portfolio>Portfolio <span class=dobjtype>class</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio title="Permanent link">&para;</a></h2> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>Portfolio</span><span class=p>(</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>    <span class=n>wrapper</span><span class=p>,</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=n>order_records</span><span class=p>,</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>    <span class=nb>open</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>    <span class=n>high</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>    <span class=n>low</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>    <span class=n>log_records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>    <span class=n>init_cash</span><span class=o>=</span><span class=s1>&#39;auto&#39;</span><span class=p>,</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a>    <span class=n>init_position</span><span class=o>=</span><span class=mf>0.0</span><span class=p>,</span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a>    <span class=n>init_price</span><span class=o>=</span><span class=n>nan</span><span class=p>,</span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=mf>0.0</span><span class=p>,</span>
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a>    <span class=n>cash_deposits_as_input</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-16><a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a>    <span class=n>cash_earnings</span><span class=o>=</span><span class=mf>0.0</span><span class=p>,</span>
</span><span id=__span-7-17><a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-18><a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-19><a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a>    <span class=n>call_seq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-20><a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a>    <span class=n>in_outputs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-21><a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a>    <span class=n>use_in_outputs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-22><a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a>    <span class=n>bm_close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-23><a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a>    <span class=n>fillna_close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-24><a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-25><a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a>    <span class=n>returns_acc_defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-26><a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a>    <span class=n>trades_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-27><a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a>    <span class=n>orders_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-28><a id=__codelineno-7-28 name=__codelineno-7-28 href=#__codelineno-7-28></a>    <span class=n>logs_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-29><a id=__codelineno-7-29 name=__codelineno-7-29 href=#__codelineno-7-29></a>    <span class=n>trades_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-30><a id=__codelineno-7-30 name=__codelineno-7-30 href=#__codelineno-7-30></a>    <span class=n>entry_trades_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-31><a id=__codelineno-7-31 name=__codelineno-7-31 href=#__codelineno-7-31></a>    <span class=n>exit_trades_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-32><a id=__codelineno-7-32 name=__codelineno-7-32 href=#__codelineno-7-32></a>    <span class=n>positions_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-33><a id=__codelineno-7-33 name=__codelineno-7-33 href=#__codelineno-7-33></a>    <span class=n>drawdowns_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-34><a id=__codelineno-7-34 name=__codelineno-7-34 href=#__codelineno-7-34></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-7-35><a id=__codelineno-7-35 name=__codelineno-7-35 href=#__codelineno-7-35></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-7-36><a id=__codelineno-7-36 name=__codelineno-7-36 href=#__codelineno-7-36></a><span class=p>)</span>
</span></code></pre></div> <p>Class for simulating a portfolio and measuring its performance.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>wrapper</code></strong> :&ensp;<code>ArrayWrapper</code></dt> <dd> <p>Array wrapper instance.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper title=vectorbtpro.base.wrapping.ArrayWrapper>ArrayWrapper</a>.</p> </dd> <dt><strong><code>order_records</code></strong> :&ensp;<code>Union[RecordArray, SimulationOutput]</code></dt> <dd> <p>Structured NumPy array of order records, or a <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.SimulationOutput title=vectorbtpro.portfolio.enums.SimulationOutput>SimulationOutput</a> object.</p> <p>Must adhere to the <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.order_dt title=vectorbtpro.portfolio.enums.order_dt>order_dt</a> dtype.</p> </dd> <dt><strong><code>close</code></strong> :&ensp;<code>ArrayLike</code></dt> <dd> <p>Last asset price at each bar.</p> <p>Provided in a format that supports flexible indexing.</p> </dd> <dt><strong><code>open</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Open price at each bar.</p> <p>Provided in a format that supports flexible indexing.</p> </dd> <dt><strong><code>high</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>High price at each bar.</p> <p>Provided in a format that supports flexible indexing.</p> </dd> <dt><strong><code>low</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Low price at each bar.</p> <p>Provided in a format that supports flexible indexing.</p> </dd> <dt><strong><code>log_records</code></strong> :&ensp;<code>Optional[RecordArray]</code></dt> <dd> <p>Structured NumPy array of log records.</p> <p>Must adhere to the <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.log_dt title=vectorbtpro.portfolio.enums.log_dt>log_dt</a> dtype.</p> </dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether cash is shared among assets of the same group.</dd> <dt><strong><code>init_cash</code></strong> :&ensp;<code>Union[str, ArrayLike]</code></dt> <dd> <p>Initial capital.</p> <p>Provided in a format that supports flexible indexing.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.InitCashMode title=vectorbtpro.portfolio.enums.InitCashMode>InitCashMode</a> if provided as a string.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When using <code>InitCashMode.AutoAlign</code>, initial cash values are synchronized across columns/groups after initialization.</p> </div> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>ArrayLike</code></dt> <dd> <p>Initial position at each bar.</p> <p>Provided in a format that supports flexible indexing.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>ArrayLike</code></dt> <dd> <p>Initial position price at each bar.</p> <p>Provided in a format that supports flexible indexing.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>ArrayLike</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Provided in a format that supports flexible indexing.</p> </dd> <dt><strong><code>cash_earnings</code></strong> :&ensp;<code>ArrayLike</code></dt> <dd> <p>Cash earnings or losses at the end of each bar.</p> <p>Provided in a format that supports flexible indexing.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>call_seq</code></strong> :&ensp;<code>Optional[Array2d]</code></dt> <dd>Sequence dictating the order in which columns are processed per row and group.</dd> <dt><strong><code>in_outputs</code></strong> :&ensp;<code>Optional[NamedTuple]</code></dt> <dd> <p>Named tuple containing in-place output objects.</p> <p>Provide pre-broadcasted and grouped objects to substitute default <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> attributes. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func title=vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func>Portfolio.in_outputs_indexing_func</a> for indexing details.</p> </dd> <dt><strong><code>use_in_outputs</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Indicates whether to return in-place output objects when accessing properties.</dd> <dt><strong><code>bm_close</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Last benchmark asset price at each bar.</p> <p>Provided in a format that supports flexible indexing.</p> </dd> <dt><strong><code>fillna_close</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Whether to forward-backward fill NaN values in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.close title=vectorbtpro.portfolio.base.Portfolio.close>Portfolio.close</a>.</p> <p>Filling is applied post-simulation to avoid NaNs in asset values. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_filled_close title=vectorbtpro.portfolio.base.Portfolio.get_filled_close>Portfolio.get_filled_close</a>.</p> </dd> <dt><strong><code>year_freq</code></strong> :&ensp;<code>Optional[FrequencyLike]</code></dt> <dd>Year frequency for annualization (e.g., "252 days", "auto").</dd> <dt><strong><code>returns_acc_defaults</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Defaults for <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor title=vectorbtpro.returns.accessors.ReturnsAccessor>ReturnsAccessor</a>.</dd> <dt><strong><code>trades_type</code></strong> :&ensp;<code>Optional[Union[str, int]]</code></dt> <dd> <p>Default trades type for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.TradesType title=vectorbtpro.portfolio.enums.TradesType>TradesType</a> if provided as a string.</p> </dd> <dt><strong><code>orders_cls</code></strong> :&ensp;<code>Optional[Type]</code></dt> <dd>Class used for wrapping order records.</dd> <dt><strong><code>logs_cls</code></strong> :&ensp;<code>Optional[Type]</code></dt> <dd>Class used for wrapping log records.</dd> <dt><strong><code>trades_cls</code></strong> :&ensp;<code>Optional[Type]</code></dt> <dd>Class used for wrapping trade records.</dd> <dt><strong><code>entry_trades_cls</code></strong> :&ensp;<code>Optional[Type]</code></dt> <dd>Class used for wrapping entry trade records.</dd> <dt><strong><code>exit_trades_cls</code></strong> :&ensp;<code>Optional[Type]</code></dt> <dd>Class used for wrapping exit trade records.</dd> <dt><strong><code>positions_cls</code></strong> :&ensp;<code>Optional[Type]</code></dt> <dd>Class used for wrapping position records.</dd> <dt><strong><code>drawdowns_cls</code></strong> :&ensp;<code>Optional[Type]</code></dt> <dd>Class used for wrapping drawdown records.</dd> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Applied to initial positions, cash, deposits, earnings, and orders.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/analyzable/#vectorbtpro.generic.analyzable.Analyzable title=vectorbtpro.generic.analyzable.Analyzable>Analyzable</a>.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.portfolio title=vectorbtpro._settings.portfolio>portfolio</a>.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Use class methods with the <code>from_</code> prefix to build a portfolio. The <code>__init__</code> method is reserved for indexing purposes.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This class is immutable. To change any attribute, use <a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.replace title=vectorbtpro.portfolio.base.Portfolio.replace>Configured.replace</a>.</p> </div> <p><strong>Superclasses</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/analyzable/#vectorbtpro.generic.analyzable.Analyzable title=vectorbtpro.generic.analyzable.Analyzable>Analyzable</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/attr_/#vectorbtpro.utils.attr_.AttrResolverMixin title=vectorbtpro.utils.attr_.AttrResolverMixin>AttrResolverMixin</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/base/#vectorbtpro.utils.base.Base title=vectorbtpro.utils.base.Base>Base</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/caching/#vectorbtpro.utils.caching.Cacheable title=vectorbtpro.utils.caching.Cacheable>Cacheable</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/chaining/#vectorbtpro.utils.chaining.Chainable title=vectorbtpro.utils.chaining.Chainable>Chainable</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/checks/#vectorbtpro.utils.checks.Comparable title=vectorbtpro.utils.checks.Comparable>Comparable</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured title=vectorbtpro.utils.config.Configured>Configured</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.ExtPandasIndexer title=vectorbtpro.base.indexing.ExtPandasIndexer>ExtPandasIndexer</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings title=vectorbtpro.utils.config.HasSettings>HasSettings</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper title=vectorbtpro.base.wrapping.HasWrapper>HasWrapper</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexes/#vectorbtpro.base.indexes.IndexApplier title=vectorbtpro.base.indexes.IndexApplier>IndexApplier</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.IndexingBase title=vectorbtpro.base.indexing.IndexingBase>IndexingBase</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/params/#vectorbtpro.utils.params.ItemParamable title=vectorbtpro.utils.params.ItemParamable>ItemParamable</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/params/#vectorbtpro.utils.params.Itemable title=vectorbtpro.utils.params.Itemable>Itemable</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.PandasIndexer title=vectorbtpro.base.indexing.PandasIndexer>PandasIndexer</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/params/#vectorbtpro.utils.params.Paramable title=vectorbtpro.utils.params.Paramable>Paramable</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable title=vectorbtpro.utils.pickling.Pickleable>Pickleable</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.PlotsBuilderMixin title=vectorbtpro.generic.plots_builder.PlotsBuilderMixin>PlotsBuilderMixin</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/formatting/#vectorbtpro.utils.formatting.Prettified title=vectorbtpro.utils.formatting.Prettified>Prettified</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin title=vectorbtpro.generic.sim_range.SimRangeMixin>SimRangeMixin</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.StatsBuilderMixin title=vectorbtpro.generic.stats_builder.StatsBuilderMixin>StatsBuilderMixin</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping title=vectorbtpro.base.wrapping.Wrapping>Wrapping</a></li> </ul> <p><strong>Inherited members</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/attr_/#vectorbtpro.utils.attr_.AttrResolverMixin.cls_dir title=vectorbtpro.generic.analyzable.Analyzable.cls_dir>Analyzable.cls_dir</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.column_only_select title=vectorbtpro.generic.analyzable.Analyzable.column_only_select>Analyzable.column_only_select</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.config title=vectorbtpro.generic.analyzable.Analyzable.config>Analyzable.config</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.group_select title=vectorbtpro.generic.analyzable.Analyzable.group_select>Analyzable.group_select</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.PandasIndexer.iloc title=vectorbtpro.generic.analyzable.Analyzable.iloc>Analyzable.iloc</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.PandasIndexer.indexing_kwargs title=vectorbtpro.generic.analyzable.Analyzable.indexing_kwargs>Analyzable.indexing_kwargs</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.PandasIndexer.loc title=vectorbtpro.generic.analyzable.Analyzable.loc>Analyzable.loc</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.range_only_select title=vectorbtpro.generic.analyzable.Analyzable.range_only_select>Analyzable.range_only_select</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.rec_state title=vectorbtpro.generic.analyzable.Analyzable.rec_state>Analyzable.rec_state</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/attr_/#vectorbtpro.utils.attr_.AttrResolverMixin.self_aliases title=vectorbtpro.generic.analyzable.Analyzable.self_aliases>Analyzable.self_aliases</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.unwrapped title=vectorbtpro.generic.analyzable.Analyzable.unwrapped>Analyzable.unwrapped</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.generic.analyzable.Analyzable.wrapper>Analyzable.wrapper</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.ExtPandasIndexer.xloc title=vectorbtpro.generic.analyzable.Analyzable.xloc>Analyzable.xloc</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/attr_/#vectorbtpro.utils.attr_.AttrResolverMixin.deep_getattr title=vectorbtpro.generic.analyzable.Analyzable.deep_getattr>AttrResolverMixin.deep_getattr</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/attr_/#vectorbtpro.utils.attr_.AttrResolverMixin.resolve_attr title=vectorbtpro.generic.analyzable.Analyzable.resolve_attr>AttrResolverMixin.resolve_attr</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/base/#vectorbtpro.utils.base.Base.chat title=vectorbtpro.generic.analyzable.Analyzable.chat>Base.chat</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/base/#vectorbtpro.utils.base.Base.find_api title=vectorbtpro.generic.analyzable.Analyzable.find_api>Base.find_api</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/base/#vectorbtpro.utils.base.Base.find_assets title=vectorbtpro.generic.analyzable.Analyzable.find_assets>Base.find_assets</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/base/#vectorbtpro.utils.base.Base.find_docs title=vectorbtpro.generic.analyzable.Analyzable.find_docs>Base.find_docs</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/base/#vectorbtpro.utils.base.Base.find_examples title=vectorbtpro.generic.analyzable.Analyzable.find_examples>Base.find_examples</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/base/#vectorbtpro.utils.base.Base.find_messages title=vectorbtpro.generic.analyzable.Analyzable.find_messages>Base.find_messages</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/caching/#vectorbtpro.utils.caching.Cacheable.get_ca_setup title=vectorbtpro.generic.analyzable.Analyzable.get_ca_setup>Cacheable.get_ca_setup</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/chaining/#vectorbtpro.utils.chaining.Chainable.chain title=vectorbtpro.generic.analyzable.Analyzable.chain>Chainable.chain</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/chaining/#vectorbtpro.utils.chaining.Chainable.pipe title=vectorbtpro.generic.analyzable.Analyzable.pipe>Chainable.pipe</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.copy title=vectorbtpro.generic.analyzable.Analyzable.copy>Configured.copy</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.equals title=vectorbtpro.generic.analyzable.Analyzable.equals>Configured.equals</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.get_init_arg_names title=vectorbtpro.generic.analyzable.Analyzable.get_init_arg_names>Configured.get_init_arg_names</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.get_writeable_attrs title=vectorbtpro.generic.analyzable.Analyzable.get_writeable_attrs>Configured.get_writeable_attrs</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/formatting/#vectorbtpro.utils.formatting.Prettified.prettify title=vectorbtpro.generic.analyzable.Analyzable.prettify>Configured.prettify</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.replace title=vectorbtpro.generic.analyzable.Analyzable.replace>Configured.replace</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.resolve_merge_kwargs title=vectorbtpro.generic.analyzable.Analyzable.resolve_merge_kwargs>Configured.resolve_merge_kwargs</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.update_config title=vectorbtpro.generic.analyzable.Analyzable.update_config>Configured.update_config</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.get_path_setting title=vectorbtpro.generic.analyzable.Analyzable.get_path_setting>HasSettings.get_path_setting</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.get_path_settings title=vectorbtpro.generic.analyzable.Analyzable.get_path_settings>HasSettings.get_path_settings</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.get_setting title=vectorbtpro.generic.analyzable.Analyzable.get_setting>HasSettings.get_setting</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.get_settings title=vectorbtpro.generic.analyzable.Analyzable.get_settings>HasSettings.get_settings</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.has_path_setting title=vectorbtpro.generic.analyzable.Analyzable.has_path_setting>HasSettings.has_path_setting</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.has_path_settings title=vectorbtpro.generic.analyzable.Analyzable.has_path_settings>HasSettings.has_path_settings</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.has_setting title=vectorbtpro.generic.analyzable.Analyzable.has_setting>HasSettings.has_setting</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.has_settings title=vectorbtpro.generic.analyzable.Analyzable.has_settings>HasSettings.has_settings</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.reset_settings title=vectorbtpro.generic.analyzable.Analyzable.reset_settings>HasSettings.reset_settings</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.resolve_setting title=vectorbtpro.generic.analyzable.Analyzable.resolve_setting>HasSettings.resolve_setting</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.resolve_settings_paths title=vectorbtpro.generic.analyzable.Analyzable.resolve_settings_paths>HasSettings.resolve_settings_paths</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.HasSettings.set_settings title=vectorbtpro.generic.analyzable.Analyzable.set_settings>HasSettings.set_settings</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.chunk title=vectorbtpro.generic.analyzable.Analyzable.chunk>HasWrapper.chunk</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.chunk_apply title=vectorbtpro.generic.analyzable.Analyzable.chunk_apply>HasWrapper.chunk_apply</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.get_item_keys title=vectorbtpro.generic.analyzable.Analyzable.get_item_keys>HasWrapper.get_item_keys</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.items title=vectorbtpro.generic.analyzable.Analyzable.items>HasWrapper.items</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.select_col title=vectorbtpro.generic.analyzable.Analyzable.select_col>HasWrapper.select_col</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.select_col_from_obj title=vectorbtpro.generic.analyzable.Analyzable.select_col_from_obj>HasWrapper.select_col_from_obj</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.should_wrap title=vectorbtpro.generic.analyzable.Analyzable.should_wrap>HasWrapper.should_wrap</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.split title=vectorbtpro.generic.analyzable.Analyzable.split>HasWrapper.split</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.split_apply title=vectorbtpro.generic.analyzable.Analyzable.split_apply>HasWrapper.split_apply</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.ungroup title=vectorbtpro.generic.analyzable.Analyzable.ungroup>HasWrapper.ungroup</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexes/#vectorbtpro.base.indexes.IndexApplier.add_levels title=vectorbtpro.generic.analyzable.Analyzable.add_levels>IndexApplier.add_levels</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexes/#vectorbtpro.base.indexes.IndexApplier.drop_duplicate_levels title=vectorbtpro.generic.analyzable.Analyzable.drop_duplicate_levels>IndexApplier.drop_duplicate_levels</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexes/#vectorbtpro.base.indexes.IndexApplier.drop_levels title=vectorbtpro.generic.analyzable.Analyzable.drop_levels>IndexApplier.drop_levels</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexes/#vectorbtpro.base.indexes.IndexApplier.drop_redundant_levels title=vectorbtpro.generic.analyzable.Analyzable.drop_redundant_levels>IndexApplier.drop_redundant_levels</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexes/#vectorbtpro.base.indexes.IndexApplier.rename_levels title=vectorbtpro.generic.analyzable.Analyzable.rename_levels>IndexApplier.rename_levels</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexes/#vectorbtpro.base.indexes.IndexApplier.select_levels title=vectorbtpro.generic.analyzable.Analyzable.select_levels>IndexApplier.select_levels</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.IndexingBase.indexing_setter_func title=vectorbtpro.generic.analyzable.Analyzable.indexing_setter_func>IndexingBase.indexing_setter_func</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/params/#vectorbtpro.utils.params.Paramable.as_param title=vectorbtpro.generic.analyzable.Analyzable.as_param>ItemParamable.as_param</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.PandasIndexer.xs title=vectorbtpro.generic.analyzable.Analyzable.xs>PandasIndexer.xs</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.decode_config title=vectorbtpro.generic.analyzable.Analyzable.decode_config>Pickleable.decode_config</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.decode_config_node title=vectorbtpro.generic.analyzable.Analyzable.decode_config_node>Pickleable.decode_config_node</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.decode_toml title=vectorbtpro.generic.analyzable.Analyzable.decode_toml>Pickleable.decode_toml</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.decode_toml_node title=vectorbtpro.generic.analyzable.Analyzable.decode_toml_node>Pickleable.decode_toml_node</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.decode_yaml title=vectorbtpro.generic.analyzable.Analyzable.decode_yaml>Pickleable.decode_yaml</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.decode_yaml_node title=vectorbtpro.generic.analyzable.Analyzable.decode_yaml_node>Pickleable.decode_yaml_node</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.dumps title=vectorbtpro.generic.analyzable.Analyzable.dumps>Pickleable.dumps</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.encode_config title=vectorbtpro.generic.analyzable.Analyzable.encode_config>Pickleable.encode_config</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.encode_config_node title=vectorbtpro.generic.analyzable.Analyzable.encode_config_node>Pickleable.encode_config_node</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.encode_toml title=vectorbtpro.generic.analyzable.Analyzable.encode_toml>Pickleable.encode_toml</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.encode_toml_node title=vectorbtpro.generic.analyzable.Analyzable.encode_toml_node>Pickleable.encode_toml_node</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.encode_yaml title=vectorbtpro.generic.analyzable.Analyzable.encode_yaml>Pickleable.encode_yaml</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.encode_yaml_node title=vectorbtpro.generic.analyzable.Analyzable.encode_yaml_node>Pickleable.encode_yaml_node</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.file_exists title=vectorbtpro.generic.analyzable.Analyzable.file_exists>Pickleable.file_exists</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.getsize title=vectorbtpro.generic.analyzable.Analyzable.getsize>Pickleable.getsize</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.load title=vectorbtpro.generic.analyzable.Analyzable.load>Pickleable.load</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.loads title=vectorbtpro.generic.analyzable.Analyzable.loads>Pickleable.loads</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.modify_state title=vectorbtpro.generic.analyzable.Analyzable.modify_state>Pickleable.modify_state</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.resolve_file_path title=vectorbtpro.generic.analyzable.Analyzable.resolve_file_path>Pickleable.resolve_file_path</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/pickling/#vectorbtpro.utils.pickling.Pickleable.save title=vectorbtpro.generic.analyzable.Analyzable.save>Pickleable.save</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.PlotsBuilderMixin.build_subplots_doc title=vectorbtpro.generic.analyzable.Analyzable.build_subplots_doc>PlotsBuilderMixin.build_subplots_doc</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.PlotsBuilderMixin.override_subplots_doc title=vectorbtpro.generic.analyzable.Analyzable.override_subplots_doc>PlotsBuilderMixin.override_subplots_doc</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.PlotsBuilderMixin.plots title=vectorbtpro.generic.analyzable.Analyzable.plots>PlotsBuilderMixin.plots</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.PlotsBuilderMixin.resolve_plots_setting title=vectorbtpro.generic.analyzable.Analyzable.resolve_plots_setting>PlotsBuilderMixin.resolve_plots_setting</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/formatting/#vectorbtpro.utils.formatting.Prettified.pprint title=vectorbtpro.generic.analyzable.Analyzable.pprint>Prettified.pprint</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/formatting/#vectorbtpro.utils.formatting.Prettified.prettify_doc title=vectorbtpro.generic.analyzable.Analyzable.prettify_doc>Prettified.prettify_doc</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.column_stack_sim_end title=vectorbtpro.generic.sim_range.SimRangeMixin.column_stack_sim_end>SimRangeMixin.column_stack_sim_end</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.column_stack_sim_start title=vectorbtpro.generic.sim_range.SimRangeMixin.column_stack_sim_start>SimRangeMixin.column_stack_sim_start</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.fit_fig_to_sim_range title=vectorbtpro.generic.sim_range.SimRangeMixin.fit_fig_to_sim_range>SimRangeMixin.fit_fig_to_sim_range</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_duration title=vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_duration>SimRangeMixin.get_sim_duration</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_end title=vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_end>SimRangeMixin.get_sim_end</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_end_index title=vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_end_index>SimRangeMixin.get_sim_end_index</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_start title=vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_start>SimRangeMixin.get_sim_start</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_start_index title=vectorbtpro.generic.sim_range.SimRangeMixin.get_sim_start_index>SimRangeMixin.get_sim_start_index</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.resample_sim_end title=vectorbtpro.generic.sim_range.SimRangeMixin.resample_sim_end>SimRangeMixin.resample_sim_end</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.resample_sim_start title=vectorbtpro.generic.sim_range.SimRangeMixin.resample_sim_start>SimRangeMixin.resample_sim_start</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.resolve_sim_end title=vectorbtpro.generic.sim_range.SimRangeMixin.resolve_sim_end>SimRangeMixin.resolve_sim_end</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.resolve_sim_end_value title=vectorbtpro.generic.sim_range.SimRangeMixin.resolve_sim_end_value>SimRangeMixin.resolve_sim_end_value</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.resolve_sim_start title=vectorbtpro.generic.sim_range.SimRangeMixin.resolve_sim_start>SimRangeMixin.resolve_sim_start</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.resolve_sim_start_value title=vectorbtpro.generic.sim_range.SimRangeMixin.resolve_sim_start_value>SimRangeMixin.resolve_sim_start_value</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.row_stack_sim_end title=vectorbtpro.generic.sim_range.SimRangeMixin.row_stack_sim_end>SimRangeMixin.row_stack_sim_end</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.row_stack_sim_start title=vectorbtpro.generic.sim_range.SimRangeMixin.row_stack_sim_start>SimRangeMixin.row_stack_sim_start</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.sim_duration title=vectorbtpro.generic.sim_range.SimRangeMixin.sim_duration>SimRangeMixin.sim_duration</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.sim_end title=vectorbtpro.generic.sim_range.SimRangeMixin.sim_end>SimRangeMixin.sim_end</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.sim_end_index title=vectorbtpro.generic.sim_range.SimRangeMixin.sim_end_index>SimRangeMixin.sim_end_index</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.sim_end_indexing_func title=vectorbtpro.generic.sim_range.SimRangeMixin.sim_end_indexing_func>SimRangeMixin.sim_end_indexing_func</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.sim_start title=vectorbtpro.generic.sim_range.SimRangeMixin.sim_start>SimRangeMixin.sim_start</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.sim_start_index title=vectorbtpro.generic.sim_range.SimRangeMixin.sim_start_index>SimRangeMixin.sim_start_index</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/sim_range/#vectorbtpro.generic.sim_range.SimRangeMixin.sim_start_indexing_func title=vectorbtpro.generic.sim_range.SimRangeMixin.sim_start_indexing_func>SimRangeMixin.sim_start_indexing_func</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.StatsBuilderMixin.build_metrics_doc title=vectorbtpro.generic.analyzable.Analyzable.build_metrics_doc>StatsBuilderMixin.build_metrics_doc</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.StatsBuilderMixin.override_metrics_doc title=vectorbtpro.generic.analyzable.Analyzable.override_metrics_doc>StatsBuilderMixin.override_metrics_doc</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.StatsBuilderMixin.resolve_stats_setting title=vectorbtpro.generic.analyzable.Analyzable.resolve_stats_setting>StatsBuilderMixin.resolve_stats_setting</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.StatsBuilderMixin.stats title=vectorbtpro.generic.analyzable.Analyzable.stats>StatsBuilderMixin.stats</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.apply_to_index title=vectorbtpro.generic.analyzable.Analyzable.apply_to_index>Wrapping.apply_to_index</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.regroup title=vectorbtpro.generic.analyzable.Analyzable.regroup>Wrapping.regroup</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.resolve_column_stack_kwargs title=vectorbtpro.generic.analyzable.Analyzable.resolve_column_stack_kwargs>Wrapping.resolve_column_stack_kwargs</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.resolve_row_stack_kwargs title=vectorbtpro.generic.analyzable.Analyzable.resolve_row_stack_kwargs>Wrapping.resolve_row_stack_kwargs</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/attr_/#vectorbtpro.utils.attr_.AttrResolverMixin.resolve_self title=vectorbtpro.generic.analyzable.Analyzable.resolve_self>Wrapping.resolve_self</a></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.resolve_stack_kwargs title=vectorbtpro.generic.analyzable.Analyzable.resolve_stack_kwargs>Wrapping.resolve_stack_kwargs</a></li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.allocations>allocations <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.allocations title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_allocations title=vectorbtpro.portfolio.base.Portfolio.get_allocations>Portfolio.get_allocations</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.alpha>alpha <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.alpha title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_alpha title=vectorbtpro.portfolio.base.Portfolio.get_alpha>Portfolio.get_alpha</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.annual_returns>annual_returns <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.annual_returns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_annual_returns title=vectorbtpro.portfolio.base.Portfolio.get_annual_returns>Portfolio.get_annual_returns</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.annualized_return>annualized_return <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.annualized_return title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_annualized_return title=vectorbtpro.portfolio.base.Portfolio.get_annualized_return>Portfolio.get_annualized_return</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.annualized_volatility>annualized_volatility <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.annualized_volatility title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_annualized_volatility title=vectorbtpro.portfolio.base.Portfolio.get_annualized_volatility>Portfolio.get_annualized_volatility</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.apply_weights>apply_weights <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6050-L6095 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.apply_weights title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>apply_weights</span><span class=p>(</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>    <span class=n>rescale</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>    <span class=n>apply_group_by</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=p>)</span>
</span></code></pre></div> <p>Get view of portfolio with asset weights applied and optionally rescaled.</p> <p>If <code>rescale</code> is True, weights are rescaled relative to other weights in the same group. For example, weights 0.5 and 0.5 are rescaled to 1.0 and 1.0 respectively, while weights 0.7 and 0.3 are rescaled to 1.4 and 0.6, respectively.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> if not provided.</p> <p>Passing None or False disables weights.</p> </dd> <dt><strong><code>rescale</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, rescale weights relative to other weights in the same group.</dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>apply_group_by</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply grouping based on <code>group_by</code>.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.replace title=vectorbtpro.portfolio.base.Portfolio.replace>Configured.replace</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a></dt> <dd>Portfolio view with asset weights applied.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.asset_flow>asset_flow <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.asset_flow title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_flow title=vectorbtpro.portfolio.base.Portfolio.get_asset_flow>Portfolio.get_asset_flow</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.asset_pnl>asset_pnl <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.asset_pnl title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_pnl title=vectorbtpro.portfolio.base.Portfolio.get_asset_pnl>Portfolio.get_asset_pnl</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.asset_returns>asset_returns <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.asset_returns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_returns title=vectorbtpro.portfolio.base.Portfolio.get_asset_returns>Portfolio.get_asset_returns</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.asset_value>asset_value <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.asset_value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_value title=vectorbtpro.portfolio.base.Portfolio.get_asset_value>Portfolio.get_asset_value</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.assets>assets <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.assets title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_assets title=vectorbtpro.portfolio.base.Portfolio.get_assets>Portfolio.get_assets</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.beta>beta <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.beta title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_beta title=vectorbtpro.portfolio.base.Portfolio.get_beta>Portfolio.get_beta</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.bm_close>bm_close <span class=dobjtype>custom_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5944-L5958 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.bm_close title="Permanent link">&para;</a></h3> <p>Benchmark price per unit series.</p> <p><strong>Returns</strong></p> <p>Union[None, bool, SeriesFrame]</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.bm_returns>bm_returns <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.bm_returns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_bm_returns title=vectorbtpro.portfolio.base.Portfolio.get_bm_returns>Portfolio.get_bm_returns</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.bm_value>bm_value <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.bm_value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_bm_value title=vectorbtpro.portfolio.base.Portfolio.get_bm_value>Portfolio.get_bm_value</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.build_in_output_config_doc>build_in_output_config_doc <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L13189-L13205 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.build_in_output_config_doc title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>build_in_output_config_doc</span><span class=p>(</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>    <span class=n>source_cls</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=p>)</span>
</span></code></pre></div> <p>Build in-place output configuration documentation.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>source_cls</code></strong> :&ensp;<code>Optional[type]</code></dt> <dd> <p>Source class providing the original configuration.</p> <p>If None, <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> is used.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>str</code></dt> <dd>Generated in-place output configuration documentation.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.call_seq>call_seq <span class=dobjtype>custom_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5770-L5785 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.call_seq title="Permanent link">&para;</a></h3> <p>Sequence of call identifiers per row and group.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[SeriesFrame]</code></dt> <dd>Pandas Series or DataFrame representing the sequence of call identifiers, or None if no call sequence exists.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.calmar_ratio>calmar_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.calmar_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_calmar_ratio title=vectorbtpro.portfolio.base.Portfolio.get_calmar_ratio>Portfolio.get_calmar_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.capture_ratio>capture_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.capture_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_capture_ratio title=vectorbtpro.portfolio.base.Portfolio.get_capture_ratio>Portfolio.get_capture_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.cash>cash <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.cash title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash title=vectorbtpro.portfolio.base.Portfolio.get_cash>Portfolio.get_cash</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.cash_deposits>cash_deposits <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.cash_deposits title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_deposits title=vectorbtpro.portfolio.base.Portfolio.get_cash_deposits>Portfolio.get_cash_deposits</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.cash_deposits_as_input>cash_deposits_as_input <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5787-L5795 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.cash_deposits_as_input title="Permanent link">&para;</a></h3> <p>Flag indicating whether cash deposits are added to the input value when calculating returns, as opposed to subtracting them from the output value.</p> <p><strong>Returns</strong></p> <dl> <dt><code>bool</code></dt> <dd>True if cash deposits are included in the input value for return calculations; False otherwise.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.cash_earnings>cash_earnings <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.cash_earnings title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_earnings title=vectorbtpro.portfolio.base.Portfolio.get_cash_earnings>Portfolio.get_cash_earnings</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.cash_flow>cash_flow <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.cash_flow title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_flow title=vectorbtpro.portfolio.base.Portfolio.get_cash_flow>Portfolio.get_cash_flow</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.cash_sharing>cash_sharing <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5610-L5617 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.cash_sharing title="Permanent link">&para;</a></h3> <p>Whether to share cash within the same group.</p> <p><strong>Returns</strong></p> <dl> <dt><code>bool</code></dt> <dd>True if portfolio cash is shared among assets within the same group, False otherwise.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.close>close <span class=dobjtype>custom_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5887-L5894 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.close title="Permanent link">&para;</a></h3> <p>Last asset price at each bar.</p> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>SeriesFrame containing the close prices for each bar.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.close_flex>close_flex <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5838-L5849 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.close_flex title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.close title=vectorbtpro.portfolio.base.Portfolio.close>Portfolio.close</a> returned in a format that supports flexible indexing.</p> <p><strong>Returns</strong></p> <dl> <dt><code>ArrayLike</code></dt> <dd>Close price data in a flexible format.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.column_stack>column_stack <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L1367-L1611 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.column_stack title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>column_stack</span><span class=p>(</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>    <span class=o>*</span><span class=n>objs</span><span class=p>,</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=n>wrapper_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    <span class=n>ffill_close</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>    <span class=n>fbfill_close</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=p>)</span>
</span></code></pre></div> <p>Stack multiple <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instances along columns.</p> <p>This function stacks the provided <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> objects along their columns using <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.column_stack title=vectorbtpro.base.wrapping.ArrayWrapper.column_stack>ArrayWrapper.column_stack</a>. All input portfolios must have the same cash sharing configuration.</p> <p>Depending on the array dimensions:</p> <ul> <li>Two-dimensional arrays are merged via <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.column_stack_arrs title=vectorbtpro.base.wrapping.ArrayWrapper.column_stack_arrs>ArrayWrapper.column_stack_arrs</a>.</li> <li>One-dimensional arrays are concatenated via <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.concat_arrs title=vectorbtpro.base.wrapping.ArrayWrapper.concat_arrs>ArrayWrapper.concat_arrs</a>.</li> </ul> <p>In-place outputs are merged using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.column_stack_in_outputs title=vectorbtpro.portfolio.base.Portfolio.column_stack_in_outputs>Portfolio.column_stack_in_outputs</a> and records are aggregated using <a href=https://vectorbt.pro/pvt_41531c19/api/records/base/#vectorbtpro.records.base.Records.column_stack_records_arrs title=vectorbtpro.records.base.Records.column_stack_records_arrs>Records.column_stack_records_arrs</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>*objs</code></strong> :&ensp;<code>MaybeSequence[Portfolio]</code></dt> <dd>(Additional) <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instances to stack.</dd> <dt><strong><code>wrapper_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for configuring the wrapper.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper title=vectorbtpro.base.wrapping.ArrayWrapper>ArrayWrapper</a>.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>ffill_close</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, forward-fill missing values in the close prices.</dd> <dt><strong><code>fbfill_close</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, forward and backward-fill missing values in the close prices.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> through <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.resolve_column_stack_kwargs title=vectorbtpro.portfolio.base.Portfolio.resolve_column_stack_kwargs>Wrapping.resolve_column_stack_kwargs</a> and <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.resolve_stack_kwargs title=vectorbtpro.portfolio.base.Portfolio.resolve_stack_kwargs>Wrapping.resolve_stack_kwargs</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a></dt> <dd>New <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instance created by stacking the input objects along columns.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.column_stack_in_outputs>column_stack_in_outputs <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L1292-L1365 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.column_stack_in_outputs title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>column_stack_in_outputs</span><span class=p>(</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>    <span class=o>*</span><span class=n>objs</span><span class=p>,</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=p>)</span>
</span></code></pre></div> <p>Stack <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> along columns.</p> <p>Merge the <code>in_outputs</code> from multiple <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instances by stacking corresponding fields. All in-place output tuples must either be None or have identical fields.</p> <p>If a field is also defined as an attribute of the <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> class, its options are used to determine the required type and layout by merging results from <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.parse_field_options title=vectorbtpro.portfolio.base.Portfolio.parse_field_options>Portfolio.parse_field_options</a> and <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_output_config title=vectorbtpro.portfolio.base.Portfolio.in_output_config>Portfolio.in_output_config</a>. Stacking for each field is performed using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.column_stack_objs title=vectorbtpro.portfolio.base.Portfolio.column_stack_objs>Portfolio.column_stack_objs</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>*objs</code></strong> :&ensp;<code>MaybeSequence[Portfolio]</code></dt> <dd><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> objects whose <code>in_outputs</code> attributes are to be stacked.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.column_stack_objs title=vectorbtpro.portfolio.base.Portfolio.column_stack_objs>Portfolio.column_stack_objs</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[NamedTuple]</code></dt> <dd>New <code>in_outputs</code> named tuple with fields stacked along columns, or None if all <code>in_outputs</code> are None.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.column_stack_objs>column_stack_objs <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L1186-L1290 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.column_stack_objs title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>column_stack_objs</span><span class=p>(</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>    <span class=n>objs</span><span class=p>,</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>    <span class=n>wrappers</span><span class=p>,</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>    <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;columns_or_groups&#39;</span><span class=p>,</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>    <span class=n>obj_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>    <span class=n>obj_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>    <span class=n>column_stack_func</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=p>)</span>
</span></code></pre></div> <p>Stack (one- and two-dimensional) objects along columns.</p> <p><code>column_stack_func</code> must take the portfolio class and all arguments passed to this method. If not all arguments are needed, define <code>column_stack_func</code> to accept them as <code>**kwargs</code>.</p> <p>If all objects are None, boolean, or empty, returns the first object.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>objs</code></strong> :&ensp;<code>Sequence[Any]</code></dt> <dd>Objects to be stacked.</dd> <dt><strong><code>wrappers</code></strong> :&ensp;<code>Sequence[ArrayWrapper]</code></dt> <dd>Wrappers corresponding to the objects.</dd> <dt><strong><code>grouping</code></strong> :&ensp;<code>str</code></dt> <dd> <p>Grouping strategy.</p> <p>Supported options include "columns_or_groups", "columns", "groups", and "cash_sharing".</p> </dd> <dt><strong><code>obj_name</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd>Name of the object.</dd> <dt><strong><code>obj_type</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Type of the object.</p> <p>Supported options include "records", "array", and "red_array".</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd>Array wrapper instance.</dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether cash is shared among assets of the same group.</dd> <dt><strong><code>column_stack_func</code></strong> :&ensp;<code>Optional[Callable]</code></dt> <dd> <p>Custom function for stacking columns.</p> <p>Must accept the portfolio class and all method arguments.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <code>column_stack_func</code>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Any</code></dt> <dd>Result of stacking the objects along columns.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.cond_value_at_risk>cond_value_at_risk <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.cond_value_at_risk title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cond_value_at_risk title=vectorbtpro.portfolio.base.Portfolio.get_cond_value_at_risk>Portfolio.get_cond_value_at_risk</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.cumulative_returns>cumulative_returns <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.cumulative_returns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cumulative_returns title=vectorbtpro.portfolio.base.Portfolio.get_cumulative_returns>Portfolio.get_cumulative_returns</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.daily_log_returns>daily_log_returns <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.daily_log_returns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns title=vectorbtpro.portfolio.base.Portfolio.get_returns>Portfolio.get_returns</a> with arguments <code>{'daily_returns': True, 'log_returns': True}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.daily_returns>daily_returns <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.daily_returns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_daily_returns title=vectorbtpro.portfolio.base.Portfolio.get_daily_returns>Portfolio.get_daily_returns</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.debt>debt <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.debt title="Permanent link">&para;</a></h3> <p><code>Portfolio.None</code> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.deflated_sharpe_ratio>deflated_sharpe_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.deflated_sharpe_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_deflated_sharpe_ratio title=vectorbtpro.portfolio.base.Portfolio.get_deflated_sharpe_ratio>Portfolio.get_deflated_sharpe_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.disable_weights>disable_weights <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6097-L6106 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.disable_weights title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>disable_weights</span><span class=p>(</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=p>)</span>
</span></code></pre></div> <p>Get view of portfolio with asset weights disabled.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.replace title=vectorbtpro.portfolio.base.Portfolio.replace>Configured.replace</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a></dt> <dd>Portfolio view with asset weights disabled.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.down_capture_ratio>down_capture_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.down_capture_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_down_capture_ratio title=vectorbtpro.portfolio.base.Portfolio.get_down_capture_ratio>Portfolio.get_down_capture_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.downside_risk>downside_risk <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.downside_risk title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_downside_risk title=vectorbtpro.portfolio.base.Portfolio.get_downside_risk>Portfolio.get_downside_risk</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.drawdown>drawdown <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.drawdown title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_drawdown title=vectorbtpro.portfolio.base.Portfolio.get_drawdown>Portfolio.get_drawdown</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.drawdowns>drawdowns <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.drawdowns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_drawdowns title=vectorbtpro.portfolio.base.Portfolio.get_drawdowns>Portfolio.get_drawdowns</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.drawdowns_cls>drawdowns_cls <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5757-L5768 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.drawdowns_cls title="Permanent link">&para;</a></h3> <p>Drawdown records wrapper class.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Type</code></dt> <dd> <p>Class used to wrap drawdown records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/generic/drawdowns/#vectorbtpro.generic.drawdowns.Drawdowns title=vectorbtpro.generic.drawdowns.Drawdowns>Drawdowns</a> if not explicitly configured.</p> </dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.entry_trades>entry_trades <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.entry_trades title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_entry_trades title=vectorbtpro.portfolio.base.Portfolio.get_entry_trades>Portfolio.get_entry_trades</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.entry_trades_cls>entry_trades_cls <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5718-L5729 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.entry_trades_cls title="Permanent link">&para;</a></h3> <p>Entry trade records wrapper class.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Type</code></dt> <dd> <p>Class used to wrap entry trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.EntryTrades title=vectorbtpro.portfolio.trades.EntryTrades>EntryTrades</a> if not explicitly configured.</p> </dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.exit_trades>exit_trades <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.exit_trades title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_exit_trades title=vectorbtpro.portfolio.base.Portfolio.get_exit_trades>Portfolio.get_exit_trades</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.exit_trades_cls>exit_trades_cls <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5731-L5742 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.exit_trades_cls title="Permanent link">&para;</a></h3> <p>Exit trade records wrapper class.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Type</code></dt> <dd> <p>Class used for wrapping exit trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.ExitTrades title=vectorbtpro.portfolio.trades.ExitTrades>ExitTrades</a> if not explicitly configured.</p> </dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.filled_bm_close>filled_bm_close <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.filled_bm_close title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_filled_bm_close title=vectorbtpro.portfolio.base.Portfolio.get_filled_bm_close>Portfolio.get_filled_bm_close</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.filled_close>filled_close <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.filled_close title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_filled_close title=vectorbtpro.portfolio.base.Portfolio.get_filled_close>Portfolio.get_filled_close</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.fillna_close>fillna_close <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5637-L5645 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.fillna_close title="Permanent link">&para;</a></h3> <p>Whether to forward-backward fill NaN values in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.close title=vectorbtpro.portfolio.base.Portfolio.close>Portfolio.close</a>.</p> <p><strong>Returns</strong></p> <dl> <dt><code>bool</code></dt> <dd>True if NaN values in the close price series should be filled both forward and backward, False otherwise.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.final_value>final_value <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.final_value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_final_value title=vectorbtpro.portfolio.base.Portfolio.get_final_value>Portfolio.get_final_value</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.free_cash>free_cash <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.free_cash title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash title=vectorbtpro.portfolio.base.Portfolio.get_cash>Portfolio.get_cash</a> with arguments <code>{'free': True}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.free_cash_flow>free_cash_flow <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.free_cash_flow title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_flow title=vectorbtpro.portfolio.base.Portfolio.get_cash_flow>Portfolio.get_cash_flow</a> with arguments <code>{'free': True}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.from_def_order_func>from_def_order_func <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5296-L5598 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.from_def_order_func title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_def_order_func</span><span class=p>(</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>    <span class=n>size</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>    <span class=n>size_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>    <span class=n>direction</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>    <span class=n>price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>    <span class=n>fees</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>    <span class=n>fixed_fees</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a>    <span class=n>slippage</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a>    <span class=n>min_size</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a>    <span class=n>max_size</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-12><a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a>    <span class=n>size_granularity</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-13><a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a>    <span class=n>leverage</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-14><a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a>    <span class=n>leverage_mode</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-15><a id=__codelineno-14-15 name=__codelineno-14-15 href=#__codelineno-14-15></a>    <span class=n>reject_prob</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-16><a id=__codelineno-14-16 name=__codelineno-14-16 href=#__codelineno-14-16></a>    <span class=n>price_area_vio_mode</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-17><a id=__codelineno-14-17 name=__codelineno-14-17 href=#__codelineno-14-17></a>    <span class=n>allow_partial</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-18><a id=__codelineno-14-18 name=__codelineno-14-18 href=#__codelineno-14-18></a>    <span class=n>raise_reject</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-19><a id=__codelineno-14-19 name=__codelineno-14-19 href=#__codelineno-14-19></a>    <span class=n>log</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-20><a id=__codelineno-14-20 name=__codelineno-14-20 href=#__codelineno-14-20></a>    <span class=n>pre_segment_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-21><a id=__codelineno-14-21 name=__codelineno-14-21 href=#__codelineno-14-21></a>    <span class=n>order_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-22><a id=__codelineno-14-22 name=__codelineno-14-22 href=#__codelineno-14-22></a>    <span class=n>flex_order_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-23><a id=__codelineno-14-23 name=__codelineno-14-23 href=#__codelineno-14-23></a>    <span class=n>val_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-24><a id=__codelineno-14-24 name=__codelineno-14-24 href=#__codelineno-14-24></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-25><a id=__codelineno-14-25 name=__codelineno-14-25 href=#__codelineno-14-25></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-26><a id=__codelineno-14-26 name=__codelineno-14-26 href=#__codelineno-14-26></a>    <span class=n>call_seq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-27><a id=__codelineno-14-27 name=__codelineno-14-27 href=#__codelineno-14-27></a>    <span class=n>flexible</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-14-28><a id=__codelineno-14-28 name=__codelineno-14-28 href=#__codelineno-14-28></a>    <span class=n>broadcast_named_args</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-29><a id=__codelineno-14-29 name=__codelineno-14-29 href=#__codelineno-14-29></a>    <span class=n>broadcast_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-30><a id=__codelineno-14-30 name=__codelineno-14-30 href=#__codelineno-14-30></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-14-31><a id=__codelineno-14-31 name=__codelineno-14-31 href=#__codelineno-14-31></a>    <span class=n>return_preparer</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-14-32><a id=__codelineno-14-32 name=__codelineno-14-32 href=#__codelineno-14-32></a>    <span class=n>return_prep_result</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-14-33><a id=__codelineno-14-33 name=__codelineno-14-33 href=#__codelineno-14-33></a>    <span class=n>return_sim_out</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-14-34><a id=__codelineno-14-34 name=__codelineno-14-34 href=#__codelineno-14-34></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-14-35><a id=__codelineno-14-35 name=__codelineno-14-35 href=#__codelineno-14-35></a><span class=p>)</span>
</span></code></pre></div> <p>Build portfolio using the default order function.</p> <p>This method constructs a portfolio by applying the default order function, which processes trading orders based on parameters such as size, price, fees, and other available data. It also employs a segment preprocessing function that adjusts valuation prices and sorts the call sequence, behaving similarly to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_orders title=vectorbtpro.portfolio.base.Portfolio.from_orders>Portfolio.from_orders</a> but with enhanced control through pre- and postprocessing. The method supports argument chunking for efficient processing, although <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_orders title=vectorbtpro.portfolio.base.Portfolio.from_orders>Portfolio.from_orders</a> may be up to 5x faster.</p> <p>If <code>flexible</code> is True:</p> <ul> <li><code>pre_segment_func_nb</code> is set to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.def_flex_pre_segment_func_nb title=vectorbtpro.portfolio.nb.from_order_func.def_flex_pre_segment_func_nb>def_flex_pre_segment_func_nb</a></li> <li><code>flex_order_func_nb</code> is set to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.def_flex_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.def_flex_order_func_nb>def_flex_order_func_nb</a></li> </ul> <p>If <code>flexible</code> is False:</p> <ul> <li><code>pre_segment_func_nb</code> is set to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.def_pre_segment_func_nb title=vectorbtpro.portfolio.nb.from_order_func.def_pre_segment_func_nb>def_pre_segment_func_nb</a></li> <li><code>order_func_nb</code> is set to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.def_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.def_order_func_nb>def_order_func_nb</a></li> </ul> <p>Prepared using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FDOFPreparer title=vectorbtpro.portfolio.preparing.FDOFPreparer>FDOFPreparer</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Union[ArrayLike, OHLCDataMixin, FDOFPreparer, PFPrepResult]</code></dt> <dd> <p>Close prices or OHLC data used for portfolio simulation.</p> <p>Broadcasts.</p> <ul> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/data/base/#vectorbtpro.data.base.OHLCDataMixin title=vectorbtpro.data.base.OHLCDataMixin>OHLCDataMixin</a>, extracts open, high, low, and close prices.</li> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FDOFPreparer title=vectorbtpro.portfolio.preparing.FDOFPreparer>FDOFPreparer</a>, it is used as a preparer.</li> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.PFPrepResult title=vectorbtpro.portfolio.preparing.PFPrepResult>PFPrepResult</a>, it is used as a preparer result.</li> </ul> </dd> <dt><strong><code>size</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Size to order.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.size title=vectorbtpro.portfolio.enums.Order.size>Order.size</a>.</p> </dd> <dt><strong><code>size_type</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order size type.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.size_type title=vectorbtpro.portfolio.enums.Order.size_type>Order.size_type</a>.</p> </dd> <dt><strong><code>direction</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order direction.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.direction title=vectorbtpro.portfolio.enums.Order.direction>Order.direction</a>.</p> </dd> <dt><strong><code>price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order price.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.price title=vectorbtpro.portfolio.enums.Order.price>Order.price</a>.</p> <p>Options such as <code>PriceType.NextOpen</code> and <code>PriceType.NextClose</code> apply per column and require <code>from_ago</code> to be None.</p> </dd> <dt><strong><code>fees</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Fees as a percentage of the order value.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.fees title=vectorbtpro.portfolio.enums.Order.fees>Order.fees</a>.</p> </dd> <dt><strong><code>fixed_fees</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Fixed fee amount per order.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.fixed_fees title=vectorbtpro.portfolio.enums.Order.fixed_fees>Order.fixed_fees</a>.</p> </dd> <dt><strong><code>slippage</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Slippage percentage of the order price.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.slippage title=vectorbtpro.portfolio.enums.Order.slippage>Order.slippage</a>.</p> </dd> <dt><strong><code>min_size</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Minimum order size.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.min_size title=vectorbtpro.portfolio.enums.Order.min_size>Order.min_size</a>.</p> </dd> <dt><strong><code>max_size</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Maximum order size.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.max_size title=vectorbtpro.portfolio.enums.Order.max_size>Order.max_size</a>.</p> </dd> <dt><strong><code>size_granularity</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Granularity of the order size.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.size_granularity title=vectorbtpro.portfolio.enums.Order.size_granularity>Order.size_granularity</a>.</p> </dd> <dt><strong><code>leverage</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Leverage applied in the order.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.leverage title=vectorbtpro.portfolio.enums.Order.leverage>Order.leverage</a>.</p> </dd> <dt><strong><code>leverage_mode</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Leverage mode.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.leverage_mode title=vectorbtpro.portfolio.enums.Order.leverage_mode>Order.leverage_mode</a>.</p> </dd> <dt><strong><code>reject_prob</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order rejection probability.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.reject_prob title=vectorbtpro.portfolio.enums.Order.reject_prob>Order.reject_prob</a>.</p> </dd> <dt><strong><code>price_area_vio_mode</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Price area violation mode.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.price_area_vio_mode title=vectorbtpro.portfolio.enums.Order.price_area_vio_mode>Order.price_area_vio_mode</a>.</p> </dd> <dt><strong><code>allow_partial</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Indicates whether partial fills are allowed.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.allow_partial title=vectorbtpro.portfolio.enums.Order.allow_partial>Order.allow_partial</a>.</p> </dd> <dt><strong><code>raise_reject</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Indicates whether to raise an exception upon order rejection.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.raise_reject title=vectorbtpro.portfolio.enums.Order.raise_reject>Order.raise_reject</a>.</p> </dd> <dt><strong><code>log</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Flag indicating whether to log orders.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.log title=vectorbtpro.portfolio.enums.Order.log>Order.log</a>.</p> </dd> <dt><strong><code>pre_segment_func_nb</code></strong> :&ensp;<code>Optional[PreSegmentFunc]</code></dt> <dd> <p>Callback function to be called before processing a segment.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.def_pre_segment_func_nb title=vectorbtpro.portfolio.nb.from_order_func.def_pre_segment_func_nb>def_pre_segment_func_nb</a> or <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.def_flex_pre_segment_func_nb title=vectorbtpro.portfolio.nb.from_order_func.def_flex_pre_segment_func_nb>def_flex_pre_segment_func_nb</a> if <code>flexible</code> is True.</p> </dd> <dt><strong><code>order_func_nb</code></strong> :&ensp;<code>Optional[OrderFunc]</code></dt> <dd> <p>Callback function to be called to generate an order.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.def_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.def_order_func_nb>def_order_func_nb</a>.</p> </dd> <dt><strong><code>flex_order_func_nb</code></strong> :&ensp;<code>Optional[FlexOrderFunc]</code></dt> <dd> <p>Callback function to be called to generate a flexible order.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.def_flex_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.def_flex_order_func_nb>def_flex_order_func_nb</a>.</p> </dd> <dt><strong><code>val_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Asset valuation price used in decision making.</p> <p>Broadcasts. Can also be provided as <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.ValPriceType title=vectorbtpro.portfolio.enums.ValPriceType>ValPriceType</a>.</p> <ul> <li>Any <code>-np.inf</code> element is replaced by the latest valuation price (using <code>open</code> or a previously known value if <code>ffill_val_price</code> is True).</li> <li>Any <code>np.inf</code> element is replaced by the current order price.</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Unlike <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_order_func title=vectorbtpro.portfolio.base.Portfolio.from_order_func>Portfolio.from_order_func</a>, the order price is effectively predetermined, so <code>val_price</code> defaults to the current order price when using <code>np.inf</code>. To use the previous close, set it in the settings to <code>-np.inf</code>.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Ensure that the timestamp associated with <code>val_price</code> precedes all order timestamps in a cash-sharing group.</p> </div> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Start index of the simulation range.</p> <p>Can be "auto" to automatically select the first non-NA size value.</p> </dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>End index of the simulation range.</p> <p>Can be "auto" to automatically select the first non-NA size value.</p> </dd> <dt><strong><code>call_seq</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Sequence dictating the order in which columns are processed per row and group.</p> <p>Each element specifies the position of a column in the processing order. Options include:</p> <ul> <li>None: Generates a default call sequence.</li> <li>Value from <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.CallSeqType title=vectorbtpro.portfolio.enums.CallSeqType>CallSeqType</a>: Creates a full array of the specified type.</li> <li>Custom array: Specifies a user-defined call sequence.</li> </ul> <p>If set to <code>CallSeqType.Auto</code>, orders are rearranged dynamically so that sell orders are processed before buy orders.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p><code>CallSeqType.Auto</code> assumes predetermined order prices and flexible execution, which may not accurately reflect real-time conditions. For stricter control, use <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_order_func title=vectorbtpro.portfolio.base.Portfolio.from_order_func>Portfolio.from_order_func</a>.</p> </div> </dd> <dt><strong><code>flexible</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to apply flexible processing.</dd> <dt><strong><code>broadcast_named_args</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Additional named arguments for broadcasting.</p> <p>Use templates such as <a href=https://vectorbt.pro/pvt_41531c19/api/utils/template/#vectorbtpro.utils.template.Rep title=vectorbtpro.utils.template.Rep>Rep</a> to substitute callback function arguments with their broadcasted values.</p> </dd> <dt><strong><code>broadcast_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for broadcasting.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.broadcast title=vectorbtpro.base.reshaping.broadcast>broadcast</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>return_preparer</code></strong> :&ensp;<code>bool</code></dt> <dd> <p>If True, returns the preparer instance (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FDOFPreparer title=vectorbtpro.portfolio.preparing.FDOFPreparer>FDOFPreparer</a>).</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In this case, the seed is not automatically set; invoke <code>preparer.set_seed()</code> explicitly if needed.</p> </div> </dd> <dt><strong><code>return_prep_result</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, returns the preparer result (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.PFPrepResult title=vectorbtpro.portfolio.preparing.PFPrepResult>PFPrepResult</a>).</dd> <dt><strong><code>return_sim_out</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, returns the simulation output (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.SimulationOutput title=vectorbtpro.portfolio.enums.SimulationOutput>SimulationOutput</a>).</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_order_func title=vectorbtpro.portfolio.base.Portfolio.from_order_func>Portfolio.from_order_func</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>PortfolioResult</code></dt> <dd>Portfolio result.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.portfolio title=vectorbtpro._settings.portfolio>portfolio</a>.</p> <p>These defaults are not used to fill NaN values after reindexing; vectorbtpro uses its own defaults (typically NaN for floating arrays and preset flags for integer arrays). Use <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.BCO title=vectorbtpro.base.reshaping.BCO>BCO</a> with <code>fill_value</code> to override.</p> </div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>All broadcastable arguments are handled using <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.broadcast title=vectorbtpro.base.reshaping.broadcast>broadcast</a> to preserve their original shapes for flexible indexing and memory efficiency. Each can be provided per frame, series, row, column, or individual element.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>All provided functions must be Numba-compiled if Numba is enabled. Also see the notes in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_orders title=vectorbtpro.portfolio.base.Portfolio.from_orders>Portfolio.from_orders</a>.</p> </div> <p><strong>Examples</strong></p> <p>Working with <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_def_order_func title=vectorbtpro.portfolio.base.Portfolio.from_def_order_func>Portfolio.from_def_order_func</a> is similar to using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_orders title=vectorbtpro.portfolio.base.Portfolio.from_orders>Portfolio.from_orders</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_def_order_func</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>assets</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=go>0    10.0</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=go>1    20.0</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=go>2    30.0</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=go>3    40.0</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=go>4    40.0</span>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=go>dtype: float64</span>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>cash</span>
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=go>0    90.0</span>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=go>1    70.0</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a><span class=go>2    40.0</span>
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a><span class=go>3     0.0</span>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a><span class=go>4     0.0</span>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Equal-weighted portfolio as in the example under <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_order_func title=vectorbtpro.portfolio.base.Portfolio.from_order_func>Portfolio.from_order_func</a> but much less verbose and with pre-computed asset values during simulation for enhanced performance:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>seed</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>post_segment_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>):</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=gp>... </span>    <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>from_col</span><span class=p>,</span> <span class=n>c</span><span class=o>.</span><span class=n>to_col</span><span class=p>):</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>in_outputs</span><span class=o>.</span><span class=n>asset_value_pc</span><span class=p>[</span><span class=n>c</span><span class=o>.</span><span class=n>i</span><span class=p>,</span> <span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=n>c</span><span class=o>.</span><span class=n>last_position</span><span class=p>[</span><span class=n>col</span><span class=p>]</span> <span class=o>*</span> <span class=n>c</span><span class=o>.</span><span class=n>last_val_price</span><span class=p>[</span><span class=n>col</span><span class=p>]</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_def_order_func</span><span class=p>(</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=o>/</span><span class=mi>3</span><span class=p>,</span>
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a><span class=gp>... </span>    <span class=n>size_type</span><span class=o>=</span><span class=s1>&#39;targetpercent&#39;</span><span class=p>,</span>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span><span class=p>,</span>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a><span class=gp>... </span>    <span class=n>fees</span><span class=o>=</span><span class=mf>0.001</span><span class=p>,</span>
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a><span class=gp>... </span>    <span class=n>fixed_fees</span><span class=o>=</span><span class=mf>1.</span><span class=p>,</span>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a><span class=gp>... </span>    <span class=n>slippage</span><span class=o>=</span><span class=mf>0.001</span><span class=p>,</span>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a><span class=gp>... </span>    <span class=n>segment_mask</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a><span class=gp>... </span>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a><span class=gp>... </span>    <span class=n>group_by</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-16-20><a id=__codelineno-16-20 name=__codelineno-16-20 href=#__codelineno-16-20></a><span class=gp>... </span>    <span class=n>call_seq</span><span class=o>=</span><span class=s1>&#39;auto&#39;</span><span class=p>,</span>
</span><span id=__span-16-21><a id=__codelineno-16-21 name=__codelineno-16-21 href=#__codelineno-16-21></a><span class=gp>... </span>    <span class=n>post_segment_func_nb</span><span class=o>=</span><span class=n>post_segment_func_nb</span><span class=p>,</span>
</span><span id=__span-16-22><a id=__codelineno-16-22 name=__codelineno-16-22 href=#__codelineno-16-22></a><span class=gp>... </span>    <span class=n>call_post_segment</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-16-23><a id=__codelineno-16-23 name=__codelineno-16-23 href=#__codelineno-16-23></a><span class=gp>... </span>    <span class=n>in_outputs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>asset_value_pc</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>RepEval</span><span class=p>(</span><span class=s1>&#39;np.empty_like(close)&#39;</span><span class=p>))</span>
</span><span id=__span-16-24><a id=__codelineno-16-24 name=__codelineno-16-24 href=#__codelineno-16-24></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-16-25><a id=__codelineno-16-25 name=__codelineno-16-25 href=#__codelineno-16-25></a>
</span><span id=__span-16-26><a id=__codelineno-16-26 name=__codelineno-16-26 href=#__codelineno-16-26></a><span class=gp>&gt;&gt;&gt; </span><span class=n>asset_value</span> <span class=o>=</span> <span class=n>pf</span><span class=o>.</span><span class=n>wrapper</span><span class=o>.</span><span class=n>wrap</span><span class=p>(</span><span class=n>pf</span><span class=o>.</span><span class=n>in_outputs</span><span class=o>.</span><span class=n>asset_value_pc</span><span class=p>,</span> <span class=n>group_by</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-16-27><a id=__codelineno-16-27 name=__codelineno-16-27 href=#__codelineno-16-27></a><span class=gp>&gt;&gt;&gt; </span><span class=n>asset_value</span><span class=o>.</span><span class=n>vbt</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></code></pre></div> <p><img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_def_order_func.light.svg#only-light> <img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_def_order_func.dark.svg#only-dark></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.from_holding>from_holding <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L4220-L4316 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.from_holding title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_holding</span><span class=p>(</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>    <span class=n>direction</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>    <span class=n>at_first_valid_in</span><span class=o>=</span><span class=s1>&#39;close&#39;</span><span class=p>,</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>    <span class=n>close_at_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>    <span class=n>dynamic_mode</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=p>)</span>
</span></code></pre></div> <p>Simulate portfolio from plain holding using signals.</p> <p>If <code>close_at_end</code> is True, an opposite signal is placed at the very end.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Union[ArrayLike, OHLCDataMixin]</code></dt> <dd>Close prices or OHLC data used for portfolio simulation.</dd> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Holding direction.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> <p>If None, the default hold direction from portfolio settings is used.</p> </dd> <dt><strong><code>at_first_valid_in</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd>Column name for determining the first valid entry signal.</dd> <dt><strong><code>close_at_end</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Flag indicating whether to place an exit signal at the end.</p> <p>If None, the default is used.</p> </dd> <dt><strong><code>dynamic_mode</code></strong> :&ensp;<code>bool</code></dt> <dd>Specifies whether to use dynamic mode for signal generation.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_signals title=vectorbtpro.portfolio.base.Portfolio.from_signals>Portfolio.from_signals</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>PortfolioResult</code></dt> <dd>Portfolio result.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.portfolio title=vectorbtpro._settings.portfolio>portfolio</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.from_optimizer>from_optimizer <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L4469-L4607 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.from_optimizer title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_optimizer</span><span class=p>(</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>    <span class=n>optimizer</span><span class=p>,</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>    <span class=n>pf_method</span><span class=o>=</span><span class=s1>&#39;from_orders&#39;</span><span class=p>,</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>    <span class=n>squeeze_groups</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>    <span class=n>dropna</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>    <span class=n>fill_value</span><span class=o>=</span><span class=n>nan</span><span class=p>,</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>    <span class=n>size_type</span><span class=o>=</span><span class=s1>&#39;targetpercent&#39;</span><span class=p>,</span>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>    <span class=n>direction</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>    <span class=n>call_seq</span><span class=o>=</span><span class=s1>&#39;auto&#39;</span><span class=p>,</span>
</span><span id=__span-18-12><a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-18-13><a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-18-14><a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a><span class=p>)</span>
</span></code></pre></div> <p>Build a portfolio from a <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/pfopt/base/#vectorbtpro.portfolio.pfopt.base.PortfolioOptimizer title=vectorbtpro.portfolio.pfopt.base.PortfolioOptimizer>PortfolioOptimizer</a> instance.</p> <p>If the <code>direction</code> parameter is not provided, it is inferred from the allocation values:</p> <ul> <li>If both positive and negative values exist, set to "both".</li> <li>If only positive values exist, set to "longonly".</li> <li>If only negative values exist, set to "shortonly" (allocations are converted to absolute values).</li> </ul> <p>The simulation method is selected based on <code>pf_method</code>:</p> <ul> <li>"from_orders": Uses the orders-based simulation (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_orders title=vectorbtpro.portfolio.base.Portfolio.from_orders>Portfolio.from_orders</a>).</li> <li>"from_signals": Uses the signals-based simulation (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_signals title=vectorbtpro.portfolio.base.Portfolio.from_signals>Portfolio.from_signals</a>).</li> </ul> <p>By default, <code>size_type</code> is "targetpercent", <code>cash_sharing</code> is True, <code>call_seq</code> is "auto", and if <code>group_by</code> is None, it defaults to the optimizer's grouper.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Union[ArrayLike, OHLCDataMixin]</code></dt> <dd>Close prices or OHLC data used for portfolio simulation.</dd> <dt><strong><code>optimizer</code></strong> :&ensp;<code>PortfolioOptimizer</code></dt> <dd>Optimizer instance that provides allocation weights.</dd> <dt><strong><code>pf_method</code></strong> :&ensp;<code>str</code></dt> <dd>Portfolio simulation method, either "from_orders" or "from_signals".</dd> <dt><strong><code>squeeze_groups</code></strong> :&ensp;<code>bool</code></dt> <dd>If True and the data's grouped ndim is 1, group levels are squeezed in the resulting DataFrame.</dd> <dt><strong><code>dropna</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd>Strategy for handling missing allocations, either "all" or "head".</dd> <dt><strong><code>fill_value</code></strong> :&ensp;<code>Scalar</code></dt> <dd>Value used to fill missing allocation entries.</dd> <dt><strong><code>size_type</code></strong> :&ensp;<code>ArrayLike</code></dt> <dd>Order size type.</dd> <dt><strong><code>direction</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order direction.</p> <p>If None, determined automatically from allocations.</p> </dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Flag indicating whether cash is shared among assets of the same group.</dd> <dt><strong><code>call_seq</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Sequence dictating the order in which columns are processed per row and group; defaults to "auto".</dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for the underlying simulation function.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>PortfolioResult</code></dt> <dd>Portfolio result.</dd> </dl> <p><strong>Examples</strong></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>({</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=gp>... </span>    <span class=s2>&quot;MSFT&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=gp>... </span>    <span class=s2>&quot;GOOG&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>]</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=gp>... </span><span class=p>},</span> <span class=n>index</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020-01-01&quot;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>5</span><span class=p>))</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pfo</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>PortfolioOptimizer</span><span class=o>.</span><span class=n>from_random</span><span class=p>(</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=gp>... </span>    <span class=n>close</span><span class=o>.</span><span class=n>vbt</span><span class=o>.</span><span class=n>wrapper</span><span class=p>,</span>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a><span class=gp>... </span>    <span class=n>every</span><span class=o>=</span><span class=s2>&quot;2D&quot;</span><span class=p>,</span>
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a><span class=gp>... </span>    <span class=n>seed</span><span class=o>=</span><span class=mi>42</span>
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pfo</span><span class=o>.</span><span class=n>fill_allocations</span><span class=p>()</span>
</span><span id=__span-19-13><a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a><span class=go>                 MSFT      GOOG      AAPL</span>
</span><span id=__span-19-14><a id=__codelineno-19-14 name=__codelineno-19-14 href=#__codelineno-19-14></a><span class=go>2020-01-01   0.182059  0.462129  0.355812</span>
</span><span id=__span-19-15><a id=__codelineno-19-15 name=__codelineno-19-15 href=#__codelineno-19-15></a><span class=go>2020-01-02        NaN       NaN       NaN</span>
</span><span id=__span-19-16><a id=__codelineno-19-16 name=__codelineno-19-16 href=#__codelineno-19-16></a><span class=go>2020-01-03   0.657381  0.171323  0.171296</span>
</span><span id=__span-19-17><a id=__codelineno-19-17 name=__codelineno-19-17 href=#__codelineno-19-17></a><span class=go>2020-01-04        NaN       NaN       NaN</span>
</span><span id=__span-19-18><a id=__codelineno-19-18 name=__codelineno-19-18 href=#__codelineno-19-18></a><span class=go>2020-01-05   0.038078  0.567845  0.394077</span>
</span><span id=__span-19-19><a id=__codelineno-19-19 name=__codelineno-19-19 href=#__codelineno-19-19></a>
</span><span id=__span-19-20><a id=__codelineno-19-20 name=__codelineno-19-20 href=#__codelineno-19-20></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_optimizer</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>pfo</span><span class=p>)</span>
</span><span id=__span-19-21><a id=__codelineno-19-21 name=__codelineno-19-21 href=#__codelineno-19-21></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>get_asset_value</span><span class=p>(</span><span class=n>group_by</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span><span class=o>.</span><span class=n>vbt</span> <span class=o>/</span> <span class=n>pf</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-19-22><a id=__codelineno-19-22 name=__codelineno-19-22 href=#__codelineno-19-22></a><span class=go>alloc_group                         group</span>
</span><span id=__span-19-23><a id=__codelineno-19-23 name=__codelineno-19-23 href=#__codelineno-19-23></a><span class=go>                 MSFT      GOOG      AAPL</span>
</span><span id=__span-19-24><a id=__codelineno-19-24 name=__codelineno-19-24 href=#__codelineno-19-24></a><span class=go>2020-01-01   0.182059  0.462129  0.355812  &lt;&lt; rebalanced</span>
</span><span id=__span-19-25><a id=__codelineno-19-25 name=__codelineno-19-25 href=#__codelineno-19-25></a><span class=go>2020-01-02   0.251907  0.255771  0.492322</span>
</span><span id=__span-19-26><a id=__codelineno-19-26 name=__codelineno-19-26 href=#__codelineno-19-26></a><span class=go>2020-01-03   0.657381  0.171323  0.171296  &lt;&lt; rebalanced</span>
</span><span id=__span-19-27><a id=__codelineno-19-27 name=__codelineno-19-27 href=#__codelineno-19-27></a><span class=go>2020-01-04   0.793277  0.103369  0.103353</span>
</span><span id=__span-19-28><a id=__codelineno-19-28 name=__codelineno-19-28 href=#__codelineno-19-28></a><span class=go>2020-01-05   0.038078  0.567845  0.394077  &lt;&lt; rebalanced</span>
</span></code></pre></div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.from_order_func>from_order_func <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L4609-L5294 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.from_order_func title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_order_func</span><span class=p>(</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>    <span class=n>init_cash</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a>    <span class=n>cash_earnings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-9><a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-10><a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-11><a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-12><a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a>    <span class=n>call_seq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-13><a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a>    <span class=n>attach_call_seq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-14><a id=__codelineno-20-14 name=__codelineno-20-14 href=#__codelineno-20-14></a>    <span class=n>segment_mask</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-15><a id=__codelineno-20-15 name=__codelineno-20-15 href=#__codelineno-20-15></a>    <span class=n>call_pre_segment</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-16><a id=__codelineno-20-16 name=__codelineno-20-16 href=#__codelineno-20-16></a>    <span class=n>call_post_segment</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-17><a id=__codelineno-20-17 name=__codelineno-20-17 href=#__codelineno-20-17></a>    <span class=n>pre_sim_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-18><a id=__codelineno-20-18 name=__codelineno-20-18 href=#__codelineno-20-18></a>    <span class=n>pre_sim_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-19><a id=__codelineno-20-19 name=__codelineno-20-19 href=#__codelineno-20-19></a>    <span class=n>post_sim_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-20><a id=__codelineno-20-20 name=__codelineno-20-20 href=#__codelineno-20-20></a>    <span class=n>post_sim_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-21><a id=__codelineno-20-21 name=__codelineno-20-21 href=#__codelineno-20-21></a>    <span class=n>pre_group_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-22><a id=__codelineno-20-22 name=__codelineno-20-22 href=#__codelineno-20-22></a>    <span class=n>pre_group_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-23><a id=__codelineno-20-23 name=__codelineno-20-23 href=#__codelineno-20-23></a>    <span class=n>post_group_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-24><a id=__codelineno-20-24 name=__codelineno-20-24 href=#__codelineno-20-24></a>    <span class=n>post_group_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-25><a id=__codelineno-20-25 name=__codelineno-20-25 href=#__codelineno-20-25></a>    <span class=n>pre_row_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-26><a id=__codelineno-20-26 name=__codelineno-20-26 href=#__codelineno-20-26></a>    <span class=n>pre_row_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-27><a id=__codelineno-20-27 name=__codelineno-20-27 href=#__codelineno-20-27></a>    <span class=n>post_row_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-28><a id=__codelineno-20-28 name=__codelineno-20-28 href=#__codelineno-20-28></a>    <span class=n>post_row_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-29><a id=__codelineno-20-29 name=__codelineno-20-29 href=#__codelineno-20-29></a>    <span class=n>pre_segment_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-30><a id=__codelineno-20-30 name=__codelineno-20-30 href=#__codelineno-20-30></a>    <span class=n>pre_segment_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-31><a id=__codelineno-20-31 name=__codelineno-20-31 href=#__codelineno-20-31></a>    <span class=n>post_segment_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-32><a id=__codelineno-20-32 name=__codelineno-20-32 href=#__codelineno-20-32></a>    <span class=n>post_segment_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-33><a id=__codelineno-20-33 name=__codelineno-20-33 href=#__codelineno-20-33></a>    <span class=n>order_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-34><a id=__codelineno-20-34 name=__codelineno-20-34 href=#__codelineno-20-34></a>    <span class=n>order_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-35><a id=__codelineno-20-35 name=__codelineno-20-35 href=#__codelineno-20-35></a>    <span class=n>flex_order_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-36><a id=__codelineno-20-36 name=__codelineno-20-36 href=#__codelineno-20-36></a>    <span class=n>flex_order_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-37><a id=__codelineno-20-37 name=__codelineno-20-37 href=#__codelineno-20-37></a>    <span class=n>post_order_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-38><a id=__codelineno-20-38 name=__codelineno-20-38 href=#__codelineno-20-38></a>    <span class=n>post_order_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-20-39><a id=__codelineno-20-39 name=__codelineno-20-39 href=#__codelineno-20-39></a>    <span class=nb>open</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-40><a id=__codelineno-20-40 name=__codelineno-20-40 href=#__codelineno-20-40></a>    <span class=n>high</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-41><a id=__codelineno-20-41 name=__codelineno-20-41 href=#__codelineno-20-41></a>    <span class=n>low</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-42><a id=__codelineno-20-42 name=__codelineno-20-42 href=#__codelineno-20-42></a>    <span class=n>ffill_val_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-43><a id=__codelineno-20-43 name=__codelineno-20-43 href=#__codelineno-20-43></a>    <span class=n>update_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-44><a id=__codelineno-20-44 name=__codelineno-20-44 href=#__codelineno-20-44></a>    <span class=n>fill_pos_info</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-45><a id=__codelineno-20-45 name=__codelineno-20-45 href=#__codelineno-20-45></a>    <span class=n>track_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-46><a id=__codelineno-20-46 name=__codelineno-20-46 href=#__codelineno-20-46></a>    <span class=n>row_wise</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-47><a id=__codelineno-20-47 name=__codelineno-20-47 href=#__codelineno-20-47></a>    <span class=n>max_order_records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-48><a id=__codelineno-20-48 name=__codelineno-20-48 href=#__codelineno-20-48></a>    <span class=n>max_log_records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-49><a id=__codelineno-20-49 name=__codelineno-20-49 href=#__codelineno-20-49></a>    <span class=n>in_outputs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-50><a id=__codelineno-20-50 name=__codelineno-20-50 href=#__codelineno-20-50></a>    <span class=n>seed</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-51><a id=__codelineno-20-51 name=__codelineno-20-51 href=#__codelineno-20-51></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-52><a id=__codelineno-20-52 name=__codelineno-20-52 href=#__codelineno-20-52></a>    <span class=n>broadcast_named_args</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-53><a id=__codelineno-20-53 name=__codelineno-20-53 href=#__codelineno-20-53></a>    <span class=n>broadcast_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-54><a id=__codelineno-20-54 name=__codelineno-20-54 href=#__codelineno-20-54></a>    <span class=n>template_context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-55><a id=__codelineno-20-55 name=__codelineno-20-55 href=#__codelineno-20-55></a>    <span class=n>keep_inout_flex</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-56><a id=__codelineno-20-56 name=__codelineno-20-56 href=#__codelineno-20-56></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-57><a id=__codelineno-20-57 name=__codelineno-20-57 href=#__codelineno-20-57></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-58><a id=__codelineno-20-58 name=__codelineno-20-58 href=#__codelineno-20-58></a>    <span class=n>staticized</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-59><a id=__codelineno-20-59 name=__codelineno-20-59 href=#__codelineno-20-59></a>    <span class=n>bm_close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-60><a id=__codelineno-20-60 name=__codelineno-20-60 href=#__codelineno-20-60></a>    <span class=n>records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-20-61><a id=__codelineno-20-61 name=__codelineno-20-61 href=#__codelineno-20-61></a>    <span class=n>return_preparer</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-20-62><a id=__codelineno-20-62 name=__codelineno-20-62 href=#__codelineno-20-62></a>    <span class=n>return_prep_result</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-20-63><a id=__codelineno-20-63 name=__codelineno-20-63 href=#__codelineno-20-63></a>    <span class=n>return_sim_out</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-20-64><a id=__codelineno-20-64 name=__codelineno-20-64 href=#__codelineno-20-64></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-20-65><a id=__codelineno-20-65 name=__codelineno-20-65 href=#__codelineno-20-65></a><span class=p>)</span>
</span></code></pre></div> <p>Build a portfolio using a custom order function.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.from_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.from_order_func_nb>from_order_func_nb</a> for illustrations.</p> </div> <p>Prepared using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FOFPreparer title=vectorbtpro.portfolio.preparing.FOFPreparer>FOFPreparer</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Union[ArrayLike, OHLCDataMixin, FOFPreparer, PFPrepResult]</code></dt> <dd> <p>Close prices or OHLC data used for portfolio simulation.</p> <p>Broadcasts.</p> <ul> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/data/base/#vectorbtpro.data.base.OHLCDataMixin title=vectorbtpro.data.base.OHLCDataMixin>OHLCDataMixin</a>, extracts open, high, low, and close prices.</li> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FOFPreparer title=vectorbtpro.portfolio.preparing.FOFPreparer>FOFPreparer</a>, it is used as a preparer.</li> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.PFPrepResult title=vectorbtpro.portfolio.preparing.PFPrepResult>PFPrepResult</a>, it is used as a preparer result.</li> </ul> </dd> <dt><strong><code>init_cash</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial capital.</p> <p>Broadcasts to the final number of columns, or to the number of groups if cash sharing is enabled. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.InitCashMode title=vectorbtpro.portfolio.enums.InitCashMode>InitCashMode</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When using <code>InitCashMode.AutoAlign</code>, initial cash values are synchronized across columns/groups after initialization.</p> </div> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Broadcasts to match the final number of columns.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Broadcasts to match the final number of columns.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Broadcasts to match the shape of <code>init_cash</code>.</p> </dd> <dt><strong><code>cash_earnings</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash earnings or losses at the end of each bar.</p> <p>Broadcasts.</p> </dd> <dt><strong><code>cash_dividends</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash dividends or interest at the end of each bar.</p> <p>Broadcasts, are multiplied by the position, and then added to <code>cash_earnings</code>.</p> </dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Flag indicating whether cash is shared among assets of the same group.</p> <p>If <code>group_by</code> is None and this is True, all assets are grouped together for cash sharing.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Enables cross-asset dependencies by assuming that all orders in a cash-sharing group execute in the same tick and retain their price.</p> </div> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>call_seq</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Sequence dictating the order in which columns are processed per row and group.</p> <p>Each element specifies the position of a column in the processing order. Options include:</p> <ul> <li>None: Generates a default call sequence.</li> <li>Value from <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.CallSeqType title=vectorbtpro.portfolio.enums.CallSeqType>CallSeqType</a>: Creates a full array of the specified type.</li> <li>Custom array: Specifies a user-defined call sequence.</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>CallSeqType.Auto</code> must be implemented manually. Use <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.sort_call_seq_1d_nb title=vectorbtpro.portfolio.nb.from_order_func.sort_call_seq_1d_nb>sort_call_seq_1d_nb</a> or <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.sort_call_seq_out_1d_nb title=vectorbtpro.portfolio.nb.from_order_func.sort_call_seq_out_1d_nb>sort_call_seq_out_1d_nb</a> in <code>pre_segment_func_nb</code>.</p> </div> </dd> <dt><strong><code>attach_call_seq</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Indicates whether to attach the computed call sequence to the portfolio instance.</dd> <dt><strong><code>segment_mask</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Mask that indicates whether a segment should be executed.</p> <p>An integer activates every n-th row, while a boolean or an array of booleans broadcasts to the number of rows and groups. It does not broadcast together with <code>close</code> and <code>broadcast_named_args</code>, only against the final shape.</p> </dd> <dt><strong><code>call_pre_segment</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Whether to call <code>pre_segment_func_nb</code> regardless of <code>segment_mask</code>.</dd> <dt><strong><code>call_post_segment</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Whether to call <code>post_segment_func_nb</code> regardless of <code>segment_mask</code>.</dd> <dt><strong><code>pre_sim_func_nb</code></strong> :&ensp;<code>Optional[PreSimFunc]</code></dt> <dd> <p>Callback function to be called before the simulation.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_pre_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_pre_func_nb>no_pre_func_nb</a>.</p> </dd> <dt><strong><code>pre_sim_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>pre_sim_func_nb</code>.</dd> <dt><strong><code>post_sim_func_nb</code></strong> :&ensp;<code>Optional[PostSimFunc]</code></dt> <dd> <p>Callback function to be called after the simulation.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb>no_post_func_nb</a>.</p> </dd> <dt><strong><code>post_sim_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>post_sim_func_nb</code>.</dd> <dt><strong><code>pre_group_func_nb</code></strong> :&ensp;<code>Optional[PreGroupFunc]</code></dt> <dd> <p>Callback function to be called before processing a group.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_pre_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_pre_func_nb>no_pre_func_nb</a> and is used only when <code>row_wise</code> is False.</p> </dd> <dt><strong><code>pre_group_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>pre_group_func_nb</code>.</dd> <dt><strong><code>post_group_func_nb</code></strong> :&ensp;<code>Optional[PostGroupFunc]</code></dt> <dd> <p>Callback function to be called after processing a group.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb>no_post_func_nb</a> and is used only when <code>row_wise</code> is False.</p> </dd> <dt><strong><code>post_group_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>post_group_func_nb</code>.</dd> <dt><strong><code>pre_row_func_nb</code></strong> :&ensp;<code>Optional[PreRowFunc]</code></dt> <dd> <p>Callback function to be called before processing a row.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_pre_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_pre_func_nb>no_pre_func_nb</a> and is used only when <code>row_wise</code> is True.</p> </dd> <dt><strong><code>pre_row_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>pre_row_func_nb</code>.</dd> <dt><strong><code>post_row_func_nb</code></strong> :&ensp;<code>Optional[PostRowFunc]</code></dt> <dd> <p>Callback function to be called after processing a row.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb>no_post_func_nb</a> and is used only when <code>row_wise</code> is True.</p> </dd> <dt><strong><code>post_row_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>post_row_func_nb</code>.</dd> <dt><strong><code>pre_segment_func_nb</code></strong> :&ensp;<code>Optional[PreSegmentFunc]</code></dt> <dd> <p>Callback function to be called before processing a segment.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_pre_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_pre_func_nb>no_pre_func_nb</a>.</p> </dd> <dt><strong><code>pre_segment_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>pre_segment_func_nb</code>.</dd> <dt><strong><code>post_segment_func_nb</code></strong> :&ensp;<code>Optional[PostSegmentFunc]</code></dt> <dd> <p>Callback function to be called after processing a segment.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb>no_post_func_nb</a>.</p> </dd> <dt><strong><code>post_segment_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>post_segment_func_nb</code>.</dd> <dt><strong><code>order_func_nb</code></strong> :&ensp;<code>Optional[OrderFunc]</code></dt> <dd> <p>Callback function to be called to generate an order.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_order_func_nb>no_order_func_nb</a>.</p> </dd> <dt><strong><code>order_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>order_func_nb</code>.</dd> <dt><strong><code>flex_order_func_nb</code></strong> :&ensp;<code>Optional[FlexOrderFunc]</code></dt> <dd> <p>Callback function to be called to generate a flexible order.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_flex_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_flex_order_func_nb>no_flex_order_func_nb</a>.</p> </dd> <dt><strong><code>flex_order_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>flex_order_func_nb</code>.</dd> <dt><strong><code>post_order_func_nb</code></strong> :&ensp;<code>Optional[PostOrderFunc]</code></dt> <dd> <p>Callback function to be called after processing an order.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb title=vectorbtpro.portfolio.nb.from_order_func.no_post_func_nb>no_post_func_nb</a>.</p> </dd> <dt><strong><code>post_order_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>post_order_func_nb</code>.</dd> <dt><strong><code>open</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Open prices.</p> <p>Broadcasts. Used as a price boundary (see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PriceArea title=vectorbtpro.portfolio.enums.PriceArea>PriceArea</a>).</p> <p>For stop signals, <code>np.nan</code> is replaced with the corresponding close price.</p> </dd> <dt><strong><code>high</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>High prices.</p> <p>Broadcasts. Used as a price boundary (see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PriceArea title=vectorbtpro.portfolio.enums.PriceArea>PriceArea</a>).</p> <p>For stop signals, <code>np.nan</code> is replaced with the maximum of open and close prices.</p> </dd> <dt><strong><code>low</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Low prices.</p> <p>Broadcasts. Used as a price boundary (see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PriceArea title=vectorbtpro.portfolio.enums.PriceArea>PriceArea</a>).</p> <p>For stop signals, <code>np.nan</code> is replaced with the minimum of open and close prices.</p> </dd> <dt><strong><code>ffill_val_price</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>If True, tracks the valuation price only when available to prevent propagation of NaN values.</dd> <dt><strong><code>update_value</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>If True, updates the group value after each filled order.</dd> <dt><strong><code>fill_pos_info</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Whether to fill the position information record.</p> <p>Disabling this may speed up simulation for simple cases.</p> </dd> <dt><strong><code>track_value</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Whether to track metrics such as current valuation price, value, and return.</p> <p>Disable to improve simulation speed in simple cases.</p> </dd> <dt><strong><code>row_wise</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Whether to iterate over rows instead of by columns/groups.</dd> <dt><strong><code>max_order_records</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd> <p>Maximum number of order records expected per column.</p> <p>Defaults to the number of rows in the broadcasted shape. Set to 0 to disable, lower to reduce memory usage, or higher if multiple orders per timestamp are expected.</p> </dd> <dt><strong><code>max_log_records</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd> <p>Maximum number of log records expected per column.</p> <p>Set to the number of rows in the broadcasted shape if logging is enabled. Set lower to reduce memory usage, or higher if multiple logs per timestamp are expected.</p> </dd> <dt><strong><code>in_outputs</code></strong> :&ensp;<code>Optional[tp.MappingLike]</code></dt> <dd> <p>Mapping of in-place output objects available via <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> as a named tuple.</p> <p>To override <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> attributes, provide objects that are already broadcasted and grouped (e.g. using <code>broadcast_named_args</code> and templates). Also see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func title=vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func>Portfolio.in_outputs_indexing_func</a> for indexing details. When chunking, supply the chunk specification and merging function as per <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/chunking/#vectorbtpro.portfolio.chunking.merge_sim_outs title=vectorbtpro.portfolio.chunking.merge_sim_outs>merge_sim_outs</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>For Numba versions below 0.54, <code>in_outputs</code> must be a globally defined named tuple rather than a mapping.</p> </div> </dd> <dt><strong><code>seed</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd>Random seed for deterministic output.</dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>broadcast_named_args</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Additional named arguments for broadcasting.</p> <p>Use templates such as <a href=https://vectorbt.pro/pvt_41531c19/api/utils/template/#vectorbtpro.utils.template.Rep title=vectorbtpro.utils.template.Rep>Rep</a> to substitute callback function arguments with their broadcasted values.</p> </dd> <dt><strong><code>broadcast_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for broadcasting.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.broadcast title=vectorbtpro.base.reshaping.broadcast>broadcast</a>.</p> </dd> <dt><strong><code>template_context</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Additional context for template substitution.</dd> <dt><strong><code>keep_inout_flex</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Whether to preserve raw, editable arrays during broadcasting for in-place outputs.</p> <p>Disable to allow editing of <code>segment_mask</code>, <code>cash_deposits</code>, and <code>cash_earnings</code> during simulation.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Disabling jitting affects only the main simulation function. To disable compilation entirely, ensure that all functions are uncompiled (e.g. via the <code>py_func</code> attribute or by setting <code>os.environ['NUMBA_DISABLE_JIT'] = '1'</code> before importing vectorbtpro).</p> </div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Parallelization assumes that groups are independent with no data flow between them.</p> </div> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>staticized</code></strong> :&ensp;<code>StaticizedOption</code></dt> <dd> <p>Keyword arguments or a task id for staticizing.</p> <p>If True or a dict, these are passed to <a href=https://vectorbt.pro/pvt_41531c19/api/utils/source/#vectorbtpro.utils.source.cut_and_save_func title=vectorbtpro.utils.source.cut_and_save_func>cut_and_save_func</a> to cache the simulator. If a hashable or callable, it is used as a task id for an already registered simulator. The dict may include options like <code>override</code> and <code>reload</code>.</p> </dd> <dt><strong><code>bm_close</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Benchmark asset price at each bar.</p> <p>Broadcasts. If not provided, <code>close</code> is used; if set to False, benchmarking is disabled.</p> </dd> <dt><strong><code>records</code></strong> :&ensp;<code>Optional[RecordsLike]</code></dt> <dd> <p>Records used to construct arrays.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.IdxRecords title=vectorbtpro.base.indexing.IdxRecords>IdxRecords</a>.</p> </dd> <dt><strong><code>return_preparer</code></strong> :&ensp;<code>bool</code></dt> <dd> <p>If True, returns the preparer instance (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FOFPreparer title=vectorbtpro.portfolio.preparing.FOFPreparer>FOFPreparer</a>).</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In this case, the seed is not automatically set; invoke <code>preparer.set_seed()</code> explicitly if needed.</p> </div> </dd> <dt><strong><code>return_prep_result</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, returns the preparer result (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.PFPrepResult title=vectorbtpro.portfolio.preparing.PFPrepResult>PFPrepResult</a>).</dd> <dt><strong><code>return_sim_out</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, returns the simulation output (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.SimulationOutput title=vectorbtpro.portfolio.enums.SimulationOutput>SimulationOutput</a>).</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>PortfolioResult</code></dt> <dd>Portfolio result.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.from_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.from_order_func_nb>from_order_func_nb</a> for <code>order_func_nb</code></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.from_order_func_rw_nb title=vectorbtpro.portfolio.nb.from_order_func.from_order_func_rw_nb>from_order_func_rw_nb</a> for <code>order_func_nb</code> and <code>row_wise=True</code></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.from_flex_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.from_flex_order_func_nb>from_flex_order_func_nb</a> for <code>flex_order_func_nb</code></li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.from_flex_order_func_rw_nb title=vectorbtpro.portfolio.nb.from_order_func.from_flex_order_func_rw_nb>from_flex_order_func_rw_nb</a> for <code>flex_order_func_nb</code> and <code>row_wise=True</code></li> </ul> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.portfolio title=vectorbtpro._settings.portfolio>portfolio</a>.</p> <p>These defaults are not used to fill NaN values after reindexing; vectorbtpro uses its own defaults (typically NaN for floating arrays and preset flags for integer arrays). Use <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.BCO title=vectorbtpro.base.reshaping.BCO>BCO</a> with <code>fill_value</code> to override.</p> </div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>All broadcastable arguments are handled using <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.broadcast title=vectorbtpro.base.reshaping.broadcast>broadcast</a> to preserve their original shapes for flexible indexing and memory efficiency. Each can be provided per frame, series, row, column, or individual element.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>All provided functions must be Numba-compiled if Numba is enabled. Also see the notes in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_orders title=vectorbtpro.portfolio.base.Portfolio.from_orders>Portfolio.from_orders</a>.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Unlike other methods, the valuation price is taken from the previous <code>close</code> rather than the order price, since an order's price is unknown until execution. You can override the valuation price in <code>pre_segment_func_nb</code>.</p> </div> <p><strong>Examples</strong></p> <p>Buy 10 units each tick using close price:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>order_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>size</span><span class=p>):</span>
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=gp>... </span>    <span class=k>return</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>order_nb</span><span class=p>(</span><span class=n>size</span><span class=o>=</span><span class=n>size</span><span class=p>)</span>
</span><span id=__span-21-4><a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>
</span><span id=__span-21-5><a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
</span><span id=__span-21-6><a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_order_func</span><span class=p>(</span>
</span><span id=__span-21-7><a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-21-8><a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a><span class=gp>... </span>    <span class=n>order_func_nb</span><span class=o>=</span><span class=n>order_func_nb</span><span class=p>,</span>
</span><span id=__span-21-9><a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a><span class=gp>... </span>    <span class=n>order_args</span><span class=o>=</span><span class=p>(</span><span class=mi>10</span><span class=p>,)</span>
</span><span id=__span-21-10><a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-21-11><a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a>
</span><span id=__span-21-12><a id=__codelineno-21-12 name=__codelineno-21-12 href=#__codelineno-21-12></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>assets</span>
</span><span id=__span-21-13><a id=__codelineno-21-13 name=__codelineno-21-13 href=#__codelineno-21-13></a><span class=go>0    10.0</span>
</span><span id=__span-21-14><a id=__codelineno-21-14 name=__codelineno-21-14 href=#__codelineno-21-14></a><span class=go>1    20.0</span>
</span><span id=__span-21-15><a id=__codelineno-21-15 name=__codelineno-21-15 href=#__codelineno-21-15></a><span class=go>2    30.0</span>
</span><span id=__span-21-16><a id=__codelineno-21-16 name=__codelineno-21-16 href=#__codelineno-21-16></a><span class=go>3    40.0</span>
</span><span id=__span-21-17><a id=__codelineno-21-17 name=__codelineno-21-17 href=#__codelineno-21-17></a><span class=go>4    40.0</span>
</span><span id=__span-21-18><a id=__codelineno-21-18 name=__codelineno-21-18 href=#__codelineno-21-18></a><span class=go>dtype: float64</span>
</span><span id=__span-21-19><a id=__codelineno-21-19 name=__codelineno-21-19 href=#__codelineno-21-19></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>cash</span>
</span><span id=__span-21-20><a id=__codelineno-21-20 name=__codelineno-21-20 href=#__codelineno-21-20></a><span class=go>0    90.0</span>
</span><span id=__span-21-21><a id=__codelineno-21-21 name=__codelineno-21-21 href=#__codelineno-21-21></a><span class=go>1    70.0</span>
</span><span id=__span-21-22><a id=__codelineno-21-22 name=__codelineno-21-22 href=#__codelineno-21-22></a><span class=go>2    40.0</span>
</span><span id=__span-21-23><a id=__codelineno-21-23 name=__codelineno-21-23 href=#__codelineno-21-23></a><span class=go>3     0.0</span>
</span><span id=__span-21-24><a id=__codelineno-21-24 name=__codelineno-21-24 href=#__codelineno-21-24></a><span class=go>4     0.0</span>
</span><span id=__span-21-25><a id=__codelineno-21-25 name=__codelineno-21-25 href=#__codelineno-21-25></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Reverse each position by first closing it. Use a stateful function to alternate positions:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>pre_group_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>):</span>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=gp>... </span>    <span class=n>last_pos_state</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=n>last_pos_state</span><span class=p>,)</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a>
</span><span id=__span-22-6><a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-22-7><a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>order_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>last_pos_state</span><span class=p>):</span>
</span><span id=__span-22-8><a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a><span class=gp>... </span>    <span class=k>if</span> <span class=n>c</span><span class=o>.</span><span class=n>position_now</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-22-9><a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a><span class=gp>... </span>        <span class=k>return</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>close_position_nb</span><span class=p>()</span>
</span><span id=__span-22-10><a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a><span class=gp>...</span>
</span><span id=__span-22-11><a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a><span class=gp>... </span>    <span class=k>if</span> <span class=n>last_pos_state</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-22-12><a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a><span class=gp>... </span>        <span class=n>size</span> <span class=o>=</span> <span class=o>-</span><span class=n>np</span><span class=o>.</span><span class=n>inf</span>  <span class=c1># open short</span>
</span><span id=__span-22-13><a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a><span class=gp>... </span>        <span class=n>last_pos_state</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span>
</span><span id=__span-22-14><a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a><span class=gp>... </span>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-22-15><a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a><span class=gp>... </span>        <span class=n>size</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>inf</span>  <span class=c1># open long</span>
</span><span id=__span-22-16><a id=__codelineno-22-16 name=__codelineno-22-16 href=#__codelineno-22-16></a><span class=gp>... </span>        <span class=n>last_pos_state</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-22-17><a id=__codelineno-22-17 name=__codelineno-22-17 href=#__codelineno-22-17></a><span class=gp>... </span>    <span class=k>return</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>order_nb</span><span class=p>(</span><span class=n>size</span><span class=o>=</span><span class=n>size</span><span class=p>)</span>
</span><span id=__span-22-18><a id=__codelineno-22-18 name=__codelineno-22-18 href=#__codelineno-22-18></a>
</span><span id=__span-22-19><a id=__codelineno-22-19 name=__codelineno-22-19 href=#__codelineno-22-19></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_order_func</span><span class=p>(</span>
</span><span id=__span-22-20><a id=__codelineno-22-20 name=__codelineno-22-20 href=#__codelineno-22-20></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-22-21><a id=__codelineno-22-21 name=__codelineno-22-21 href=#__codelineno-22-21></a><span class=gp>... </span>    <span class=n>order_func_nb</span><span class=o>=</span><span class=n>order_func_nb</span><span class=p>,</span>
</span><span id=__span-22-22><a id=__codelineno-22-22 name=__codelineno-22-22 href=#__codelineno-22-22></a><span class=gp>... </span>    <span class=n>pre_group_func_nb</span><span class=o>=</span><span class=n>pre_group_func_nb</span>
</span><span id=__span-22-23><a id=__codelineno-22-23 name=__codelineno-22-23 href=#__codelineno-22-23></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-22-24><a id=__codelineno-22-24 name=__codelineno-22-24 href=#__codelineno-22-24></a>
</span><span id=__span-22-25><a id=__codelineno-22-25 name=__codelineno-22-25 href=#__codelineno-22-25></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>assets</span>
</span><span id=__span-22-26><a id=__codelineno-22-26 name=__codelineno-22-26 href=#__codelineno-22-26></a><span class=go>0    100.000000</span>
</span><span id=__span-22-27><a id=__codelineno-22-27 name=__codelineno-22-27 href=#__codelineno-22-27></a><span class=go>1      0.000000</span>
</span><span id=__span-22-28><a id=__codelineno-22-28 name=__codelineno-22-28 href=#__codelineno-22-28></a><span class=go>2    -66.666667</span>
</span><span id=__span-22-29><a id=__codelineno-22-29 name=__codelineno-22-29 href=#__codelineno-22-29></a><span class=go>3      0.000000</span>
</span><span id=__span-22-30><a id=__codelineno-22-30 name=__codelineno-22-30 href=#__codelineno-22-30></a><span class=go>4     26.666667</span>
</span><span id=__span-22-31><a id=__codelineno-22-31 name=__codelineno-22-31 href=#__codelineno-22-31></a><span class=go>dtype: float64</span>
</span><span id=__span-22-32><a id=__codelineno-22-32 name=__codelineno-22-32 href=#__codelineno-22-32></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>cash</span>
</span><span id=__span-22-33><a id=__codelineno-22-33 name=__codelineno-22-33 href=#__codelineno-22-33></a><span class=go>0      0.000000</span>
</span><span id=__span-22-34><a id=__codelineno-22-34 name=__codelineno-22-34 href=#__codelineno-22-34></a><span class=go>1    200.000000</span>
</span><span id=__span-22-35><a id=__codelineno-22-35 name=__codelineno-22-35 href=#__codelineno-22-35></a><span class=go>2    400.000000</span>
</span><span id=__span-22-36><a id=__codelineno-22-36 name=__codelineno-22-36 href=#__codelineno-22-36></a><span class=go>3    133.333333</span>
</span><span id=__span-22-37><a id=__codelineno-22-37 name=__codelineno-22-37 href=#__codelineno-22-37></a><span class=go>4      0.000000</span>
</span><span id=__span-22-38><a id=__codelineno-22-38 name=__codelineno-22-38 href=#__codelineno-22-38></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Equal-weighted portfolio as in the example under <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.from_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.from_order_func_nb>from_order_func_nb</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>pre_group_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>):</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=gp>... </span>    <span class=n>order_value_out</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>group_len</span><span class=p>,</span> <span class=n>dtype</span><span class=o>=</span><span class=n>float_</span><span class=p>)</span>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=n>order_value_out</span><span class=p>,)</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a>
</span><span id=__span-23-6><a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-23-7><a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>pre_segment_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>order_value_out</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>size_type</span><span class=p>,</span> <span class=n>direction</span><span class=p>):</span>
</span><span id=__span-23-8><a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=gp>... </span>    <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>from_col</span><span class=p>,</span> <span class=n>c</span><span class=o>.</span><span class=n>to_col</span><span class=p>):</span>
</span><span id=__span-23-9><a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a><span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>last_val_price</span><span class=p>[</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_from_col_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>col</span><span class=p>,</span> <span class=n>price</span><span class=p>)</span>
</span><span id=__span-23-10><a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a><span class=gp>... </span>    <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>sort_call_seq_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=n>size_type</span><span class=p>,</span> <span class=n>direction</span><span class=p>,</span> <span class=n>order_value_out</span><span class=p>)</span>
</span><span id=__span-23-11><a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=gp>... </span>    <span class=k>return</span> <span class=p>()</span>
</span><span id=__span-23-12><a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a>
</span><span id=__span-23-13><a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-23-14><a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>order_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>size_type</span><span class=p>,</span> <span class=n>direction</span><span class=p>,</span> <span class=n>fees</span><span class=p>,</span> <span class=n>fixed_fees</span><span class=p>,</span> <span class=n>slippage</span><span class=p>):</span>
</span><span id=__span-23-15><a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a><span class=gp>... </span>    <span class=k>return</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>order_nb</span><span class=p>(</span>
</span><span id=__span-23-16><a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a><span class=gp>... </span>        <span class=n>size</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>size</span><span class=p>),</span>
</span><span id=__span-23-17><a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a><span class=gp>... </span>        <span class=n>price</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>price</span><span class=p>),</span>
</span><span id=__span-23-18><a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a><span class=gp>... </span>        <span class=n>size_type</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>size_type</span><span class=p>),</span>
</span><span id=__span-23-19><a id=__codelineno-23-19 name=__codelineno-23-19 href=#__codelineno-23-19></a><span class=gp>... </span>        <span class=n>direction</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>direction</span><span class=p>),</span>
</span><span id=__span-23-20><a id=__codelineno-23-20 name=__codelineno-23-20 href=#__codelineno-23-20></a><span class=gp>... </span>        <span class=n>fees</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>fees</span><span class=p>),</span>
</span><span id=__span-23-21><a id=__codelineno-23-21 name=__codelineno-23-21 href=#__codelineno-23-21></a><span class=gp>... </span>        <span class=n>fixed_fees</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>fixed_fees</span><span class=p>),</span>
</span><span id=__span-23-22><a id=__codelineno-23-22 name=__codelineno-23-22 href=#__codelineno-23-22></a><span class=gp>... </span>        <span class=n>slippage</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>slippage</span><span class=p>)</span>
</span><span id=__span-23-23><a id=__codelineno-23-23 name=__codelineno-23-23 href=#__codelineno-23-23></a><span class=gp>... </span>    <span class=p>)</span>
</span><span id=__span-23-24><a id=__codelineno-23-24 name=__codelineno-23-24 href=#__codelineno-23-24></a>
</span><span id=__span-23-25><a id=__codelineno-23-25 name=__codelineno-23-25 href=#__codelineno-23-25></a><span class=gp>&gt;&gt;&gt; </span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>seed</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
</span><span id=__span-23-26><a id=__codelineno-23-26 name=__codelineno-23-26 href=#__codelineno-23-26></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
</span><span id=__span-23-27><a id=__codelineno-23-27 name=__codelineno-23-27 href=#__codelineno-23-27></a><span class=gp>&gt;&gt;&gt; </span><span class=n>size_template</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>RepEval</span><span class=p>(</span><span class=s1>&#39;np.array([[1 / group_lens[0]]])&#39;</span><span class=p>)</span>
</span><span id=__span-23-28><a id=__codelineno-23-28 name=__codelineno-23-28 href=#__codelineno-23-28></a>
</span><span id=__span-23-29><a id=__codelineno-23-29 name=__codelineno-23-29 href=#__codelineno-23-29></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_order_func</span><span class=p>(</span>
</span><span id=__span-23-30><a id=__codelineno-23-30 name=__codelineno-23-30 href=#__codelineno-23-30></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-23-31><a id=__codelineno-23-31 name=__codelineno-23-31 href=#__codelineno-23-31></a><span class=gp>... </span>    <span class=n>order_func_nb</span><span class=o>=</span><span class=n>order_func_nb</span><span class=p>,</span>
</span><span id=__span-23-32><a id=__codelineno-23-32 name=__codelineno-23-32 href=#__codelineno-23-32></a><span class=gp>... </span>    <span class=n>order_args</span><span class=o>=</span><span class=p>(</span>
</span><span id=__span-23-33><a id=__codelineno-23-33 name=__codelineno-23-33 href=#__codelineno-23-33></a><span class=gp>... </span>        <span class=n>size_template</span><span class=p>,</span>
</span><span id=__span-23-34><a id=__codelineno-23-34 name=__codelineno-23-34 href=#__codelineno-23-34></a><span class=gp>... </span>        <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;price&#39;</span><span class=p>),</span>
</span><span id=__span-23-35><a id=__codelineno-23-35 name=__codelineno-23-35 href=#__codelineno-23-35></a><span class=gp>... </span>        <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;size_type&#39;</span><span class=p>),</span>
</span><span id=__span-23-36><a id=__codelineno-23-36 name=__codelineno-23-36 href=#__codelineno-23-36></a><span class=gp>... </span>        <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;direction&#39;</span><span class=p>),</span>
</span><span id=__span-23-37><a id=__codelineno-23-37 name=__codelineno-23-37 href=#__codelineno-23-37></a><span class=gp>... </span>        <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;fees&#39;</span><span class=p>),</span>
</span><span id=__span-23-38><a id=__codelineno-23-38 name=__codelineno-23-38 href=#__codelineno-23-38></a><span class=gp>... </span>        <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;fixed_fees&#39;</span><span class=p>),</span>
</span><span id=__span-23-39><a id=__codelineno-23-39 name=__codelineno-23-39 href=#__codelineno-23-39></a><span class=gp>... </span>        <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;slippage&#39;</span><span class=p>),</span>
</span><span id=__span-23-40><a id=__codelineno-23-40 name=__codelineno-23-40 href=#__codelineno-23-40></a><span class=gp>... </span>    <span class=p>),</span>
</span><span id=__span-23-41><a id=__codelineno-23-41 name=__codelineno-23-41 href=#__codelineno-23-41></a><span class=gp>... </span>    <span class=n>segment_mask</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>  <span class=c1># rebalance every second tick</span>
</span><span id=__span-23-42><a id=__codelineno-23-42 name=__codelineno-23-42 href=#__codelineno-23-42></a><span class=gp>... </span>    <span class=n>pre_group_func_nb</span><span class=o>=</span><span class=n>pre_group_func_nb</span><span class=p>,</span>
</span><span id=__span-23-43><a id=__codelineno-23-43 name=__codelineno-23-43 href=#__codelineno-23-43></a><span class=gp>... </span>    <span class=n>pre_segment_func_nb</span><span class=o>=</span><span class=n>pre_segment_func_nb</span><span class=p>,</span>
</span><span id=__span-23-44><a id=__codelineno-23-44 name=__codelineno-23-44 href=#__codelineno-23-44></a><span class=gp>... </span>    <span class=n>pre_segment_args</span><span class=o>=</span><span class=p>(</span>
</span><span id=__span-23-45><a id=__codelineno-23-45 name=__codelineno-23-45 href=#__codelineno-23-45></a><span class=gp>... </span>        <span class=n>size_template</span><span class=p>,</span>
</span><span id=__span-23-46><a id=__codelineno-23-46 name=__codelineno-23-46 href=#__codelineno-23-46></a><span class=gp>... </span>        <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;price&#39;</span><span class=p>),</span>
</span><span id=__span-23-47><a id=__codelineno-23-47 name=__codelineno-23-47 href=#__codelineno-23-47></a><span class=gp>... </span>        <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;size_type&#39;</span><span class=p>),</span>
</span><span id=__span-23-48><a id=__codelineno-23-48 name=__codelineno-23-48 href=#__codelineno-23-48></a><span class=gp>... </span>        <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;direction&#39;</span><span class=p>)</span>
</span><span id=__span-23-49><a id=__codelineno-23-49 name=__codelineno-23-49 href=#__codelineno-23-49></a><span class=gp>... </span>    <span class=p>),</span>
</span><span id=__span-23-50><a id=__codelineno-23-50 name=__codelineno-23-50 href=#__codelineno-23-50></a><span class=gp>... </span>    <span class=n>broadcast_named_args</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>  <span class=c1># broadcast against each other</span>
</span><span id=__span-23-51><a id=__codelineno-23-51 name=__codelineno-23-51 href=#__codelineno-23-51></a><span class=gp>... </span>        <span class=n>price</span><span class=o>=</span><span class=n>close</span><span class=p>,</span>
</span><span id=__span-23-52><a id=__codelineno-23-52 name=__codelineno-23-52 href=#__codelineno-23-52></a><span class=gp>... </span>        <span class=n>size_type</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_enums</span><span class=o>.</span><span class=n>SizeType</span><span class=o>.</span><span class=n>TargetPercent</span><span class=p>,</span>
</span><span id=__span-23-53><a id=__codelineno-23-53 name=__codelineno-23-53 href=#__codelineno-23-53></a><span class=gp>... </span>        <span class=n>direction</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_enums</span><span class=o>.</span><span class=n>Direction</span><span class=o>.</span><span class=n>LongOnly</span><span class=p>,</span>
</span><span id=__span-23-54><a id=__codelineno-23-54 name=__codelineno-23-54 href=#__codelineno-23-54></a><span class=gp>... </span>        <span class=n>fees</span><span class=o>=</span><span class=mf>0.001</span><span class=p>,</span>
</span><span id=__span-23-55><a id=__codelineno-23-55 name=__codelineno-23-55 href=#__codelineno-23-55></a><span class=gp>... </span>        <span class=n>fixed_fees</span><span class=o>=</span><span class=mf>1.</span><span class=p>,</span>
</span><span id=__span-23-56><a id=__codelineno-23-56 name=__codelineno-23-56 href=#__codelineno-23-56></a><span class=gp>... </span>        <span class=n>slippage</span><span class=o>=</span><span class=mf>0.001</span>
</span><span id=__span-23-57><a id=__codelineno-23-57 name=__codelineno-23-57 href=#__codelineno-23-57></a><span class=gp>... </span>    <span class=p>),</span>
</span><span id=__span-23-58><a id=__codelineno-23-58 name=__codelineno-23-58 href=#__codelineno-23-58></a><span class=gp>... </span>    <span class=n>template_context</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>np</span><span class=o>=</span><span class=n>np</span><span class=p>),</span>  <span class=c1># required by size_template</span>
</span><span id=__span-23-59><a id=__codelineno-23-59 name=__codelineno-23-59 href=#__codelineno-23-59></a><span class=gp>... </span>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>group_by</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># one group with cash sharing</span>
</span><span id=__span-23-60><a id=__codelineno-23-60 name=__codelineno-23-60 href=#__codelineno-23-60></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-23-61><a id=__codelineno-23-61 name=__codelineno-23-61 href=#__codelineno-23-61></a>
</span><span id=__span-23-62><a id=__codelineno-23-62 name=__codelineno-23-62 href=#__codelineno-23-62></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>get_asset_value</span><span class=p>(</span><span class=n>group_by</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span><span class=o>.</span><span class=n>vbt</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></code></pre></div> <p><img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_order_func.light.svg#only-light> <img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_order_func.dark.svg#only-dark></p> <p>Templates are a powerful tool to prepare custom arguments after broadcasting and before passing them to simulation functions. In the above example, <code>broadcast_named_args</code> broadcasts arguments and templates pass them to callbacks. An evaluation template is used to compute position size based on the number of assets in each group.</p> <p>You may ask: why should we bother using broadcasting and templates if we could just pass <code>size=1/3</code>? Because of flexibility those features provide: we can now pass whatever parameter combinations we want and it will work flawlessly. For example, to create two groups of equally-allocated positions, we need to change only two parameters:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>))</span>  <span class=c1># 6 columns instead of 3</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>group_by</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;g1&#39;</span><span class=p>,</span> <span class=s1>&#39;g1&#39;</span><span class=p>,</span> <span class=s1>&#39;g1&#39;</span><span class=p>,</span> <span class=s1>&#39;g2&#39;</span><span class=p>,</span> <span class=s1>&#39;g2&#39;</span><span class=p>,</span> <span class=s1>&#39;g2&#39;</span><span class=p>]</span>  <span class=c1># 2 groups instead of 1</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Replace close and group_by in the example above</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=p>[</span><span class=s1>&#39;g1&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get_asset_value</span><span class=p>(</span><span class=n>group_by</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span><span class=o>.</span><span class=n>vbt</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></code></pre></div> <p><img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_order_func_g1.light.svg#only-light> <img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_order_func_g1.dark.svg#only-dark></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=p>[</span><span class=s1>&#39;g2&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get_asset_value</span><span class=p>(</span><span class=n>group_by</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span><span class=o>.</span><span class=n>vbt</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></code></pre></div> <p><img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_order_func_g2.light.svg#only-light> <img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_order_func_g2.dark.svg#only-dark></p> <p>Combine multiple exit conditions. Exit early if the price exceeds a threshold before an actual exit:</p> <p><div class="language-pycon highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>pre_sim_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>):</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=gp>... </span>    <span class=c1># We need to define stop price per column once</span>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=gp>... </span>    <span class=n>stop_price</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>full</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>target_shape</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>np</span><span class=o>.</span><span class=n>nan</span><span class=p>,</span> <span class=n>dtype</span><span class=o>=</span><span class=n>float_</span><span class=p>)</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=n>stop_price</span><span class=p>,)</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a>
</span><span id=__span-26-7><a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-26-8><a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>order_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>stop_price</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span> <span class=n>size</span><span class=p>):</span>
</span><span id=__span-26-9><a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a><span class=gp>... </span>    <span class=c1># Select info related to this order</span>
</span><span id=__span-26-10><a id=__codelineno-26-10 name=__codelineno-26-10 href=#__codelineno-26-10></a><span class=gp>... </span>    <span class=n>entry_now</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>entries</span><span class=p>)</span>
</span><span id=__span-26-11><a id=__codelineno-26-11 name=__codelineno-26-11 href=#__codelineno-26-11></a><span class=gp>... </span>    <span class=n>exit_now</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>exits</span><span class=p>)</span>
</span><span id=__span-26-12><a id=__codelineno-26-12 name=__codelineno-26-12 href=#__codelineno-26-12></a><span class=gp>... </span>    <span class=n>size_now</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>size</span><span class=p>)</span>
</span><span id=__span-26-13><a id=__codelineno-26-13 name=__codelineno-26-13 href=#__codelineno-26-13></a><span class=gp>... </span>    <span class=n>price_now</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>c</span><span class=o>.</span><span class=n>close</span><span class=p>)</span>
</span><span id=__span-26-14><a id=__codelineno-26-14 name=__codelineno-26-14 href=#__codelineno-26-14></a><span class=gp>... </span>    <span class=n>stop_price_now</span> <span class=o>=</span> <span class=n>stop_price</span><span class=p>[</span><span class=n>c</span><span class=o>.</span><span class=n>col</span><span class=p>]</span>
</span><span id=__span-26-15><a id=__codelineno-26-15 name=__codelineno-26-15 href=#__codelineno-26-15></a><span class=gp>...</span>
</span><span id=__span-26-16><a id=__codelineno-26-16 name=__codelineno-26-16 href=#__codelineno-26-16></a><span class=gp>... </span>    <span class=c1># Our logic</span>
</span><span id=__span-26-17><a id=__codelineno-26-17 name=__codelineno-26-17 href=#__codelineno-26-17></a><span class=gp>... </span>    <span class=k>if</span> <span class=n>entry_now</span><span class=p>:</span>
</span><span id=__span-26-18><a id=__codelineno-26-18 name=__codelineno-26-18 href=#__codelineno-26-18></a><span class=gp>... </span>        <span class=k>if</span> <span class=n>c</span><span class=o>.</span><span class=n>position_now</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-26-19><a id=__codelineno-26-19 name=__codelineno-26-19 href=#__codelineno-26-19></a><span class=gp>... </span>            <span class=k>return</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>order_nb</span><span class=p>(</span>
</span><span id=__span-26-20><a id=__codelineno-26-20 name=__codelineno-26-20 href=#__codelineno-26-20></a><span class=gp>... </span>                <span class=n>size</span><span class=o>=</span><span class=n>size_now</span><span class=p>,</span>
</span><span id=__span-26-21><a id=__codelineno-26-21 name=__codelineno-26-21 href=#__codelineno-26-21></a><span class=gp>... </span>                <span class=n>price</span><span class=o>=</span><span class=n>price_now</span><span class=p>,</span>
</span><span id=__span-26-22><a id=__codelineno-26-22 name=__codelineno-26-22 href=#__codelineno-26-22></a><span class=gp>... </span>                <span class=n>direction</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_enums</span><span class=o>.</span><span class=n>Direction</span><span class=o>.</span><span class=n>LongOnly</span><span class=p>)</span>
</span><span id=__span-26-23><a id=__codelineno-26-23 name=__codelineno-26-23 href=#__codelineno-26-23></a><span class=gp>... </span>    <span class=k>elif</span> <span class=n>exit_now</span> <span class=ow>or</span> <span class=n>price_now</span> <span class=o>&gt;=</span> <span class=n>stop_price_now</span><span class=p>:</span>
</span><span id=__span-26-24><a id=__codelineno-26-24 name=__codelineno-26-24 href=#__codelineno-26-24></a><span class=gp>... </span>        <span class=k>if</span> <span class=n>c</span><span class=o>.</span><span class=n>position_now</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-26-25><a id=__codelineno-26-25 name=__codelineno-26-25 href=#__codelineno-26-25></a><span class=gp>... </span>            <span class=k>return</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>order_nb</span><span class=p>(</span>
</span><span id=__span-26-26><a id=__codelineno-26-26 name=__codelineno-26-26 href=#__codelineno-26-26></a><span class=gp>... </span>                <span class=n>size</span><span class=o>=-</span><span class=n>size_now</span><span class=p>,</span>
</span><span id=__span-26-27><a id=__codelineno-26-27 name=__codelineno-26-27 href=#__codelineno-26-27></a><span class=gp>... </span>                <span class=n>price</span><span class=o>=</span><span class=n>price_now</span><span class=p>,</span>
</span><span id=__span-26-28><a id=__codelineno-26-28 name=__codelineno-26-28 href=#__codelineno-26-28></a><span class=gp>... </span>                <span class=n>direction</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_enums</span><span class=o>.</span><span class=n>Direction</span><span class=o>.</span><span class=n>LongOnly</span><span class=p>)</span>
</span><span id=__span-26-29><a id=__codelineno-26-29 name=__codelineno-26-29 href=#__codelineno-26-29></a><span class=gp>... </span>    <span class=k>return</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_enums</span><span class=o>.</span><span class=n>NoOrder</span>
</span><span id=__span-26-30><a id=__codelineno-26-30 name=__codelineno-26-30 href=#__codelineno-26-30></a>
</span><span id=__span-26-31><a id=__codelineno-26-31 name=__codelineno-26-31 href=#__codelineno-26-31></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-26-32><a id=__codelineno-26-32 name=__codelineno-26-32 href=#__codelineno-26-32></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>post_order_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>stop_price</span><span class=p>,</span> <span class=n>stop</span><span class=p>):</span>
</span><span id=__span-26-33><a id=__codelineno-26-33 name=__codelineno-26-33 href=#__codelineno-26-33></a><span class=gp>... </span>    <span class=c1># Same broadcasting as for size</span>
</span><span id=__span-26-34><a id=__codelineno-26-34 name=__codelineno-26-34 href=#__codelineno-26-34></a><span class=gp>... </span>    <span class=n>stop_now</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>stop</span><span class=p>)</span>
</span><span id=__span-26-35><a id=__codelineno-26-35 name=__codelineno-26-35 href=#__codelineno-26-35></a><span class=gp>...</span>
</span><span id=__span-26-36><a id=__codelineno-26-36 name=__codelineno-26-36 href=#__codelineno-26-36></a><span class=gp>... </span>    <span class=k>if</span> <span class=n>c</span><span class=o>.</span><span class=n>order_result</span><span class=o>.</span><span class=n>status</span> <span class=o>==</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_enums</span><span class=o>.</span><span class=n>OrderStatus</span><span class=o>.</span><span class=n>Filled</span><span class=p>:</span>
</span><span id=__span-26-37><a id=__codelineno-26-37 name=__codelineno-26-37 href=#__codelineno-26-37></a><span class=gp>... </span>        <span class=k>if</span> <span class=n>c</span><span class=o>.</span><span class=n>order_result</span><span class=o>.</span><span class=n>side</span> <span class=o>==</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_enums</span><span class=o>.</span><span class=n>OrderSide</span><span class=o>.</span><span class=n>Buy</span><span class=p>:</span>
</span><span id=__span-26-38><a id=__codelineno-26-38 name=__codelineno-26-38 href=#__codelineno-26-38></a><span class=gp>... </span>            <span class=c1># Position entered: Set stop condition</span>
</span><span id=__span-26-39><a id=__codelineno-26-39 name=__codelineno-26-39 href=#__codelineno-26-39></a><span class=gp>... </span>            <span class=n>stop_price</span><span class=p>[</span><span class=n>c</span><span class=o>.</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=n>stop_now</span><span class=p>)</span> <span class=o>*</span> <span class=n>c</span><span class=o>.</span><span class=n>order_result</span><span class=o>.</span><span class=n>price</span>
</span><span id=__span-26-40><a id=__codelineno-26-40 name=__codelineno-26-40 href=#__codelineno-26-40></a><span class=gp>... </span>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-26-41><a id=__codelineno-26-41 name=__codelineno-26-41 href=#__codelineno-26-41></a><span class=gp>... </span>            <span class=c1># Position exited: Remove stop condition</span>
</span><span id=__span-26-42><a id=__codelineno-26-42 name=__codelineno-26-42 href=#__codelineno-26-42></a><span class=gp>... </span>            <span class=n>stop_price</span><span class=p>[</span><span class=n>c</span><span class=o>.</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>nan</span>
</span><span id=__span-26-43><a id=__codelineno-26-43 name=__codelineno-26-43 href=#__codelineno-26-43></a>
</span><span id=__span-26-44><a id=__codelineno-26-44 name=__codelineno-26-44 href=#__codelineno-26-44></a><span class=gp>&gt;&gt;&gt; </span><span class=k>def</span><span class=w> </span><span class=nf>simulate</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=n>stop</span><span class=p>):</span>
</span><span id=__span-26-45><a id=__codelineno-26-45 name=__codelineno-26-45 href=#__codelineno-26-45></a><span class=gp>... </span>    <span class=k>return</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_order_func</span><span class=p>(</span>
</span><span id=__span-26-46><a id=__codelineno-26-46 name=__codelineno-26-46 href=#__codelineno-26-46></a><span class=gp>... </span>        <span class=n>close</span><span class=p>,</span>
</span><span id=__span-26-47><a id=__codelineno-26-47 name=__codelineno-26-47 href=#__codelineno-26-47></a><span class=gp>... </span>        <span class=n>order_func_nb</span><span class=o>=</span><span class=n>order_func_nb</span><span class=p>,</span>
</span><span id=__span-26-48><a id=__codelineno-26-48 name=__codelineno-26-48 href=#__codelineno-26-48></a><span class=gp>... </span>        <span class=n>order_args</span><span class=o>=</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;entries&#39;</span><span class=p>),</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;exits&#39;</span><span class=p>),</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;size&#39;</span><span class=p>)),</span>
</span><span id=__span-26-49><a id=__codelineno-26-49 name=__codelineno-26-49 href=#__codelineno-26-49></a><span class=gp>... </span>        <span class=n>pre_sim_func_nb</span><span class=o>=</span><span class=n>pre_sim_func_nb</span><span class=p>,</span>
</span><span id=__span-26-50><a id=__codelineno-26-50 name=__codelineno-26-50 href=#__codelineno-26-50></a><span class=gp>... </span>        <span class=n>post_order_func_nb</span><span class=o>=</span><span class=n>post_order_func_nb</span><span class=p>,</span>
</span><span id=__span-26-51><a id=__codelineno-26-51 name=__codelineno-26-51 href=#__codelineno-26-51></a><span class=gp>... </span>        <span class=n>post_order_args</span><span class=o>=</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;stop&#39;</span><span class=p>),),</span>
</span><span id=__span-26-52><a id=__codelineno-26-52 name=__codelineno-26-52 href=#__codelineno-26-52></a><span class=gp>... </span>        <span class=n>broadcast_named_args</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>  <span class=c1># broadcast against each other</span>
</span><span id=__span-26-53><a id=__codelineno-26-53 name=__codelineno-26-53 href=#__codelineno-26-53></a><span class=gp>... </span>            <span class=n>entries</span><span class=o>=</span><span class=n>entries</span><span class=p>,</span>
</span><span id=__span-26-54><a id=__codelineno-26-54 name=__codelineno-26-54 href=#__codelineno-26-54></a><span class=gp>... </span>            <span class=n>exits</span><span class=o>=</span><span class=n>exits</span><span class=p>,</span>
</span><span id=__span-26-55><a id=__codelineno-26-55 name=__codelineno-26-55 href=#__codelineno-26-55></a><span class=gp>... </span>            <span class=n>size</span><span class=o>=</span><span class=n>size</span><span class=p>,</span>
</span><span id=__span-26-56><a id=__codelineno-26-56 name=__codelineno-26-56 href=#__codelineno-26-56></a><span class=gp>... </span>            <span class=n>stop</span><span class=o>=</span><span class=n>stop</span>
</span><span id=__span-26-57><a id=__codelineno-26-57 name=__codelineno-26-57 href=#__codelineno-26-57></a><span class=gp>... </span>        <span class=p>)</span>
</span><span id=__span-26-58><a id=__codelineno-26-58 name=__codelineno-26-58 href=#__codelineno-26-58></a><span class=gp>... </span>    <span class=p>)</span>
</span><span id=__span-26-59><a id=__codelineno-26-59 name=__codelineno-26-59 href=#__codelineno-26-59></a>
</span><span id=__span-26-60><a id=__codelineno-26-60 name=__codelineno-26-60 href=#__codelineno-26-60></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>10</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>13</span><span class=p>,</span> <span class=mi>14</span><span class=p>])</span>
</span><span id=__span-26-61><a id=__codelineno-26-61 name=__codelineno-26-61 href=#__codelineno-26-61></a><span class=gp>&gt;&gt;&gt; </span><span class=n>entries</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>])</span>
</span><span id=__span-26-62><a id=__codelineno-26-62 name=__codelineno-26-62 href=#__codelineno-26-62></a><span class=gp>&gt;&gt;&gt; </span><span class=n>exits</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>])</span>
</span><span id=__span-26-63><a id=__codelineno-26-63 name=__codelineno-26-63 href=#__codelineno-26-63></a><span class=gp>&gt;&gt;&gt; </span><span class=n>simulate</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>inf</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>)</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-26-64><a id=__codelineno-26-64 name=__codelineno-26-64 href=#__codelineno-26-64></a><span class=go>0    10.0</span>
</span><span id=__span-26-65><a id=__codelineno-26-65 name=__codelineno-26-65 href=#__codelineno-26-65></a><span class=go>1     0.0</span>
</span><span id=__span-26-66><a id=__codelineno-26-66 name=__codelineno-26-66 href=#__codelineno-26-66></a><span class=go>2   -10.0</span>
</span><span id=__span-26-67><a id=__codelineno-26-67 name=__codelineno-26-67 href=#__codelineno-26-67></a><span class=go>3     0.0</span>
</span><span id=__span-26-68><a id=__codelineno-26-68 name=__codelineno-26-68 href=#__codelineno-26-68></a><span class=go>4     0.0</span>
</span><span id=__span-26-69><a id=__codelineno-26-69 name=__codelineno-26-69 href=#__codelineno-26-69></a><span class=go>dtype: float64</span>
</span><span id=__span-26-70><a id=__codelineno-26-70 name=__codelineno-26-70 href=#__codelineno-26-70></a>
</span><span id=__span-26-71><a id=__codelineno-26-71 name=__codelineno-26-71 href=#__codelineno-26-71></a><span class=gp>&gt;&gt;&gt; </span><span class=n>simulate</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>inf</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>)</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-26-72><a id=__codelineno-26-72 name=__codelineno-26-72 href=#__codelineno-26-72></a><span class=go>0    10.0</span>
</span><span id=__span-26-73><a id=__codelineno-26-73 name=__codelineno-26-73 href=#__codelineno-26-73></a><span class=go>1     0.0</span>
</span><span id=__span-26-74><a id=__codelineno-26-74 name=__codelineno-26-74 href=#__codelineno-26-74></a><span class=go>2   -10.0</span>
</span><span id=__span-26-75><a id=__codelineno-26-75 name=__codelineno-26-75 href=#__codelineno-26-75></a><span class=go>3     0.0</span>
</span><span id=__span-26-76><a id=__codelineno-26-76 name=__codelineno-26-76 href=#__codelineno-26-76></a><span class=go>4     0.0</span>
</span><span id=__span-26-77><a id=__codelineno-26-77 name=__codelineno-26-77 href=#__codelineno-26-77></a><span class=go>dtype: float64</span>
</span><span id=__span-26-78><a id=__codelineno-26-78 name=__codelineno-26-78 href=#__codelineno-26-78></a>
</span><span id=__span-26-79><a id=__codelineno-26-79 name=__codelineno-26-79 href=#__codelineno-26-79></a><span class=gp>&gt;&gt;&gt; </span><span class=n>simulate</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>inf</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>nan</span><span class=p>)</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-26-80><a id=__codelineno-26-80 name=__codelineno-26-80 href=#__codelineno-26-80></a><span class=go>0    10.0</span>
</span><span id=__span-26-81><a id=__codelineno-26-81 name=__codelineno-26-81 href=#__codelineno-26-81></a><span class=go>1     0.0</span>
</span><span id=__span-26-82><a id=__codelineno-26-82 name=__codelineno-26-82 href=#__codelineno-26-82></a><span class=go>2     0.0</span>
</span><span id=__span-26-83><a id=__codelineno-26-83 name=__codelineno-26-83 href=#__codelineno-26-83></a><span class=go>3   -10.0</span>
</span><span id=__span-26-84><a id=__codelineno-26-84 name=__codelineno-26-84 href=#__codelineno-26-84></a><span class=go>4     0.0</span>
</span><span id=__span-26-85><a id=__codelineno-26-85 name=__codelineno-26-85 href=#__codelineno-26-85></a><span class=go>dtype: float64</span>
</span></code></pre></div> The stop of 10% does not trigger an order at the second bar because it occurs simultaneously with entry; it must wait until no entry is present. To exit regardless of an entry, replace "elif" with "if" (similar to using <code>ConflictMode.Opposite</code> in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_signals title=vectorbtpro.portfolio.base.Portfolio.from_signals>Portfolio.from_signals</a>).</p> <p>Multiple parameter combinations can be tested at once via broadcasting using <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.broadcast title=vectorbtpro.base.reshaping.broadcast>broadcast</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>stop</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>([[</span><span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>nan</span><span class=p>]])</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>simulate</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>inf</span><span class=p>,</span> <span class=n>stop</span><span class=p>)</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=go>      0     1     2</span>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=go>0  10.0  10.0  10.0</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a><span class=go>1   0.0   0.0   0.0</span>
</span><span id=__span-27-6><a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a><span class=go>2 -10.0 -10.0   0.0</span>
</span><span id=__span-27-7><a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=go>3   0.0   0.0 -10.0</span>
</span><span id=__span-27-8><a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a><span class=go>4   0.0   0.0   0.0</span>
</span></code></pre></div> <p>Or use a Cartesian product:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>stop</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Param</span><span class=p>([</span><span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>nan</span><span class=p>])</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>simulate</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>inf</span><span class=p>,</span> <span class=n>stop</span><span class=p>)</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=go>threshold   0.1   0.2   NaN</span>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=go>0          10.0  10.0  10.0</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=go>1           0.0   0.0   0.0</span>
</span><span id=__span-28-6><a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a><span class=go>2         -10.0 -10.0   0.0</span>
</span><span id=__span-28-7><a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a><span class=go>3           0.0   0.0 -10.0</span>
</span><span id=__span-28-8><a id=__codelineno-28-8 name=__codelineno-28-8 href=#__codelineno-28-8></a><span class=go>4           0.0   0.0   0.0</span>
</span></code></pre></div> <p>This works because <code>pd.Index</code> automatically translates into <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.BCO title=vectorbtpro.base.reshaping.BCO>BCO</a> with <code>product</code> set to True.</p> <p>Let's illustrate how to generate multiple orders per symbol and bar. For each bar, buy at open and sell at close:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>flex_order_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>size</span><span class=p>):</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=gp>... </span>    <span class=k>if</span> <span class=n>c</span><span class=o>.</span><span class=n>call_idx</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=gp>... </span>        <span class=k>return</span> <span class=n>c</span><span class=o>.</span><span class=n>from_col</span><span class=p>,</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>order_nb</span><span class=p>(</span><span class=n>size</span><span class=o>=</span><span class=n>size</span><span class=p>,</span> <span class=n>price</span><span class=o>=</span><span class=n>c</span><span class=o>.</span><span class=n>open</span><span class=p>[</span><span class=n>c</span><span class=o>.</span><span class=n>i</span><span class=p>,</span> <span class=n>c</span><span class=o>.</span><span class=n>from_col</span><span class=p>])</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=gp>... </span>    <span class=k>if</span> <span class=n>c</span><span class=o>.</span><span class=n>call_idx</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-29-6><a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a><span class=gp>... </span>        <span class=k>return</span> <span class=n>c</span><span class=o>.</span><span class=n>from_col</span><span class=p>,</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>close_position_nb</span><span class=p>(</span><span class=n>price</span><span class=o>=</span><span class=n>c</span><span class=o>.</span><span class=n>close</span><span class=p>[</span><span class=n>c</span><span class=o>.</span><span class=n>i</span><span class=p>,</span> <span class=n>c</span><span class=o>.</span><span class=n>from_col</span><span class=p>])</span>
</span><span id=__span-29-7><a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=gp>... </span>    <span class=k>return</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_enums</span><span class=o>.</span><span class=n>NoOrder</span>
</span><span id=__span-29-8><a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a>
</span><span id=__span-29-9><a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>open</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]})</span>
</span><span id=__span-29-10><a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]})</span>
</span><span id=__span-29-11><a id=__codelineno-29-11 name=__codelineno-29-11 href=#__codelineno-29-11></a><span class=gp>&gt;&gt;&gt; </span><span class=n>size</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-29-12><a id=__codelineno-29-12 name=__codelineno-29-12 href=#__codelineno-29-12></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_order_func</span><span class=p>(</span>
</span><span id=__span-29-13><a id=__codelineno-29-13 name=__codelineno-29-13 href=#__codelineno-29-13></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-29-14><a id=__codelineno-29-14 name=__codelineno-29-14 href=#__codelineno-29-14></a><span class=gp>... </span>    <span class=n>flex_order_func_nb</span><span class=o>=</span><span class=n>flex_order_func_nb</span><span class=p>,</span>
</span><span id=__span-29-15><a id=__codelineno-29-15 name=__codelineno-29-15 href=#__codelineno-29-15></a><span class=gp>... </span>    <span class=n>flex_order_args</span><span class=o>=</span><span class=p>(</span><span class=n>size</span><span class=p>,),</span>
</span><span id=__span-29-16><a id=__codelineno-29-16 name=__codelineno-29-16 href=#__codelineno-29-16></a><span class=gp>... </span>    <span class=nb>open</span><span class=o>=</span><span class=nb>open</span><span class=p>,</span>
</span><span id=__span-29-17><a id=__codelineno-29-17 name=__codelineno-29-17 href=#__codelineno-29-17></a><span class=gp>... </span>    <span class=n>max_order_records</span><span class=o>=</span><span class=n>close</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=mi>2</span>
</span><span id=__span-29-18><a id=__codelineno-29-18 name=__codelineno-29-18 href=#__codelineno-29-18></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-29-19><a id=__codelineno-29-19 name=__codelineno-29-19 href=#__codelineno-29-19></a>
</span><span id=__span-29-20><a id=__codelineno-29-20 name=__codelineno-29-20 href=#__codelineno-29-20></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>orders</span><span class=o>.</span><span class=n>readable</span>
</span><span id=__span-29-21><a id=__codelineno-29-21 name=__codelineno-29-21 href=#__codelineno-29-21></a><span class=go>    Order Id Column  Timestamp  Size  Price  Fees  Side</span>
</span><span id=__span-29-22><a id=__codelineno-29-22 name=__codelineno-29-22 href=#__codelineno-29-22></a><span class=go>0          0      a          0   1.0    1.0   0.0   Buy</span>
</span><span id=__span-29-23><a id=__codelineno-29-23 name=__codelineno-29-23 href=#__codelineno-29-23></a><span class=go>1          1      a          0   1.0    2.0   0.0  Sell</span>
</span><span id=__span-29-24><a id=__codelineno-29-24 name=__codelineno-29-24 href=#__codelineno-29-24></a><span class=go>2          2      a          1   1.0    2.0   0.0   Buy</span>
</span><span id=__span-29-25><a id=__codelineno-29-25 name=__codelineno-29-25 href=#__codelineno-29-25></a><span class=go>3          3      a          1   1.0    3.0   0.0  Sell</span>
</span><span id=__span-29-26><a id=__codelineno-29-26 name=__codelineno-29-26 href=#__codelineno-29-26></a><span class=go>4          4      a          2   1.0    3.0   0.0   Buy</span>
</span><span id=__span-29-27><a id=__codelineno-29-27 name=__codelineno-29-27 href=#__codelineno-29-27></a><span class=go>5          5      a          2   1.0    4.0   0.0  Sell</span>
</span><span id=__span-29-28><a id=__codelineno-29-28 name=__codelineno-29-28 href=#__codelineno-29-28></a><span class=go>6          0      b          0   1.0    4.0   0.0   Buy</span>
</span><span id=__span-29-29><a id=__codelineno-29-29 name=__codelineno-29-29 href=#__codelineno-29-29></a><span class=go>7          1      b          0   1.0    3.0   0.0  Sell</span>
</span><span id=__span-29-30><a id=__codelineno-29-30 name=__codelineno-29-30 href=#__codelineno-29-30></a><span class=go>8          2      b          1   1.0    5.0   0.0   Buy</span>
</span><span id=__span-29-31><a id=__codelineno-29-31 name=__codelineno-29-31 href=#__codelineno-29-31></a><span class=go>9          3      b          1   1.0    4.0   0.0  Sell</span>
</span><span id=__span-29-32><a id=__codelineno-29-32 name=__codelineno-29-32 href=#__codelineno-29-32></a><span class=go>10         4      b          2   1.0    6.0   0.0   Buy</span>
</span><span id=__span-29-33><a id=__codelineno-29-33 name=__codelineno-29-33 href=#__codelineno-29-33></a><span class=go>11         5      b          2   1.0    5.0   0.0  Sell</span>
</span></code></pre></div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Each bar is treated as a black box—price movements within a bar are unknown. Since order processing must mirror real-world conditions, only the opening and close prices remain reliably ordered.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.from_orders>from_orders <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L2682-L3161 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.from_orders title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_orders</span><span class=p>(</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a>    <span class=n>size</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a>    <span class=n>size_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-5><a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a>    <span class=n>direction</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-6><a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a>    <span class=n>price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-7><a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a>    <span class=n>fees</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-8><a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a>    <span class=n>fixed_fees</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-9><a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a>    <span class=n>slippage</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-10><a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a>    <span class=n>min_size</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-11><a id=__codelineno-30-11 name=__codelineno-30-11 href=#__codelineno-30-11></a>    <span class=n>max_size</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-12><a id=__codelineno-30-12 name=__codelineno-30-12 href=#__codelineno-30-12></a>    <span class=n>size_granularity</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-13><a id=__codelineno-30-13 name=__codelineno-30-13 href=#__codelineno-30-13></a>    <span class=n>leverage</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-14><a id=__codelineno-30-14 name=__codelineno-30-14 href=#__codelineno-30-14></a>    <span class=n>leverage_mode</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-15><a id=__codelineno-30-15 name=__codelineno-30-15 href=#__codelineno-30-15></a>    <span class=n>reject_prob</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-16><a id=__codelineno-30-16 name=__codelineno-30-16 href=#__codelineno-30-16></a>    <span class=n>price_area_vio_mode</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-17><a id=__codelineno-30-17 name=__codelineno-30-17 href=#__codelineno-30-17></a>    <span class=n>allow_partial</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-18><a id=__codelineno-30-18 name=__codelineno-30-18 href=#__codelineno-30-18></a>    <span class=n>raise_reject</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-19><a id=__codelineno-30-19 name=__codelineno-30-19 href=#__codelineno-30-19></a>    <span class=n>log</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-20><a id=__codelineno-30-20 name=__codelineno-30-20 href=#__codelineno-30-20></a>    <span class=n>val_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-21><a id=__codelineno-30-21 name=__codelineno-30-21 href=#__codelineno-30-21></a>    <span class=n>from_ago</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-22><a id=__codelineno-30-22 name=__codelineno-30-22 href=#__codelineno-30-22></a>    <span class=nb>open</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-23><a id=__codelineno-30-23 name=__codelineno-30-23 href=#__codelineno-30-23></a>    <span class=n>high</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-24><a id=__codelineno-30-24 name=__codelineno-30-24 href=#__codelineno-30-24></a>    <span class=n>low</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-25><a id=__codelineno-30-25 name=__codelineno-30-25 href=#__codelineno-30-25></a>    <span class=n>init_cash</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-26><a id=__codelineno-30-26 name=__codelineno-30-26 href=#__codelineno-30-26></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-27><a id=__codelineno-30-27 name=__codelineno-30-27 href=#__codelineno-30-27></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-28><a id=__codelineno-30-28 name=__codelineno-30-28 href=#__codelineno-30-28></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-29><a id=__codelineno-30-29 name=__codelineno-30-29 href=#__codelineno-30-29></a>    <span class=n>cash_earnings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-30><a id=__codelineno-30-30 name=__codelineno-30-30 href=#__codelineno-30-30></a>    <span class=n>cash_dividends</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-31><a id=__codelineno-30-31 name=__codelineno-30-31 href=#__codelineno-30-31></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-32><a id=__codelineno-30-32 name=__codelineno-30-32 href=#__codelineno-30-32></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-33><a id=__codelineno-30-33 name=__codelineno-30-33 href=#__codelineno-30-33></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-34><a id=__codelineno-30-34 name=__codelineno-30-34 href=#__codelineno-30-34></a>    <span class=n>call_seq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-35><a id=__codelineno-30-35 name=__codelineno-30-35 href=#__codelineno-30-35></a>    <span class=n>attach_call_seq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-36><a id=__codelineno-30-36 name=__codelineno-30-36 href=#__codelineno-30-36></a>    <span class=n>ffill_val_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-37><a id=__codelineno-30-37 name=__codelineno-30-37 href=#__codelineno-30-37></a>    <span class=n>update_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-38><a id=__codelineno-30-38 name=__codelineno-30-38 href=#__codelineno-30-38></a>    <span class=n>save_state</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-39><a id=__codelineno-30-39 name=__codelineno-30-39 href=#__codelineno-30-39></a>    <span class=n>save_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-40><a id=__codelineno-30-40 name=__codelineno-30-40 href=#__codelineno-30-40></a>    <span class=n>save_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-41><a id=__codelineno-30-41 name=__codelineno-30-41 href=#__codelineno-30-41></a>    <span class=n>skip_empty</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-42><a id=__codelineno-30-42 name=__codelineno-30-42 href=#__codelineno-30-42></a>    <span class=n>max_order_records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-43><a id=__codelineno-30-43 name=__codelineno-30-43 href=#__codelineno-30-43></a>    <span class=n>max_log_records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-44><a id=__codelineno-30-44 name=__codelineno-30-44 href=#__codelineno-30-44></a>    <span class=n>seed</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-45><a id=__codelineno-30-45 name=__codelineno-30-45 href=#__codelineno-30-45></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-46><a id=__codelineno-30-46 name=__codelineno-30-46 href=#__codelineno-30-46></a>    <span class=n>broadcast_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-47><a id=__codelineno-30-47 name=__codelineno-30-47 href=#__codelineno-30-47></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-48><a id=__codelineno-30-48 name=__codelineno-30-48 href=#__codelineno-30-48></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-49><a id=__codelineno-30-49 name=__codelineno-30-49 href=#__codelineno-30-49></a>    <span class=n>bm_close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-50><a id=__codelineno-30-50 name=__codelineno-30-50 href=#__codelineno-30-50></a>    <span class=n>records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-30-51><a id=__codelineno-30-51 name=__codelineno-30-51 href=#__codelineno-30-51></a>    <span class=n>return_preparer</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-30-52><a id=__codelineno-30-52 name=__codelineno-30-52 href=#__codelineno-30-52></a>    <span class=n>return_prep_result</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-30-53><a id=__codelineno-30-53 name=__codelineno-30-53 href=#__codelineno-30-53></a>    <span class=n>return_sim_out</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-30-54><a id=__codelineno-30-54 name=__codelineno-30-54 href=#__codelineno-30-54></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-30-55><a id=__codelineno-30-55 name=__codelineno-30-55 href=#__codelineno-30-55></a><span class=p>)</span>
</span></code></pre></div> <p>Simulate a portfolio from orders using size, price, fees, and other parameters.</p> <p>This method simulates portfolio evolution based on provided order inputs. Order parameters such as size, price, fees, and others are broadcast as necessary and processed to construct the resulting portfolio.</p> <p>Prepared using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FOPreparer title=vectorbtpro.portfolio.preparing.FOPreparer>FOPreparer</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Union[ArrayLike, OHLCDataMixin, FOPreparer, PFPrepResult]</code></dt> <dd> <p>Close prices or OHLC data used for portfolio simulation.</p> <p>Broadcasts.</p> <ul> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/data/base/#vectorbtpro.data.base.OHLCDataMixin title=vectorbtpro.data.base.OHLCDataMixin>OHLCDataMixin</a>, extracts open, high, low, and close prices.</li> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FOPreparer title=vectorbtpro.portfolio.preparing.FOPreparer>FOPreparer</a>, it is used as a preparer.</li> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.PFPrepResult title=vectorbtpro.portfolio.preparing.PFPrepResult>PFPrepResult</a>, it is used as a preparer result.</li> </ul> </dd> <dt><strong><code>size</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Size to order.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.size title=vectorbtpro.portfolio.enums.Order.size>Order.size</a>.</p> </dd> <dt><strong><code>size_type</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order size type.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.size_type title=vectorbtpro.portfolio.enums.Order.size_type>Order.size_type</a>.</p> </dd> <dt><strong><code>direction</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order direction.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.direction title=vectorbtpro.portfolio.enums.Order.direction>Order.direction</a>.</p> </dd> <dt><strong><code>price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order price.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.price title=vectorbtpro.portfolio.enums.Order.price>Order.price</a>.</p> <p>Options such as <code>PriceType.NextOpen</code> and <code>PriceType.NextClose</code> apply per column and require <code>from_ago</code> to be None.</p> </dd> <dt><strong><code>fees</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Fees as a percentage of the order value.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.fees title=vectorbtpro.portfolio.enums.Order.fees>Order.fees</a>.</p> </dd> <dt><strong><code>fixed_fees</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Fixed fee amount per order.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.fixed_fees title=vectorbtpro.portfolio.enums.Order.fixed_fees>Order.fixed_fees</a>.</p> </dd> <dt><strong><code>slippage</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Slippage percentage of the order price.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.slippage title=vectorbtpro.portfolio.enums.Order.slippage>Order.slippage</a>.</p> </dd> <dt><strong><code>min_size</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Minimum order size.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.min_size title=vectorbtpro.portfolio.enums.Order.min_size>Order.min_size</a>.</p> </dd> <dt><strong><code>max_size</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Maximum order size.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.max_size title=vectorbtpro.portfolio.enums.Order.max_size>Order.max_size</a>.</p> </dd> <dt><strong><code>size_granularity</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Granularity of the order size.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.size_granularity title=vectorbtpro.portfolio.enums.Order.size_granularity>Order.size_granularity</a>.</p> </dd> <dt><strong><code>leverage</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Leverage applied in the order.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.leverage title=vectorbtpro.portfolio.enums.Order.leverage>Order.leverage</a>.</p> </dd> <dt><strong><code>leverage_mode</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Leverage mode.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.leverage_mode title=vectorbtpro.portfolio.enums.Order.leverage_mode>Order.leverage_mode</a>.</p> </dd> <dt><strong><code>reject_prob</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order rejection probability.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.reject_prob title=vectorbtpro.portfolio.enums.Order.reject_prob>Order.reject_prob</a>.</p> </dd> <dt><strong><code>price_area_vio_mode</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Price area violation mode.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.price_area_vio_mode title=vectorbtpro.portfolio.enums.Order.price_area_vio_mode>Order.price_area_vio_mode</a>.</p> </dd> <dt><strong><code>allow_partial</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Indicates whether partial fills are allowed.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.allow_partial title=vectorbtpro.portfolio.enums.Order.allow_partial>Order.allow_partial</a>.</p> </dd> <dt><strong><code>raise_reject</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Indicates whether to raise an exception upon order rejection.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.raise_reject title=vectorbtpro.portfolio.enums.Order.raise_reject>Order.raise_reject</a>.</p> </dd> <dt><strong><code>log</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Flag indicating whether to log orders.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.log title=vectorbtpro.portfolio.enums.Order.log>Order.log</a>.</p> </dd> <dt><strong><code>val_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Asset valuation price used in decision making.</p> <p>Broadcasts. Can also be provided as <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.ValPriceType title=vectorbtpro.portfolio.enums.ValPriceType>ValPriceType</a>.</p> <ul> <li>Any <code>-np.inf</code> element is replaced by the latest valuation price (using <code>open</code> or a previously known value if <code>ffill_val_price</code> is True).</li> <li>Any <code>np.inf</code> element is replaced by the current order price.</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Unlike <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_order_func title=vectorbtpro.portfolio.base.Portfolio.from_order_func>Portfolio.from_order_func</a>, the order price is effectively predetermined, so <code>val_price</code> defaults to the current order price when using <code>np.inf</code>. To use the previous close, set it in the settings to <code>-np.inf</code>.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Ensure that the timestamp associated with <code>val_price</code> precedes all order timestamps in a cash-sharing group.</p> </div> </dd> <dt><strong><code>open</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Opening asset price at each bar.</p> <p>Broadcasts. Used as a price boundary (see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PriceArea title=vectorbtpro.portfolio.enums.PriceArea>PriceArea</a>).</p> </dd> <dt><strong><code>high</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Highest asset price at each bar.</p> <p>Broadcasts. Used as a price boundary (see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PriceArea title=vectorbtpro.portfolio.enums.PriceArea>PriceArea</a>).</p> </dd> <dt><strong><code>low</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Lowest asset price at each bar.</p> <p>Broadcasts. Used as a price boundary (see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PriceArea title=vectorbtpro.portfolio.enums.PriceArea>PriceArea</a>).</p> </dd> <dt><strong><code>init_cash</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial capital.</p> <p>Broadcasts to the final number of columns, or to the number of groups if cash sharing is enabled. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.InitCashMode title=vectorbtpro.portfolio.enums.InitCashMode>InitCashMode</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When using <code>InitCashMode.AutoAlign</code>, initial cash values are synchronized across columns/groups after initialization.</p> </div> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Broadcasts to match the final number of columns.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Broadcasts to match the final number of columns.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Broadcasts to match the shape of <code>init_cash</code>.</p> </dd> <dt><strong><code>cash_earnings</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash earnings or losses at the end of each bar.</p> <p>Broadcasts.</p> </dd> <dt><strong><code>cash_dividends</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash dividends or interest at the end of each bar.</p> <p>Broadcasts, are multiplied by the position, and then added to <code>cash_earnings</code>.</p> </dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Flag indicating whether cash is shared among assets of the same group.</p> <p>If <code>group_by</code> is None and this is True, all assets are grouped together for cash sharing.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Enables cross-asset dependencies by assuming that all orders in a cash-sharing group execute in the same tick and retain their price.</p> </div> </dd> <dt><strong><code>from_ago</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Number of bars to look back for order information.</p> <p>Negative values are converted to positive to avoid look-ahead bias.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Start index of the simulation range.</p> <p>Can be "auto" to automatically select the first non-NA size value.</p> </dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>End index of the simulation range.</p> <p>Can be "auto" to automatically select the first non-NA size value.</p> </dd> <dt><strong><code>call_seq</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Sequence dictating the order in which columns are processed per row and group.</p> <p>Each element specifies the position of a column in the processing order. Options include:</p> <ul> <li>None: Generates a default call sequence.</li> <li>Value from <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.CallSeqType title=vectorbtpro.portfolio.enums.CallSeqType>CallSeqType</a>: Creates a full array of the specified type.</li> <li>Custom array: Specifies a user-defined call sequence.</li> </ul> <p>If set to <code>CallSeqType.Auto</code>, orders are rearranged dynamically so that sell orders are processed before buy orders.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p><code>CallSeqType.Auto</code> assumes predetermined order prices and flexible execution, which may not accurately reflect real-time conditions. For stricter control, use <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_order_func title=vectorbtpro.portfolio.base.Portfolio.from_order_func>Portfolio.from_order_func</a>.</p> </div> </dd> <dt><strong><code>attach_call_seq</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Indicates whether to attach the computed call sequence to the portfolio instance.</dd> <dt><strong><code>ffill_val_price</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>If True, tracks the valuation price only when available to prevent propagation of NaN values.</dd> <dt><strong><code>update_value</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>If True, updates the group value after each filled order.</dd> <dt><strong><code>save_state</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Flag to record the account state.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.AccountState title=vectorbtpro.portfolio.enums.AccountState>AccountState</a>.</p> </dd> <dt><strong><code>save_value</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Flag to record the portfolio value.</dd> <dt><strong><code>save_returns</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Flag to record the portfolio returns.</dd> <dt><strong><code>skip_empty</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>If True, skips processing rows that do not contain any orders.</dd> <dt><strong><code>max_order_records</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd> <p>Maximum number of order records expected per column.</p> <p>Defaults to the number of rows in the broadcasted shape. Set to 0 to disable, lower to reduce memory usage, or higher if multiple orders per timestamp are expected.</p> </dd> <dt><strong><code>max_log_records</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd> <p>Maximum number of log records expected per column.</p> <p>Set to the number of rows in the broadcasted shape if logging is enabled. Set lower to reduce memory usage, or higher if multiple logs per timestamp are expected.</p> </dd> <dt><strong><code>seed</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd>Random seed for deterministic output.</dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>broadcast_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for broadcasting.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.broadcast title=vectorbtpro.base.reshaping.broadcast>broadcast</a>.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>bm_close</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Benchmark asset price at each bar.</p> <p>Broadcasts. If not provided, <code>close</code> is used; if set to False, benchmarking is disabled.</p> </dd> <dt><strong><code>records</code></strong> :&ensp;<code>Optional[RecordsLike]</code></dt> <dd> <p>Records used to construct arrays.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.IdxRecords title=vectorbtpro.base.indexing.IdxRecords>IdxRecords</a>.</p> </dd> <dt><strong><code>return_preparer</code></strong> :&ensp;<code>bool</code></dt> <dd> <p>If True, returns the preparer instance (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FOPreparer title=vectorbtpro.portfolio.preparing.FOPreparer>FOPreparer</a>).</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In this case, the seed is not automatically set; invoke <code>preparer.set_seed()</code> explicitly if needed.</p> </div> </dd> <dt><strong><code>return_prep_result</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, returns the preparer result (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.PFPrepResult title=vectorbtpro.portfolio.preparing.PFPrepResult>PFPrepResult</a>).</dd> <dt><strong><code>return_sim_out</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, returns the simulation output (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.SimulationOutput title=vectorbtpro.portfolio.enums.SimulationOutput>SimulationOutput</a>).</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>PortfolioResult</code></dt> <dd>Portfolio result.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_orders/#vectorbtpro.portfolio.nb.from_orders.from_orders_nb title=vectorbtpro.portfolio.nb.from_orders.from_orders_nb>from_orders_nb</a></p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.portfolio title=vectorbtpro._settings.portfolio>portfolio</a>.</p> <p>These defaults are not used to fill NaN values after reindexing; vectorbtpro uses its own defaults (typically NaN for floating arrays and preset flags for integer arrays). Use <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.BCO title=vectorbtpro.base.reshaping.BCO>BCO</a> with <code>fill_value</code> to override.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When <code>call_seq</code> is not set to <code>CallSeqType.Auto</code>, the processing order within a group strictly follows the specified <code>call_seq</code>. This means the last asset in the sequence is processed only after the others, which can affect rebalancing. Use <code>CallSeqType.Auto</code> for dynamic execution order.</p> </div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>All broadcastable arguments are handled using <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.broadcast title=vectorbtpro.base.reshaping.broadcast>broadcast</a> to preserve their original shapes for flexible indexing and memory efficiency. Each can be provided per frame, series, row, column, or individual element.</p> </div> <p><strong>Examples</strong></p> <p>Buy 10 units each tick:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_orders</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a>
</span><span id=__span-31-4><a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>assets</span>
</span><span id=__span-31-5><a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=go>0    10.0</span>
</span><span id=__span-31-6><a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a><span class=go>1    20.0</span>
</span><span id=__span-31-7><a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a><span class=go>2    30.0</span>
</span><span id=__span-31-8><a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a><span class=go>3    40.0</span>
</span><span id=__span-31-9><a id=__codelineno-31-9 name=__codelineno-31-9 href=#__codelineno-31-9></a><span class=go>4    40.0</span>
</span><span id=__span-31-10><a id=__codelineno-31-10 name=__codelineno-31-10 href=#__codelineno-31-10></a><span class=go>dtype: float64</span>
</span><span id=__span-31-11><a id=__codelineno-31-11 name=__codelineno-31-11 href=#__codelineno-31-11></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>cash</span>
</span><span id=__span-31-12><a id=__codelineno-31-12 name=__codelineno-31-12 href=#__codelineno-31-12></a><span class=go>0    90.0</span>
</span><span id=__span-31-13><a id=__codelineno-31-13 name=__codelineno-31-13 href=#__codelineno-31-13></a><span class=go>1    70.0</span>
</span><span id=__span-31-14><a id=__codelineno-31-14 name=__codelineno-31-14 href=#__codelineno-31-14></a><span class=go>2    40.0</span>
</span><span id=__span-31-15><a id=__codelineno-31-15 name=__codelineno-31-15 href=#__codelineno-31-15></a><span class=go>3     0.0</span>
</span><span id=__span-31-16><a id=__codelineno-31-16 name=__codelineno-31-16 href=#__codelineno-31-16></a><span class=go>4     0.0</span>
</span><span id=__span-31-17><a id=__codelineno-31-17 name=__codelineno-31-17 href=#__codelineno-31-17></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Reverse each position by first closing it:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>size</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>]</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_orders</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=n>size_type</span><span class=o>=</span><span class=s1>&#39;targetpercent&#39;</span><span class=p>)</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>assets</span>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a><span class=go>0    100.000000</span>
</span><span id=__span-32-6><a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a><span class=go>1      0.000000</span>
</span><span id=__span-32-7><a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a><span class=go>2    -66.666667</span>
</span><span id=__span-32-8><a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a><span class=go>3      0.000000</span>
</span><span id=__span-32-9><a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a><span class=go>4     26.666667</span>
</span><span id=__span-32-10><a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a><span class=go>dtype: float64</span>
</span><span id=__span-32-11><a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>cash</span>
</span><span id=__span-32-12><a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a><span class=go>0      0.000000</span>
</span><span id=__span-32-13><a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a><span class=go>1    200.000000</span>
</span><span id=__span-32-14><a id=__codelineno-32-14 name=__codelineno-32-14 href=#__codelineno-32-14></a><span class=go>2    400.000000</span>
</span><span id=__span-32-15><a id=__codelineno-32-15 name=__codelineno-32-15 href=#__codelineno-32-15></a><span class=go>3    133.333333</span>
</span><span id=__span-32-16><a id=__codelineno-32-16 name=__codelineno-32-16 href=#__codelineno-32-16></a><span class=go>4      0.000000</span>
</span><span id=__span-32-17><a id=__codelineno-32-17 name=__codelineno-32-17 href=#__codelineno-32-17></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Regularly deposit cash at open and invest it within the same bar at close:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>cash_deposits</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mf>10.</span><span class=p>,</span> <span class=mf>0.</span><span class=p>,</span> <span class=mf>10.</span><span class=p>,</span> <span class=mf>0.</span><span class=p>,</span> <span class=mf>10.</span><span class=p>])</span>
</span><span id=__span-33-3><a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_orders</span><span class=p>(</span>
</span><span id=__span-33-4><a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-33-5><a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=n>cash_deposits</span><span class=p>,</span>  <span class=c1># invest the amount deposited</span>
</span><span id=__span-33-6><a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a><span class=gp>... </span>    <span class=n>size_type</span><span class=o>=</span><span class=s1>&#39;value&#39;</span><span class=p>,</span>
</span><span id=__span-33-7><a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a><span class=gp>... </span>    <span class=n>cash_deposits</span><span class=o>=</span><span class=n>cash_deposits</span>
</span><span id=__span-33-8><a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-33-9><a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a>
</span><span id=__span-33-10><a id=__codelineno-33-10 name=__codelineno-33-10 href=#__codelineno-33-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>cash</span>
</span><span id=__span-33-11><a id=__codelineno-33-11 name=__codelineno-33-11 href=#__codelineno-33-11></a><span class=go>0    100.0</span>
</span><span id=__span-33-12><a id=__codelineno-33-12 name=__codelineno-33-12 href=#__codelineno-33-12></a><span class=go>1    100.0</span>
</span><span id=__span-33-13><a id=__codelineno-33-13 name=__codelineno-33-13 href=#__codelineno-33-13></a><span class=go>2    100.0</span>
</span><span id=__span-33-14><a id=__codelineno-33-14 name=__codelineno-33-14 href=#__codelineno-33-14></a><span class=go>3    100.0</span>
</span><span id=__span-33-15><a id=__codelineno-33-15 name=__codelineno-33-15 href=#__codelineno-33-15></a><span class=go>4    100.0</span>
</span><span id=__span-33-16><a id=__codelineno-33-16 name=__codelineno-33-16 href=#__codelineno-33-16></a><span class=go>dtype: float64</span>
</span><span id=__span-33-17><a id=__codelineno-33-17 name=__codelineno-33-17 href=#__codelineno-33-17></a>
</span><span id=__span-33-18><a id=__codelineno-33-18 name=__codelineno-33-18 href=#__codelineno-33-18></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-33-19><a id=__codelineno-33-19 name=__codelineno-33-19 href=#__codelineno-33-19></a><span class=go>0    10.000000</span>
</span><span id=__span-33-20><a id=__codelineno-33-20 name=__codelineno-33-20 href=#__codelineno-33-20></a><span class=go>1     0.000000</span>
</span><span id=__span-33-21><a id=__codelineno-33-21 name=__codelineno-33-21 href=#__codelineno-33-21></a><span class=go>2     3.333333</span>
</span><span id=__span-33-22><a id=__codelineno-33-22 name=__codelineno-33-22 href=#__codelineno-33-22></a><span class=go>3     0.000000</span>
</span><span id=__span-33-23><a id=__codelineno-33-23 name=__codelineno-33-23 href=#__codelineno-33-23></a><span class=go>4     2.000000</span>
</span><span id=__span-33-24><a id=__codelineno-33-24 name=__codelineno-33-24 href=#__codelineno-33-24></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Equal-weighted portfolio as in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_order_func/#vectorbtpro.portfolio.nb.from_order_func.from_order_func_nb title=vectorbtpro.portfolio.nb.from_order_func.from_order_func_nb>from_order_func_nb</a> example (it's more compact but has less control over execution):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>seed</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)))</span>
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>size</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>full</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>1</span><span class=o>/</span><span class=mi>3</span><span class=p>))</span>  <span class=c1># each column 33.3%</span>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>size</span><span class=p>[</span><span class=mi>1</span><span class=p>::</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>nan</span>  <span class=c1># skip every second tick</span>
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a>
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_orders</span><span class=p>(</span>
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>  <span class=c1># acts both as reference and order price here</span>
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a><span class=gp>... </span>    <span class=n>size</span><span class=p>,</span>
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a><span class=gp>... </span>    <span class=n>size_type</span><span class=o>=</span><span class=s1>&#39;targetpercent&#39;</span><span class=p>,</span>
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span><span class=p>,</span>
</span><span id=__span-34-11><a id=__codelineno-34-11 name=__codelineno-34-11 href=#__codelineno-34-11></a><span class=gp>... </span>    <span class=n>call_seq</span><span class=o>=</span><span class=s1>&#39;auto&#39;</span><span class=p>,</span>  <span class=c1># first sell then buy</span>
</span><span id=__span-34-12><a id=__codelineno-34-12 name=__codelineno-34-12 href=#__codelineno-34-12></a><span class=gp>... </span>    <span class=n>group_by</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># one group</span>
</span><span id=__span-34-13><a id=__codelineno-34-13 name=__codelineno-34-13 href=#__codelineno-34-13></a><span class=gp>... </span>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># assets share the same cash</span>
</span><span id=__span-34-14><a id=__codelineno-34-14 name=__codelineno-34-14 href=#__codelineno-34-14></a><span class=gp>... </span>    <span class=n>fees</span><span class=o>=</span><span class=mf>0.001</span><span class=p>,</span> <span class=n>fixed_fees</span><span class=o>=</span><span class=mf>1.</span><span class=p>,</span> <span class=n>slippage</span><span class=o>=</span><span class=mf>0.001</span>  <span class=c1># costs</span>
</span><span id=__span-34-15><a id=__codelineno-34-15 name=__codelineno-34-15 href=#__codelineno-34-15></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-34-16><a id=__codelineno-34-16 name=__codelineno-34-16 href=#__codelineno-34-16></a>
</span><span id=__span-34-17><a id=__codelineno-34-17 name=__codelineno-34-17 href=#__codelineno-34-17></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>get_asset_value</span><span class=p>(</span><span class=n>group_by</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span><span class=o>.</span><span class=n>vbt</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></code></pre></div> <p><img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_orders.light.svg#only-light> <img alt class=iimg loading=lazy src=https://vectorbt.pro/pvt_41531c19/assets/images/api/from_orders.dark.svg#only-dark></p> <p>Test 10 random weight combinations:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>seed</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class=gp>... </span>    <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)),</span>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=gp>... </span>    <span class=n>columns</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Index</span><span class=p>([</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>],</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;asset&#39;</span><span class=p>))</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a>
</span><span id=__span-35-6><a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Generate random weight combinations</span>
</span><span id=__span-35-7><a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>rand_weights</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-35-8><a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a><span class=gp>&gt;&gt;&gt; </span><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>):</span>
</span><span id=__span-35-9><a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a><span class=gp>... </span>    <span class=n>rand_weights</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>dirichlet</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>ones</span><span class=p>(</span><span class=n>close</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]),</span> <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>])</span>
</span><span id=__span-35-10><a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>rand_weights</span>
</span><span id=__span-35-11><a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a><span class=go>[array([0.15474873, 0.27706078, 0.5681905 ]),</span>
</span><span id=__span-35-12><a id=__codelineno-35-12 name=__codelineno-35-12 href=#__codelineno-35-12></a><span class=go> array([0.30468598, 0.18545189, 0.50986213]),</span>
</span><span id=__span-35-13><a id=__codelineno-35-13 name=__codelineno-35-13 href=#__codelineno-35-13></a><span class=go> array([0.15780486, 0.36292607, 0.47926907]),</span>
</span><span id=__span-35-14><a id=__codelineno-35-14 name=__codelineno-35-14 href=#__codelineno-35-14></a><span class=go> array([0.25697713, 0.64902589, 0.09399698]),</span>
</span><span id=__span-35-15><a id=__codelineno-35-15 name=__codelineno-35-15 href=#__codelineno-35-15></a><span class=go> array([0.43310548, 0.53836359, 0.02853093]),</span>
</span><span id=__span-35-16><a id=__codelineno-35-16 name=__codelineno-35-16 href=#__codelineno-35-16></a><span class=go> array([0.78628605, 0.15716865, 0.0565453 ]),</span>
</span><span id=__span-35-17><a id=__codelineno-35-17 name=__codelineno-35-17 href=#__codelineno-35-17></a><span class=go> array([0.37186671, 0.42150531, 0.20662798]),</span>
</span><span id=__span-35-18><a id=__codelineno-35-18 name=__codelineno-35-18 href=#__codelineno-35-18></a><span class=go> array([0.22441579, 0.06348919, 0.71209502]),</span>
</span><span id=__span-35-19><a id=__codelineno-35-19 name=__codelineno-35-19 href=#__codelineno-35-19></a><span class=go> array([0.41619664, 0.09338007, 0.49042329]),</span>
</span><span id=__span-35-20><a id=__codelineno-35-20 name=__codelineno-35-20 href=#__codelineno-35-20></a><span class=go> array([0.01279537, 0.87770864, 0.10949599])]</span>
</span><span id=__span-35-21><a id=__codelineno-35-21 name=__codelineno-35-21 href=#__codelineno-35-21></a>
</span><span id=__span-35-22><a id=__codelineno-35-22 name=__codelineno-35-22 href=#__codelineno-35-22></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Bring close and rand_weights to the same shape</span>
</span><span id=__span-35-23><a id=__codelineno-35-23 name=__codelineno-35-23 href=#__codelineno-35-23></a><span class=gp>&gt;&gt;&gt; </span><span class=n>rand_weights</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>concatenate</span><span class=p>(</span><span class=n>rand_weights</span><span class=p>)</span>
</span><span id=__span-35-24><a id=__codelineno-35-24 name=__codelineno-35-24 href=#__codelineno-35-24></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>close</span><span class=o>.</span><span class=n>vbt</span><span class=o>.</span><span class=n>tile</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=n>keys</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Index</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>10</span><span class=p>),</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;weights_vector&#39;</span><span class=p>))</span>
</span><span id=__span-35-25><a id=__codelineno-35-25 name=__codelineno-35-25 href=#__codelineno-35-25></a><span class=gp>&gt;&gt;&gt; </span><span class=n>size</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>broadcast_to</span><span class=p>(</span><span class=n>weights</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span><span id=__span-35-26><a id=__codelineno-35-26 name=__codelineno-35-26 href=#__codelineno-35-26></a><span class=gp>&gt;&gt;&gt; </span><span class=n>size</span><span class=p>[</span><span class=mi>1</span><span class=p>::</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>nan</span>
</span><span id=__span-35-27><a id=__codelineno-35-27 name=__codelineno-35-27 href=#__codelineno-35-27></a><span class=gp>&gt;&gt;&gt; </span><span class=n>size</span>
</span><span id=__span-35-28><a id=__codelineno-35-28 name=__codelineno-35-28 href=#__codelineno-35-28></a><span class=go>weights_vector                            0  ...                               9</span>
</span><span id=__span-35-29><a id=__codelineno-35-29 name=__codelineno-35-29 href=#__codelineno-35-29></a><span class=go>asset                  a         b        c  ...           a         b         c</span>
</span><span id=__span-35-30><a id=__codelineno-35-30 name=__codelineno-35-30 href=#__codelineno-35-30></a><span class=go>0               0.154749  0.277061  0.56819  ...    0.012795  0.877709  0.109496</span>
</span><span id=__span-35-31><a id=__codelineno-35-31 name=__codelineno-35-31 href=#__codelineno-35-31></a><span class=go>1                    NaN       NaN      NaN  ...         NaN       NaN       NaN</span>
</span><span id=__span-35-32><a id=__codelineno-35-32 name=__codelineno-35-32 href=#__codelineno-35-32></a><span class=go>2               0.154749  0.277061  0.56819  ...    0.012795  0.877709  0.109496</span>
</span><span id=__span-35-33><a id=__codelineno-35-33 name=__codelineno-35-33 href=#__codelineno-35-33></a><span class=go>3                    NaN       NaN      NaN  ...         NaN       NaN       NaN</span>
</span><span id=__span-35-34><a id=__codelineno-35-34 name=__codelineno-35-34 href=#__codelineno-35-34></a><span class=go>4               0.154749  0.277061  0.56819  ...    0.012795  0.877709  0.109496</span>
</span><span id=__span-35-35><a id=__codelineno-35-35 name=__codelineno-35-35 href=#__codelineno-35-35></a>
</span><span id=__span-35-36><a id=__codelineno-35-36 name=__codelineno-35-36 href=#__codelineno-35-36></a><span class=go>[5 rows x 30 columns]</span>
</span><span id=__span-35-37><a id=__codelineno-35-37 name=__codelineno-35-37 href=#__codelineno-35-37></a>
</span><span id=__span-35-38><a id=__codelineno-35-38 name=__codelineno-35-38 href=#__codelineno-35-38></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_orders</span><span class=p>(</span>
</span><span id=__span-35-39><a id=__codelineno-35-39 name=__codelineno-35-39 href=#__codelineno-35-39></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-35-40><a id=__codelineno-35-40 name=__codelineno-35-40 href=#__codelineno-35-40></a><span class=gp>... </span>    <span class=n>size</span><span class=p>,</span>
</span><span id=__span-35-41><a id=__codelineno-35-41 name=__codelineno-35-41 href=#__codelineno-35-41></a><span class=gp>... </span>    <span class=n>size_type</span><span class=o>=</span><span class=s1>&#39;targetpercent&#39;</span><span class=p>,</span>
</span><span id=__span-35-42><a id=__codelineno-35-42 name=__codelineno-35-42 href=#__codelineno-35-42></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span><span class=p>,</span>
</span><span id=__span-35-43><a id=__codelineno-35-43 name=__codelineno-35-43 href=#__codelineno-35-43></a><span class=gp>... </span>    <span class=n>call_seq</span><span class=o>=</span><span class=s1>&#39;auto&#39;</span><span class=p>,</span>
</span><span id=__span-35-44><a id=__codelineno-35-44 name=__codelineno-35-44 href=#__codelineno-35-44></a><span class=gp>... </span>    <span class=n>group_by</span><span class=o>=</span><span class=s1>&#39;weights_vector&#39;</span><span class=p>,</span>  <span class=c1># group by column level</span>
</span><span id=__span-35-45><a id=__codelineno-35-45 name=__codelineno-35-45 href=#__codelineno-35-45></a><span class=gp>... </span>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-35-46><a id=__codelineno-35-46 name=__codelineno-35-46 href=#__codelineno-35-46></a><span class=gp>... </span>    <span class=n>fees</span><span class=o>=</span><span class=mf>0.001</span><span class=p>,</span> <span class=n>fixed_fees</span><span class=o>=</span><span class=mf>1.</span><span class=p>,</span> <span class=n>slippage</span><span class=o>=</span><span class=mf>0.001</span>
</span><span id=__span-35-47><a id=__codelineno-35-47 name=__codelineno-35-47 href=#__codelineno-35-47></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-35-48><a id=__codelineno-35-48 name=__codelineno-35-48 href=#__codelineno-35-48></a>
</span><span id=__span-35-49><a id=__codelineno-35-49 name=__codelineno-35-49 href=#__codelineno-35-49></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>total_return</span>
</span><span id=__span-35-50><a id=__codelineno-35-50 name=__codelineno-35-50 href=#__codelineno-35-50></a><span class=go>weights_vector</span>
</span><span id=__span-35-51><a id=__codelineno-35-51 name=__codelineno-35-51 href=#__codelineno-35-51></a><span class=go>0   -0.294372</span>
</span><span id=__span-35-52><a id=__codelineno-35-52 name=__codelineno-35-52 href=#__codelineno-35-52></a><span class=go>1    0.139207</span>
</span><span id=__span-35-53><a id=__codelineno-35-53 name=__codelineno-35-53 href=#__codelineno-35-53></a><span class=go>2   -0.281739</span>
</span><span id=__span-35-54><a id=__codelineno-35-54 name=__codelineno-35-54 href=#__codelineno-35-54></a><span class=go>3    0.041242</span>
</span><span id=__span-35-55><a id=__codelineno-35-55 name=__codelineno-35-55 href=#__codelineno-35-55></a><span class=go>4    0.467566</span>
</span><span id=__span-35-56><a id=__codelineno-35-56 name=__codelineno-35-56 href=#__codelineno-35-56></a><span class=go>5    0.829925</span>
</span><span id=__span-35-57><a id=__codelineno-35-57 name=__codelineno-35-57 href=#__codelineno-35-57></a><span class=go>6    0.320672</span>
</span><span id=__span-35-58><a id=__codelineno-35-58 name=__codelineno-35-58 href=#__codelineno-35-58></a><span class=go>7   -0.087452</span>
</span><span id=__span-35-59><a id=__codelineno-35-59 name=__codelineno-35-59 href=#__codelineno-35-59></a><span class=go>8    0.376681</span>
</span><span id=__span-35-60><a id=__codelineno-35-60 name=__codelineno-35-60 href=#__codelineno-35-60></a><span class=go>9   -0.702773</span>
</span><span id=__span-35-61><a id=__codelineno-35-61 name=__codelineno-35-61 href=#__codelineno-35-61></a><span class=go>Name: total_return, dtype: float64</span>
</span></code></pre></div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.from_random_signals>from_random_signals <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L4318-L4467 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.from_random_signals title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_random_signals</span><span class=p>(</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a>    <span class=n>n</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a>    <span class=n>prob</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a>    <span class=n>entry_prob</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-36-6><a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a>    <span class=n>exit_prob</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-36-7><a id=__codelineno-36-7 name=__codelineno-36-7 href=#__codelineno-36-7></a>    <span class=n>param_product</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-36-8><a id=__codelineno-36-8 name=__codelineno-36-8 href=#__codelineno-36-8></a>    <span class=n>seed</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-36-9><a id=__codelineno-36-9 name=__codelineno-36-9 href=#__codelineno-36-9></a>    <span class=n>run_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-36-10><a id=__codelineno-36-10 name=__codelineno-36-10 href=#__codelineno-36-10></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-36-11><a id=__codelineno-36-11 name=__codelineno-36-11 href=#__codelineno-36-11></a><span class=p>)</span>
</span></code></pre></div> <p>Simulate portfolio from random entry and exit signals.</p> <p>Generates random entry and exit signals based on either the number of signals or the probability of encountering a signal.</p> <p>Based on <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_signals title=vectorbtpro.portfolio.base.Portfolio.from_signals>Portfolio.from_signals</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Union[ArrayLike, OHLCDataMixin]</code></dt> <dd>Close prices or OHLC data used for portfolio simulation.</dd> <dt><strong><code>n</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Number of signals to generate.</p> <p>Mutually exclusive with <code>entry_prob</code> and <code>exit_prob</code>.</p> </dd> <dt><strong><code>prob</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Probability of generating a signal.</dd> <dt><strong><code>entry_prob</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Probability of generating an entry signal.</p> <p>Defaults to <code>prob</code> if not specified.</p> </dd> <dt><strong><code>exit_prob</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Probability of generating an exit signal.</p> <p>Defaults to <code>prob</code> if not specified.</p> </dd> <dt><strong><code>param_product</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to build a Cartesian product from all parameters.</dd> <dt><strong><code>seed</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd> <p>Random seed for deterministic output.</p> <p>If None, the seed from portfolio settings is used.</p> </dd> <dt><strong><code>run_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for the signal generator's run function.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/data/base/#vectorbtpro.data.base.Data.run title=vectorbtpro.data.base.Data.run>Data.run</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_signals title=vectorbtpro.portfolio.base.Portfolio.from_signals>Portfolio.from_signals</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>PortfolioResult</code></dt> <dd>Portfolio result.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/signals/generators/randnx/#vectorbtpro.signals.generators.randnx.RANDNX title=vectorbtpro.signals.generators.randnx.RANDNX>RANDNX</a> if <code>n</code> is provided.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/signals/generators/rprobnx/#vectorbtpro.signals.generators.rprobnx.RPROBNX title=vectorbtpro.signals.generators.rprobnx.RPROBNX>RPROBNX</a> if <code>prob</code> is provided.</li> </ul> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.portfolio title=vectorbtpro._settings.portfolio>portfolio</a>.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>To generate random signals, the shape of <code>close</code> is used. Broadcasting with other arrays occurs after signal generation.</p> </div> <p><strong>Examples</strong></p> <p>Test multiple combinations of random entries and exits:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_random_signals</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>n</span><span class=o>=</span><span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>],</span> <span class=n>seed</span><span class=o>=</span><span class=mi>42</span><span class=p>)</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>orders</span><span class=o>.</span><span class=n>count</span><span class=p>()</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=go>randnx_n</span>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=go>2    4</span>
</span><span id=__span-37-6><a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a><span class=go>1    2</span>
</span><span id=__span-37-7><a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a><span class=go>0    0</span>
</span><span id=__span-37-8><a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=go>Name: count, dtype: int64</span>
</span></code></pre></div> <p>Test the Cartesian product of entry and exit encounter probabilities:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_random_signals</span><span class=p>(</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=gp>... </span>    <span class=n>entry_prob</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span>
</span><span id=__span-38-4><a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a><span class=gp>... </span>    <span class=n>exit_prob</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span>
</span><span id=__span-38-5><a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=gp>... </span>    <span class=n>param_product</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-38-6><a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a><span class=gp>... </span>    <span class=n>seed</span><span class=o>=</span><span class=mi>42</span><span class=p>)</span>
</span><span id=__span-38-7><a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>orders</span><span class=o>.</span><span class=n>count</span><span class=p>()</span>
</span><span id=__span-38-8><a id=__codelineno-38-8 name=__codelineno-38-8 href=#__codelineno-38-8></a><span class=go>rprobnx_entry_prob  rprobnx_exit_prob</span>
</span><span id=__span-38-9><a id=__codelineno-38-9 name=__codelineno-38-9 href=#__codelineno-38-9></a><span class=go>0.0                 0.0                  0</span>
</span><span id=__span-38-10><a id=__codelineno-38-10 name=__codelineno-38-10 href=#__codelineno-38-10></a><span class=go>                    0.5                  0</span>
</span><span id=__span-38-11><a id=__codelineno-38-11 name=__codelineno-38-11 href=#__codelineno-38-11></a><span class=go>                    1.0                  0</span>
</span><span id=__span-38-12><a id=__codelineno-38-12 name=__codelineno-38-12 href=#__codelineno-38-12></a><span class=go>0.5                 0.0                  1</span>
</span><span id=__span-38-13><a id=__codelineno-38-13 name=__codelineno-38-13 href=#__codelineno-38-13></a><span class=go>                    0.5                  4</span>
</span><span id=__span-38-14><a id=__codelineno-38-14 name=__codelineno-38-14 href=#__codelineno-38-14></a><span class=go>                    1.0                  3</span>
</span><span id=__span-38-15><a id=__codelineno-38-15 name=__codelineno-38-15 href=#__codelineno-38-15></a><span class=go>1.0                 0.0                  1</span>
</span><span id=__span-38-16><a id=__codelineno-38-16 name=__codelineno-38-16 href=#__codelineno-38-16></a><span class=go>                    0.5                  4</span>
</span><span id=__span-38-17><a id=__codelineno-38-17 name=__codelineno-38-17 href=#__codelineno-38-17></a><span class=go>                    1.0                  5</span>
</span><span id=__span-38-18><a id=__codelineno-38-18 name=__codelineno-38-18 href=#__codelineno-38-18></a><span class=go>Name: count, dtype: int64</span>
</span></code></pre></div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.from_signals>from_signals <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L3163-L4218 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.from_signals title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-39-2><a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-39-3><a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a>    <span class=n>entries</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-4><a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a>    <span class=n>exits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-5><a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-39-6><a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a>    <span class=n>direction</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-7><a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a>    <span class=n>long_entries</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-8><a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a>    <span class=n>long_exits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-9><a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a>    <span class=n>short_entries</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-10><a id=__codelineno-39-10 name=__codelineno-39-10 href=#__codelineno-39-10></a>    <span class=n>short_exits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-11><a id=__codelineno-39-11 name=__codelineno-39-11 href=#__codelineno-39-11></a>    <span class=n>adjust_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-12><a id=__codelineno-39-12 name=__codelineno-39-12 href=#__codelineno-39-12></a>    <span class=n>adjust_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-39-13><a id=__codelineno-39-13 name=__codelineno-39-13 href=#__codelineno-39-13></a>    <span class=n>signal_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-14><a id=__codelineno-39-14 name=__codelineno-39-14 href=#__codelineno-39-14></a>    <span class=n>signal_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-39-15><a id=__codelineno-39-15 name=__codelineno-39-15 href=#__codelineno-39-15></a>    <span class=n>post_signal_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-16><a id=__codelineno-39-16 name=__codelineno-39-16 href=#__codelineno-39-16></a>    <span class=n>post_signal_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-39-17><a id=__codelineno-39-17 name=__codelineno-39-17 href=#__codelineno-39-17></a>    <span class=n>post_segment_func_nb</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-18><a id=__codelineno-39-18 name=__codelineno-39-18 href=#__codelineno-39-18></a>    <span class=n>post_segment_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-39-19><a id=__codelineno-39-19 name=__codelineno-39-19 href=#__codelineno-39-19></a>    <span class=n>order_mode</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-39-20><a id=__codelineno-39-20 name=__codelineno-39-20 href=#__codelineno-39-20></a>    <span class=n>size</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-21><a id=__codelineno-39-21 name=__codelineno-39-21 href=#__codelineno-39-21></a>    <span class=n>size_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-22><a id=__codelineno-39-22 name=__codelineno-39-22 href=#__codelineno-39-22></a>    <span class=n>price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-23><a id=__codelineno-39-23 name=__codelineno-39-23 href=#__codelineno-39-23></a>    <span class=n>fees</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-24><a id=__codelineno-39-24 name=__codelineno-39-24 href=#__codelineno-39-24></a>    <span class=n>fixed_fees</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-25><a id=__codelineno-39-25 name=__codelineno-39-25 href=#__codelineno-39-25></a>    <span class=n>slippage</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-26><a id=__codelineno-39-26 name=__codelineno-39-26 href=#__codelineno-39-26></a>    <span class=n>min_size</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-27><a id=__codelineno-39-27 name=__codelineno-39-27 href=#__codelineno-39-27></a>    <span class=n>max_size</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-28><a id=__codelineno-39-28 name=__codelineno-39-28 href=#__codelineno-39-28></a>    <span class=n>size_granularity</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-29><a id=__codelineno-39-29 name=__codelineno-39-29 href=#__codelineno-39-29></a>    <span class=n>leverage</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-30><a id=__codelineno-39-30 name=__codelineno-39-30 href=#__codelineno-39-30></a>    <span class=n>leverage_mode</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-31><a id=__codelineno-39-31 name=__codelineno-39-31 href=#__codelineno-39-31></a>    <span class=n>reject_prob</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-32><a id=__codelineno-39-32 name=__codelineno-39-32 href=#__codelineno-39-32></a>    <span class=n>price_area_vio_mode</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-33><a id=__codelineno-39-33 name=__codelineno-39-33 href=#__codelineno-39-33></a>    <span class=n>allow_partial</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-34><a id=__codelineno-39-34 name=__codelineno-39-34 href=#__codelineno-39-34></a>    <span class=n>raise_reject</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-35><a id=__codelineno-39-35 name=__codelineno-39-35 href=#__codelineno-39-35></a>    <span class=n>log</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-36><a id=__codelineno-39-36 name=__codelineno-39-36 href=#__codelineno-39-36></a>    <span class=n>val_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-37><a id=__codelineno-39-37 name=__codelineno-39-37 href=#__codelineno-39-37></a>    <span class=n>accumulate</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-38><a id=__codelineno-39-38 name=__codelineno-39-38 href=#__codelineno-39-38></a>    <span class=n>upon_long_conflict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-39><a id=__codelineno-39-39 name=__codelineno-39-39 href=#__codelineno-39-39></a>    <span class=n>upon_short_conflict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-40><a id=__codelineno-39-40 name=__codelineno-39-40 href=#__codelineno-39-40></a>    <span class=n>upon_dir_conflict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-41><a id=__codelineno-39-41 name=__codelineno-39-41 href=#__codelineno-39-41></a>    <span class=n>upon_opposite_entry</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-42><a id=__codelineno-39-42 name=__codelineno-39-42 href=#__codelineno-39-42></a>    <span class=n>order_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-43><a id=__codelineno-39-43 name=__codelineno-39-43 href=#__codelineno-39-43></a>    <span class=n>limit_delta</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-44><a id=__codelineno-39-44 name=__codelineno-39-44 href=#__codelineno-39-44></a>    <span class=n>limit_tif</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-45><a id=__codelineno-39-45 name=__codelineno-39-45 href=#__codelineno-39-45></a>    <span class=n>limit_expiry</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-46><a id=__codelineno-39-46 name=__codelineno-39-46 href=#__codelineno-39-46></a>    <span class=n>limit_reverse</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-47><a id=__codelineno-39-47 name=__codelineno-39-47 href=#__codelineno-39-47></a>    <span class=n>limit_delay</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-48><a id=__codelineno-39-48 name=__codelineno-39-48 href=#__codelineno-39-48></a>    <span class=n>limit_order_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-49><a id=__codelineno-39-49 name=__codelineno-39-49 href=#__codelineno-39-49></a>    <span class=n>upon_adj_limit_conflict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-50><a id=__codelineno-39-50 name=__codelineno-39-50 href=#__codelineno-39-50></a>    <span class=n>upon_opp_limit_conflict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-51><a id=__codelineno-39-51 name=__codelineno-39-51 href=#__codelineno-39-51></a>    <span class=n>use_stops</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-52><a id=__codelineno-39-52 name=__codelineno-39-52 href=#__codelineno-39-52></a>    <span class=n>stop_ladder</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-53><a id=__codelineno-39-53 name=__codelineno-39-53 href=#__codelineno-39-53></a>    <span class=n>sl_stop</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-54><a id=__codelineno-39-54 name=__codelineno-39-54 href=#__codelineno-39-54></a>    <span class=n>tsl_stop</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-55><a id=__codelineno-39-55 name=__codelineno-39-55 href=#__codelineno-39-55></a>    <span class=n>tsl_th</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-56><a id=__codelineno-39-56 name=__codelineno-39-56 href=#__codelineno-39-56></a>    <span class=n>tp_stop</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-57><a id=__codelineno-39-57 name=__codelineno-39-57 href=#__codelineno-39-57></a>    <span class=n>td_stop</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-58><a id=__codelineno-39-58 name=__codelineno-39-58 href=#__codelineno-39-58></a>    <span class=n>dt_stop</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-59><a id=__codelineno-39-59 name=__codelineno-39-59 href=#__codelineno-39-59></a>    <span class=n>stop_entry_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-60><a id=__codelineno-39-60 name=__codelineno-39-60 href=#__codelineno-39-60></a>    <span class=n>stop_exit_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-61><a id=__codelineno-39-61 name=__codelineno-39-61 href=#__codelineno-39-61></a>    <span class=n>stop_exit_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-62><a id=__codelineno-39-62 name=__codelineno-39-62 href=#__codelineno-39-62></a>    <span class=n>stop_order_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-63><a id=__codelineno-39-63 name=__codelineno-39-63 href=#__codelineno-39-63></a>    <span class=n>stop_limit_delta</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-64><a id=__codelineno-39-64 name=__codelineno-39-64 href=#__codelineno-39-64></a>    <span class=n>upon_stop_update</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-65><a id=__codelineno-39-65 name=__codelineno-39-65 href=#__codelineno-39-65></a>    <span class=n>upon_adj_stop_conflict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-66><a id=__codelineno-39-66 name=__codelineno-39-66 href=#__codelineno-39-66></a>    <span class=n>upon_opp_stop_conflict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-67><a id=__codelineno-39-67 name=__codelineno-39-67 href=#__codelineno-39-67></a>    <span class=n>delta_format</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-68><a id=__codelineno-39-68 name=__codelineno-39-68 href=#__codelineno-39-68></a>    <span class=n>time_delta_format</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-69><a id=__codelineno-39-69 name=__codelineno-39-69 href=#__codelineno-39-69></a>    <span class=nb>open</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-70><a id=__codelineno-39-70 name=__codelineno-39-70 href=#__codelineno-39-70></a>    <span class=n>high</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-71><a id=__codelineno-39-71 name=__codelineno-39-71 href=#__codelineno-39-71></a>    <span class=n>low</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-72><a id=__codelineno-39-72 name=__codelineno-39-72 href=#__codelineno-39-72></a>    <span class=n>init_cash</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-73><a id=__codelineno-39-73 name=__codelineno-39-73 href=#__codelineno-39-73></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-74><a id=__codelineno-39-74 name=__codelineno-39-74 href=#__codelineno-39-74></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-75><a id=__codelineno-39-75 name=__codelineno-39-75 href=#__codelineno-39-75></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-76><a id=__codelineno-39-76 name=__codelineno-39-76 href=#__codelineno-39-76></a>    <span class=n>cash_earnings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-77><a id=__codelineno-39-77 name=__codelineno-39-77 href=#__codelineno-39-77></a>    <span class=n>cash_dividends</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-78><a id=__codelineno-39-78 name=__codelineno-39-78 href=#__codelineno-39-78></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-79><a id=__codelineno-39-79 name=__codelineno-39-79 href=#__codelineno-39-79></a>    <span class=n>from_ago</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-80><a id=__codelineno-39-80 name=__codelineno-39-80 href=#__codelineno-39-80></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-81><a id=__codelineno-39-81 name=__codelineno-39-81 href=#__codelineno-39-81></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-82><a id=__codelineno-39-82 name=__codelineno-39-82 href=#__codelineno-39-82></a>    <span class=n>call_seq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-83><a id=__codelineno-39-83 name=__codelineno-39-83 href=#__codelineno-39-83></a>    <span class=n>attach_call_seq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-84><a id=__codelineno-39-84 name=__codelineno-39-84 href=#__codelineno-39-84></a>    <span class=n>ffill_val_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-85><a id=__codelineno-39-85 name=__codelineno-39-85 href=#__codelineno-39-85></a>    <span class=n>update_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-86><a id=__codelineno-39-86 name=__codelineno-39-86 href=#__codelineno-39-86></a>    <span class=n>fill_pos_info</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-87><a id=__codelineno-39-87 name=__codelineno-39-87 href=#__codelineno-39-87></a>    <span class=n>save_state</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-88><a id=__codelineno-39-88 name=__codelineno-39-88 href=#__codelineno-39-88></a>    <span class=n>save_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-89><a id=__codelineno-39-89 name=__codelineno-39-89 href=#__codelineno-39-89></a>    <span class=n>save_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-90><a id=__codelineno-39-90 name=__codelineno-39-90 href=#__codelineno-39-90></a>    <span class=n>skip_empty</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-91><a id=__codelineno-39-91 name=__codelineno-39-91 href=#__codelineno-39-91></a>    <span class=n>max_order_records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-92><a id=__codelineno-39-92 name=__codelineno-39-92 href=#__codelineno-39-92></a>    <span class=n>max_log_records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-93><a id=__codelineno-39-93 name=__codelineno-39-93 href=#__codelineno-39-93></a>    <span class=n>in_outputs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-94><a id=__codelineno-39-94 name=__codelineno-39-94 href=#__codelineno-39-94></a>    <span class=n>seed</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-95><a id=__codelineno-39-95 name=__codelineno-39-95 href=#__codelineno-39-95></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-96><a id=__codelineno-39-96 name=__codelineno-39-96 href=#__codelineno-39-96></a>    <span class=n>broadcast_named_args</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-97><a id=__codelineno-39-97 name=__codelineno-39-97 href=#__codelineno-39-97></a>    <span class=n>broadcast_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-98><a id=__codelineno-39-98 name=__codelineno-39-98 href=#__codelineno-39-98></a>    <span class=n>template_context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-99><a id=__codelineno-39-99 name=__codelineno-39-99 href=#__codelineno-39-99></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-100><a id=__codelineno-39-100 name=__codelineno-39-100 href=#__codelineno-39-100></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-101><a id=__codelineno-39-101 name=__codelineno-39-101 href=#__codelineno-39-101></a>    <span class=n>staticized</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-102><a id=__codelineno-39-102 name=__codelineno-39-102 href=#__codelineno-39-102></a>    <span class=n>bm_close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-103><a id=__codelineno-39-103 name=__codelineno-39-103 href=#__codelineno-39-103></a>    <span class=n>records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-39-104><a id=__codelineno-39-104 name=__codelineno-39-104 href=#__codelineno-39-104></a>    <span class=n>return_preparer</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-39-105><a id=__codelineno-39-105 name=__codelineno-39-105 href=#__codelineno-39-105></a>    <span class=n>return_prep_result</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-39-106><a id=__codelineno-39-106 name=__codelineno-39-106 href=#__codelineno-39-106></a>    <span class=n>return_sim_out</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-39-107><a id=__codelineno-39-107 name=__codelineno-39-107 href=#__codelineno-39-107></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-39-108><a id=__codelineno-39-108 name=__codelineno-39-108 href=#__codelineno-39-108></a><span class=p>)</span>
</span></code></pre></div> <p>Simulate a portfolio based on provided entry and exit signals.</p> <p>This method simulates a portfolio by interpreting various signal arrays and custom signal functions.</p> <p>Using <code>entries</code> and <code>exits</code>:</p> <ul> <li>If an adjustment function is provided (non-cacheable), signals are processed via <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.dir_signal_func_nb title=vectorbtpro.portfolio.nb.from_signals.dir_signal_func_nb>dir_signal_func_nb</a>.</li> <li>Otherwise, signals are translated using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.dir_to_ls_signals_nb title=vectorbtpro.portfolio.nb.from_signals.dir_to_ls_signals_nb>dir_to_ls_signals_nb</a> and simulated statically (cacheable).</li> </ul> <p>Using <code>entries</code> (for long), <code>exits</code> (for long), <code>short_entries</code>, and <code>short_exits</code>:</p> <ul> <li>If an adjustment function is provided, the function <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.ls_signal_func_nb title=vectorbtpro.portfolio.nb.from_signals.ls_signal_func_nb>ls_signal_func_nb</a> is used; otherwise, simulation is executed statically.</li> </ul> <p>Using <code>order_mode=True</code>:</p> <ul> <li>Simulates without explicit signals using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.order_signal_func_nb title=vectorbtpro.portfolio.nb.from_signals.order_signal_func_nb>order_signal_func_nb</a> (non-cacheable).</li> </ul> <p>Using <code>signal_func_nb</code>:</p> <ul> <li>When <code>signal_func_nb</code> and <code>signal_args</code> are provided, the custom signal function is used (non-cacheable).</li> </ul> <p>Prepared using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FSPreparer title=vectorbtpro.portfolio.preparing.FSPreparer>FSPreparer</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Union[ArrayLike, OHLCDataMixin, FSPreparer, PFPrepResult]</code></dt> <dd> <p>Close prices or OHLC data used for portfolio simulation.</p> <p>Broadcasts.</p> <ul> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/data/base/#vectorbtpro.data.base.OHLCDataMixin title=vectorbtpro.data.base.OHLCDataMixin>OHLCDataMixin</a>, extracts open, high, low, and close prices.</li> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FSPreparer title=vectorbtpro.portfolio.preparing.FSPreparer>FSPreparer</a>, it is used as a preparer.</li> <li>If an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.PFPrepResult title=vectorbtpro.portfolio.preparing.PFPrepResult>PFPrepResult</a>, it is used as a preparer result.</li> </ul> </dd> <dt><strong><code>entries</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Boolean array of entry signals.</p> <p>Broadcasts. If all other signal arrays are missing, treated as True; otherwise, as False.</p> <ul> <li>When <code>short_entries</code> and <code>short_exits</code> are not provided, acts as a long signal if <code>direction</code> is 'all' or 'longonly', otherwise as a short signal.</li> <li>If <code>short_entries</code> or <code>short_exits</code> are provided, interpreted as <code>long_entries</code>.</li> </ul> </dd> <dt><strong><code>exits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Boolean array of exit signals.</p> <p>Broadcasts. If all other signal arrays are missing, treated as False.</p> <ul> <li>When <code>short_entries</code> and <code>short_exits</code> are not provided, acts as a short signal if <code>direction</code> is 'all' or 'longonly', otherwise as a long signal.</li> <li>If <code>short_entries</code> or <code>short_exits</code> are provided, interpreted as <code>long_exits</code>.</li> </ul> </dd> <dt><strong><code>direction</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Trading direction.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.direction title=vectorbtpro.portfolio.enums.Order.direction>Order.direction</a>.</p> <p>Takes effect only if <code>short_entries</code> and <code>short_exits</code> are not provided.</p> </dd> <dt><strong><code>long_entries</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Boolean array of long entry signals.</p> <p>Broadcasts.</p> </dd> <dt><strong><code>long_exits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Boolean array of long exit signals.</p> <p>Broadcasts.</p> </dd> <dt><strong><code>short_entries</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Boolean array of short entry signals.</p> <p>Broadcasts.</p> </dd> <dt><strong><code>short_exits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Boolean array of short exit signals.</p> <p>Broadcasts.</p> </dd> <dt><strong><code>adjust_func_nb</code></strong> :&ensp;<code>Union[None, PathLike, AdjustFunc]</code></dt> <dd> <p>Callback function to be called to adjust the context before signal generation.</p> <p>Accepts <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.SignalContext title=vectorbtpro.portfolio.enums.SignalContext>SignalContext</a> and <code>*adjust_args</code>, and returns nothing.</p> <p>Passed to the corresponding signal function. Can be provided as a module path when staticizing.</p> </dd> <dt><strong><code>adjust_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>adjust_func_nb</code>.</dd> <dt><strong><code>signal_func_nb</code></strong> :&ensp;<code>Union[None, PathLike, SignalFunc]</code></dt> <dd> <p>Callback function to be called to generate signals.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.from_signal_func_nb title=vectorbtpro.portfolio.nb.from_signals.from_signal_func_nb>from_signal_func_nb</a>. Can be given as a module path when staticizing.</p> </dd> <dt><strong><code>signal_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>signal_func_nb</code>.</dd> <dt><strong><code>post_signal_func_nb</code></strong> :&ensp;<code>Union[None, PathLike, PostSignalFunc]</code></dt> <dd> <p>Callback function to be called after processing an order.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.from_signal_func_nb title=vectorbtpro.portfolio.nb.from_signals.from_signal_func_nb>from_signal_func_nb</a>. Can be given as a module path when staticizing.</p> </dd> <dt><strong><code>post_signal_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>post_signal_func_nb</code>.</dd> <dt><strong><code>post_segment_func_nb</code></strong> :&ensp;<code>Union[None, PathLike, PostSignalSegmentFunc]</code></dt> <dd> <p>Callback function to be called after processing a segment.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.from_signal_func_nb title=vectorbtpro.portfolio.nb.from_signals.from_signal_func_nb>from_signal_func_nb</a>. Can be provided as a module path when staticizing.</p> </dd> <dt><strong><code>post_segment_args</code></strong> :&ensp;<code>Args</code></dt> <dd>Positional arguments for <code>post_segment_func_nb</code>.</dd> <dt><strong><code>order_mode</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, simulates in order mode without explicit signals.</dd> <dt><strong><code>size</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Size to order.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.size title=vectorbtpro.portfolio.enums.Order.size>Order.size</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Negative size is not allowed; use signals to express direction.</p> </div> </dd> <dt><strong><code>size_type</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order size type.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.size_type title=vectorbtpro.portfolio.enums.Order.size_type>Order.size_type</a>.</p> <p>Valid options include <code>SizeType.Amount</code>, <code>SizeType.Value</code>, <code>SizeType.Percent(100)</code>, and <code>SizeType.ValuePercent(100)</code>. Other types are incompatible with signals.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>SizeType.Percent(100)</code> does not support position reversal unless the position is closed first. See warning in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_orders title=vectorbtpro.portfolio.base.Portfolio.from_orders>Portfolio.from_orders</a>.</p> </div> </dd> <dt><strong><code>price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order price.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.price title=vectorbtpro.portfolio.enums.Order.price>Order.price</a>.</p> <p>Options such as <code>PriceType.NextOpen</code> and <code>PriceType.NextClose</code> apply per column and require <code>from_ago</code> to be None.</p> </dd> <dt><strong><code>fees</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Fees as a percentage of the order value.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.fees title=vectorbtpro.portfolio.enums.Order.fees>Order.fees</a>.</p> </dd> <dt><strong><code>fixed_fees</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Fixed fee amount per order.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.fixed_fees title=vectorbtpro.portfolio.enums.Order.fixed_fees>Order.fixed_fees</a>.</p> </dd> <dt><strong><code>slippage</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Slippage percentage of the order price.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.slippage title=vectorbtpro.portfolio.enums.Order.slippage>Order.slippage</a>.</p> </dd> <dt><strong><code>min_size</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Minimum order size.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.min_size title=vectorbtpro.portfolio.enums.Order.min_size>Order.min_size</a>.</p> </dd> <dt><strong><code>max_size</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Maximum order size.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.max_size title=vectorbtpro.portfolio.enums.Order.max_size>Order.max_size</a>.</p> <p>If exceeded, orders may be partially filled. With accumulation enabled, a very low <code>max_size</code> might hinder proper position closure.</p> </dd> <dt><strong><code>size_granularity</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Granularity of the order size.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.size_granularity title=vectorbtpro.portfolio.enums.Order.size_granularity>Order.size_granularity</a>.</p> </dd> <dt><strong><code>leverage</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Leverage applied in the order.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.leverage title=vectorbtpro.portfolio.enums.Order.leverage>Order.leverage</a>.</p> </dd> <dt><strong><code>leverage_mode</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Leverage mode.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.leverage_mode title=vectorbtpro.portfolio.enums.Order.leverage_mode>Order.leverage_mode</a>.</p> </dd> <dt><strong><code>reject_prob</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order rejection probability.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.reject_prob title=vectorbtpro.portfolio.enums.Order.reject_prob>Order.reject_prob</a>.</p> </dd> <dt><strong><code>price_area_vio_mode</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Price area violation mode.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.price_area_vio_mode title=vectorbtpro.portfolio.enums.Order.price_area_vio_mode>Order.price_area_vio_mode</a>.</p> </dd> <dt><strong><code>allow_partial</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Indicates whether partial fills are allowed.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.allow_partial title=vectorbtpro.portfolio.enums.Order.allow_partial>Order.allow_partial</a>.</p> </dd> <dt><strong><code>raise_reject</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Indicates whether to raise an exception upon order rejection.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.raise_reject title=vectorbtpro.portfolio.enums.Order.raise_reject>Order.raise_reject</a>.</p> </dd> <dt><strong><code>log</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Flag indicating whether to log orders.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Order.log title=vectorbtpro.portfolio.enums.Order.log>Order.log</a>.</p> </dd> <dt><strong><code>val_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Asset valuation price used in decision making.</p> <p>Broadcasts. Can also be provided as <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.ValPriceType title=vectorbtpro.portfolio.enums.ValPriceType>ValPriceType</a>.</p> <ul> <li>Any <code>-np.inf</code> element is replaced by the latest valuation price (using <code>open</code> or a previously known value if <code>ffill_val_price</code> is True).</li> <li>Any <code>np.inf</code> element is replaced by the current order price.</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Unlike <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_order_func title=vectorbtpro.portfolio.base.Portfolio.from_order_func>Portfolio.from_order_func</a>, the order price is effectively predetermined, so <code>val_price</code> defaults to the current order price when using <code>np.inf</code>. To use the previous close, set it in the settings to <code>-np.inf</code>.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Ensure that the timestamp associated with <code>val_price</code> precedes all order timestamps in a cash-sharing group.</p> </div> </dd> <dt><strong><code>accumulate</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Accumulation mode.</p> <p>Broadcasts. If True, becomes 'both'; if False, becomes 'disabled'. When enabled, simulation behaves similarly to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_orders title=vectorbtpro.portfolio.base.Portfolio.from_orders>Portfolio.from_orders</a>.</p> </dd> <dt><strong><code>upon_long_conflict</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Conflict resolution mode for long signals.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.ConflictMode title=vectorbtpro.portfolio.enums.ConflictMode>ConflictMode</a>.</p> </dd> <dt><strong><code>upon_short_conflict</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Conflict resolution mode for short signals.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.ConflictMode title=vectorbtpro.portfolio.enums.ConflictMode>ConflictMode</a>.</p> </dd> <dt><strong><code>upon_dir_conflict</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Direction conflict mode.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.DirectionConflictMode title=vectorbtpro.portfolio.enums.DirectionConflictMode>DirectionConflictMode</a>.</p> </dd> <dt><strong><code>upon_opposite_entry</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Mode for handling opposite entry signals.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.OppositeEntryMode title=vectorbtpro.portfolio.enums.OppositeEntryMode>OppositeEntryMode</a>.</p> </dd> <dt><strong><code>order_type</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order type.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.OrderType title=vectorbtpro.portfolio.enums.OrderType>OrderType</a>.</p> <p>Only one active limit order is allowed at a time.</p> </dd> <dt><strong><code>limit_delta</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Delta to compute the limit price from <code>price</code>.</p> <p>Broadcasts. If NaN, <code>price</code> is used directly. The delta adjusts based on trade direction: for buying, a positive delta decreases the limit price; for selling, it increases the limit price. Delta may be negative. Set an element to <code>np.nan</code> to disable. Use <code>delta_format</code> to specify the format.</p> </dd> <dt><strong><code>limit_tif</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Time in force for limit orders.</p> <p>Broadcasts. Accepts frequency-like objects converted via <a href=https://vectorbt.pro/pvt_41531c19/api/utils/datetime_/#vectorbtpro.utils.datetime_.to_timedelta64 title=vectorbtpro.utils.datetime_.to_timedelta64>to_timedelta64</a>. Set an element to -1 to disable. Use <code>time_delta_format</code> to specify the format.</p> <p>Measured as the duration from the signal bar's open time. If the expiration time happens in the middle of the current bar, we pessimistically assume that the order has been expired. The check is performed at the beginning of the bar, and the first check is performed at the next bar after the signal. For example, if the format is <code>TimeDeltaFormat.Rows</code>, 0 or 1 means the order must execute at the same bar or not at all; 2 means the order must execute at the same or next bar or not at all.</p> </dd> <dt><strong><code>limit_expiry</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Expiration time for limit orders.</p> <p>Broadcasts. Accepts frequency-like objects or datetimes, similar to <code>limit_tif</code>. Set an element to -1 or <code>pd.Timestamp.max</code> to disable. Use <code>time_delta_format</code> to specify the format.</p> <p>Any frequency-like object is used to build a period index, such that each timestamp in the original index is pointing to the timestamp where the period ends. For example, providing "d" will make any limit order expire on the next day. Any array must either contain timestamps or integers (not timedeltas!), and will be cast into integer format after broadcasting. If the object provided is of data type <code>object</code>, will be converted to datetime and its timezone will be removed automatically (as done on the index).</p> </dd> <dt><strong><code>limit_reverse</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Flag to reverse price hit detection.</p> <p>Broadcasts. If True, a buy/sell limit is compared against high/low (instead of low/high) and the limit delta is inverted.</p> </dd> <dt><strong><code>limit_delay</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Flag to prevent limit orders from being placed immediately.</dd> <dt><strong><code>limit_order_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Price for limit orders.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.LimitOrderPrice title=vectorbtpro.portfolio.enums.LimitOrderPrice>LimitOrderPrice</a>. Positive values are used directly, while negative values are interpreted as enumerated options. If provided on the per-element basis, gets applied upon order creation.</p> </dd> <dt><strong><code>upon_adj_limit_conflict</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Conflict mode for adjacent limit and signal conflicts.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PendingConflictMode title=vectorbtpro.portfolio.enums.PendingConflictMode>PendingConflictMode</a>.</p> </dd> <dt><strong><code>upon_opp_limit_conflict</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Conflict mode for opposite limit and signal conflicts.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PendingConflictMode title=vectorbtpro.portfolio.enums.PendingConflictMode>PendingConflictMode</a>.</p> </dd> <dt><strong><code>use_stops</code></strong> :&ensp;<code>bool</code></dt> <dd> <p>Flag indicating whether to enable stop orders.</p> <p>Broadcasts. If None, becomes True if any stop parameters are set or a non-default adjustment function is used. Disable to speed up simple simulations.</p> </dd> <dt><strong><code>stop_ladder</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Indicates whether to use stop laddering.</p> <p>Broadcasts to match the number of columns. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.StopLadderMode title=vectorbtpro.portfolio.enums.StopLadderMode>StopLadderMode</a>. If enabled, rows in the provided arrays become ladder steps. For price-based stops, pad with <code>np.nan</code>; for time-based stops, pad with -1. Applied to all stop types.</p> </dd> <dt><strong><code>sl_stop</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Stop loss levels.</p> <p>Broadcasts. Set an element to <code>np.nan</code> to disable. Use <code>delta_format</code> for formatting.</p> </dd> <dt><strong><code>tsl_stop</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Trailing stop loss levels.</p> <p>Broadcasts. Set an element to <code>np.nan</code> to disable. Use <code>delta_format</code> for formatting.</p> </dd> <dt><strong><code>tsl_th</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Take profit threshold for trailing stop loss.</p> <p>Broadcasts. Set an element to <code>np.nan</code> to disable. Use <code>delta_format</code> for formatting.</p> </dd> <dt><strong><code>tp_stop</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Take profit levels.</p> <p>Broadcasts. Set an element to <code>np.nan</code> to disable. Use <code>delta_format</code> for formatting.</p> </dd> <dt><strong><code>td_stop</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Timedelta stop values.</p> <p>Broadcasts. Set an element to -1 to disable. Use <code>time_delta_format</code> for formatting.</p> </dd> <dt><strong><code>dt_stop</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Datetime stop values.</p> <p>Broadcasts. Set an element to -1 to disable. Use <code>time_delta_format</code> for formatting.</p> </dd> <dt><strong><code>stop_entry_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Entry price for stop orders.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.StopEntryPrice title=vectorbtpro.portfolio.enums.StopEntryPrice>StopEntryPrice</a>. If provided on the per-element basis, gets applied upon entry.</p> </dd> <dt><strong><code>stop_exit_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Exit price for stop orders.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.StopExitPrice title=vectorbtpro.portfolio.enums.StopExitPrice>StopExitPrice</a>. If provided on the per-element basis, gets applied upon entry.</p> </dd> <dt><strong><code>stop_exit_type</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Stop exit type.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.StopExitType title=vectorbtpro.portfolio.enums.StopExitType>StopExitType</a>. If provided on the per-element basis, gets applied upon entry.</p> </dd> <dt><strong><code>stop_order_type</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Order type for stop orders.</p> <p>Broadcasts. Similar to <code>order_type</code>, but applies to stop orders. If provided on the per-element basis, gets applied upon entry.</p> </dd> <dt><strong><code>stop_limit_delta</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Delta for stop orders, analogous to <code>limit_delta</code>.</p> <p>Broadcasts.</p> </dd> <dt><strong><code>upon_stop_update</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Stop update mode.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.StopUpdateMode title=vectorbtpro.portfolio.enums.StopUpdateMode>StopUpdateMode</a>. Effective only if accumulation is enabled. If provided on the per-element basis, gets applied upon repeated entry.</p> </dd> <dt><strong><code>upon_adj_stop_conflict</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Conflict mode for adjacent stop and signal conflicts.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PendingConflictMode title=vectorbtpro.portfolio.enums.PendingConflictMode>PendingConflictMode</a>.</p> </dd> <dt><strong><code>upon_opp_stop_conflict</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Conflict mode for opposite stop and signal conflicts.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PendingConflictMode title=vectorbtpro.portfolio.enums.PendingConflictMode>PendingConflictMode</a>.</p> </dd> <dt><strong><code>delta_format</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Format specification for delta values.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.DeltaFormat title=vectorbtpro.portfolio.enums.DeltaFormat>DeltaFormat</a>.</p> </dd> <dt><strong><code>time_delta_format</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Format specification for time delta values.</p> <p>Broadcasts. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.TimeDeltaFormat title=vectorbtpro.portfolio.enums.TimeDeltaFormat>TimeDeltaFormat</a>.</p> </dd> <dt><strong><code>open</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Open prices.</p> <p>Broadcasts. Used as a price boundary (see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PriceArea title=vectorbtpro.portfolio.enums.PriceArea>PriceArea</a>).</p> <p>For stop signals, <code>np.nan</code> is replaced with the corresponding close price.</p> </dd> <dt><strong><code>high</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>High prices.</p> <p>Broadcasts. Used as a price boundary (see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PriceArea title=vectorbtpro.portfolio.enums.PriceArea>PriceArea</a>).</p> <p>For stop signals, <code>np.nan</code> is replaced with the maximum of open and close prices.</p> </dd> <dt><strong><code>low</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Low prices.</p> <p>Broadcasts. Used as a price boundary (see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.PriceArea title=vectorbtpro.portfolio.enums.PriceArea>PriceArea</a>).</p> <p>For stop signals, <code>np.nan</code> is replaced with the minimum of open and close prices.</p> </dd> <dt><strong><code>init_cash</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial capital.</p> <p>Broadcasts to the final number of columns, or to the number of groups if cash sharing is enabled. See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.InitCashMode title=vectorbtpro.portfolio.enums.InitCashMode>InitCashMode</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When using <code>InitCashMode.AutoAlign</code>, initial cash values are synchronized across columns/groups after initialization.</p> </div> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Broadcasts to match the final number of columns.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Broadcasts to match the final number of columns.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Broadcasts to match the shape of <code>init_cash</code>.</p> </dd> <dt><strong><code>cash_earnings</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash earnings or losses at the end of each bar.</p> <p>Broadcasts.</p> </dd> <dt><strong><code>cash_dividends</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash dividends or interest at the end of each bar.</p> <p>Broadcasts, are multiplied by the position, and then added to <code>cash_earnings</code>.</p> </dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Flag indicating whether cash is shared among assets of the same group.</p> <p>If <code>group_by</code> is None and this is True, all assets are grouped together for cash sharing.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Enables cross-asset dependencies by assuming that all orders in a cash-sharing group execute in the same tick and retain their price.</p> </div> </dd> <dt><strong><code>from_ago</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Number of bars to look back for order information.</p> <p>Negative values are converted to positive to avoid look-ahead bias.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Start index of the simulation range.</p> <p>Can be "auto", which will be substituted by the index of the first signal across long and short entries and long and short exits.</p> </dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>End index of the simulation range.</p> <p>Can be "auto", which will be substituted by the index of the last signal across long and short entries and long and short exits.</p> </dd> <dt><strong><code>call_seq</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Sequence dictating the order in which columns are processed per row and group.</p> <p>Each element specifies the position of a column in the processing order. Options include:</p> <ul> <li>None: Generates a default call sequence.</li> <li>Value from <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.CallSeqType title=vectorbtpro.portfolio.enums.CallSeqType>CallSeqType</a>: Creates a full array of the specified type.</li> <li>Custom array: Specifies a user-defined call sequence.</li> </ul> <p>If set to <code>CallSeqType.Auto</code>, orders are rearranged dynamically so that sell orders are processed before buy orders.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p><code>CallSeqType.Auto</code> assumes predetermined order prices and flexible execution, which may not accurately reflect real-time conditions. For stricter control, use <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.from_order_func title=vectorbtpro.portfolio.base.Portfolio.from_order_func>Portfolio.from_order_func</a>.</p> </div> </dd> <dt><strong><code>attach_call_seq</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Indicates whether to attach the computed call sequence to the portfolio instance.</dd> <dt><strong><code>ffill_val_price</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>If True, tracks the valuation price only when available to prevent propagation of NaN values.</dd> <dt><strong><code>update_value</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>If True, updates the group value after each filled order.</dd> <dt><strong><code>fill_pos_info</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Whether to fill the position information record.</p> <p>Disabling this may speed up simulation for simple cases.</p> </dd> <dt><strong><code>save_state</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Flag to record the account state.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.AccountState title=vectorbtpro.portfolio.enums.AccountState>AccountState</a>.</p> </dd> <dt><strong><code>save_value</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Flag to record the portfolio value.</dd> <dt><strong><code>save_returns</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Flag to record the portfolio returns.</dd> <dt><strong><code>skip_empty</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>If True, skips processing rows that do not contain any orders.</dd> <dt><strong><code>max_order_records</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd> <p>Maximum number of order records expected per column.</p> <p>Defaults to the number of rows in the broadcasted shape. Set to 0 to disable, lower to reduce memory usage, or higher if multiple orders per timestamp are expected.</p> </dd> <dt><strong><code>max_log_records</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd> <p>Maximum number of log records expected per column.</p> <p>Set to the number of rows in the broadcasted shape if logging is enabled. Set lower to reduce memory usage, or higher if multiple logs per timestamp are expected.</p> </dd> <dt><strong><code>in_outputs</code></strong> :&ensp;<code>Optional[tp.MappingLike]</code></dt> <dd> <p>Mapping of in-place output objects available via <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> as a named tuple.</p> <p>To override <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> attributes, provide objects that are already broadcasted and grouped (e.g. using <code>broadcast_named_args</code> and templates). Also see <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func title=vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func>Portfolio.in_outputs_indexing_func</a> for indexing details. When chunking, supply the chunk specification and merging function as per <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/chunking/#vectorbtpro.portfolio.chunking.merge_sim_outs title=vectorbtpro.portfolio.chunking.merge_sim_outs>merge_sim_outs</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>For Numba versions below 0.54, <code>in_outputs</code> must be a globally defined named tuple rather than a mapping.</p> </div> </dd> <dt><strong><code>seed</code></strong> :&ensp;<code>Optional[int]</code></dt> <dd>Random seed for deterministic output.</dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>broadcast_named_args</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Additional named arguments for broadcasting.</p> <p>Use templates such as <a href=https://vectorbt.pro/pvt_41531c19/api/utils/template/#vectorbtpro.utils.template.Rep title=vectorbtpro.utils.template.Rep>Rep</a> to substitute callback function arguments with their broadcasted values.</p> </dd> <dt><strong><code>broadcast_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for broadcasting.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.broadcast title=vectorbtpro.base.reshaping.broadcast>broadcast</a>.</p> </dd> <dt><strong><code>template_context</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Additional context for template substitution.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>staticized</code></strong> :&ensp;<code>StaticizedOption</code></dt> <dd> <p>Keyword arguments or a task id for staticizing.</p> <p>If True or a dict, these are passed to <a href=https://vectorbt.pro/pvt_41531c19/api/utils/source/#vectorbtpro.utils.source.cut_and_save_func title=vectorbtpro.utils.source.cut_and_save_func>cut_and_save_func</a> to cache the simulator. If a hashable or callable, it is used as a task id for an already registered simulator. The dict may include options like <code>override</code> and <code>reload</code>.</p> </dd> <dt><strong><code>bm_close</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Benchmark asset price at each bar.</p> <p>Broadcasts. If not provided, <code>close</code> is used; if set to False, benchmarking is disabled.</p> </dd> <dt><strong><code>records</code></strong> :&ensp;<code>Optional[RecordsLike]</code></dt> <dd> <p>Records used to construct arrays.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/indexing/#vectorbtpro.base.indexing.IdxRecords title=vectorbtpro.base.indexing.IdxRecords>IdxRecords</a>.</p> </dd> <dt><strong><code>return_preparer</code></strong> :&ensp;<code>bool</code></dt> <dd> <p>If True, returns the preparer instance (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.FSPreparer title=vectorbtpro.portfolio.preparing.FSPreparer>FSPreparer</a>).</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In this case, the seed is not automatically set; invoke <code>preparer.set_seed()</code> explicitly if needed.</p> </div> </dd> <dt><strong><code>return_prep_result</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, returns the preparer result (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/preparing/#vectorbtpro.portfolio.preparing.PFPrepResult title=vectorbtpro.portfolio.preparing.PFPrepResult>PFPrepResult</a>).</dd> <dt><strong><code>return_sim_out</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, returns the simulation output (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.SimulationOutput title=vectorbtpro.portfolio.enums.SimulationOutput>SimulationOutput</a>).</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>PortfolioResult</code></dt> <dd>Portfolio result.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.from_basic_signals_nb title=vectorbtpro.portfolio.nb.from_signals.from_basic_signals_nb>from_basic_signals_nb</a> for static simulation without complex orders.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.from_signals_nb title=vectorbtpro.portfolio.nb.from_signals.from_signals_nb>from_signals_nb</a> for static simulation with complex orders.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/from_signals/#vectorbtpro.portfolio.nb.from_signals.from_signal_func_nb title=vectorbtpro.portfolio.nb.from_signals.from_signal_func_nb>from_signal_func_nb</a> for dynamic simulation.</li> </ul> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.portfolio title=vectorbtpro._settings.portfolio>portfolio</a>.</p> <p>These defaults are not used to fill NaN values after reindexing; vectorbtpro uses its own defaults (typically NaN for floating arrays and preset flags for integer arrays). Use <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.BCO title=vectorbtpro.base.reshaping.BCO>BCO</a> with <code>fill_value</code> to override.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When <code>call_seq</code> is not set to <code>CallSeqType.Auto</code>, the processing order within a group strictly follows the specified <code>call_seq</code>. This means the last asset in the sequence is processed only after the others, which can affect rebalancing. Use <code>CallSeqType.Auto</code> for dynamic execution order.</p> </div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>All broadcastable arguments are handled using <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.broadcast title=vectorbtpro.base.reshaping.broadcast>broadcast</a> to preserve their original shapes for flexible indexing and memory efficiency. Each can be provided per frame, series, row, column, or individual element.</p> </div> <p><strong>Examples</strong></p> <p>By default, if all signal arrays are None, <code>entries</code> is treated as True, opening a position at the first tick:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
</span><span id=__span-40-2><a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-40-3><a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-40-4><a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a><span class=go>0    1.0</span>
</span><span id=__span-40-5><a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a><span class=go>1    0.0</span>
</span><span id=__span-40-6><a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a><span class=go>2    0.0</span>
</span><span id=__span-40-7><a id=__codelineno-40-7 name=__codelineno-40-7 href=#__codelineno-40-7></a><span class=go>3    0.0</span>
</span><span id=__span-40-8><a id=__codelineno-40-8 name=__codelineno-40-8 href=#__codelineno-40-8></a><span class=go>4    0.0</span>
</span><span id=__span-40-9><a id=__codelineno-40-9 name=__codelineno-40-9 href=#__codelineno-40-9></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Entry opens long, exit closes long:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-41-2><a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-41-3><a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-41-4><a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-41-5><a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-41-6><a id=__codelineno-41-6 name=__codelineno-41-6 href=#__codelineno-41-6></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span>
</span><span id=__span-41-7><a id=__codelineno-41-7 name=__codelineno-41-7 href=#__codelineno-41-7></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-41-8><a id=__codelineno-41-8 name=__codelineno-41-8 href=#__codelineno-41-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-41-9><a id=__codelineno-41-9 name=__codelineno-41-9 href=#__codelineno-41-9></a><span class=go>0    1.0</span>
</span><span id=__span-41-10><a id=__codelineno-41-10 name=__codelineno-41-10 href=#__codelineno-41-10></a><span class=go>1    0.0</span>
</span><span id=__span-41-11><a id=__codelineno-41-11 name=__codelineno-41-11 href=#__codelineno-41-11></a><span class=go>2    0.0</span>
</span><span id=__span-41-12><a id=__codelineno-41-12 name=__codelineno-41-12 href=#__codelineno-41-12></a><span class=go>3   -1.0</span>
</span><span id=__span-41-13><a id=__codelineno-41-13 name=__codelineno-41-13 href=#__codelineno-41-13></a><span class=go>4    0.0</span>
</span><span id=__span-41-14><a id=__codelineno-41-14 name=__codelineno-41-14 href=#__codelineno-41-14></a><span class=go>dtype: float64</span>
</span><span id=__span-41-15><a id=__codelineno-41-15 name=__codelineno-41-15 href=#__codelineno-41-15></a>
</span><span id=__span-41-16><a id=__codelineno-41-16 name=__codelineno-41-16 href=#__codelineno-41-16></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Using direction-aware arrays instead of `direction`</span>
</span><span id=__span-41-17><a id=__codelineno-41-17 name=__codelineno-41-17 href=#__codelineno-41-17></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-41-18><a id=__codelineno-41-18 name=__codelineno-41-18 href=#__codelineno-41-18></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-41-19><a id=__codelineno-41-19 name=__codelineno-41-19 href=#__codelineno-41-19></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>  <span class=c1># long_entries</span>
</span><span id=__span-41-20><a id=__codelineno-41-20 name=__codelineno-41-20 href=#__codelineno-41-20></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>  <span class=c1># long_exits</span>
</span><span id=__span-41-21><a id=__codelineno-41-21 name=__codelineno-41-21 href=#__codelineno-41-21></a><span class=gp>... </span>    <span class=n>short_entries</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-41-22><a id=__codelineno-41-22 name=__codelineno-41-22 href=#__codelineno-41-22></a><span class=gp>... </span>    <span class=n>short_exits</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-41-23><a id=__codelineno-41-23 name=__codelineno-41-23 href=#__codelineno-41-23></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-41-24><a id=__codelineno-41-24 name=__codelineno-41-24 href=#__codelineno-41-24></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-41-25><a id=__codelineno-41-25 name=__codelineno-41-25 href=#__codelineno-41-25></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-41-26><a id=__codelineno-41-26 name=__codelineno-41-26 href=#__codelineno-41-26></a><span class=go>0    1.0</span>
</span><span id=__span-41-27><a id=__codelineno-41-27 name=__codelineno-41-27 href=#__codelineno-41-27></a><span class=go>1    0.0</span>
</span><span id=__span-41-28><a id=__codelineno-41-28 name=__codelineno-41-28 href=#__codelineno-41-28></a><span class=go>2    0.0</span>
</span><span id=__span-41-29><a id=__codelineno-41-29 name=__codelineno-41-29 href=#__codelineno-41-29></a><span class=go>3   -1.0</span>
</span><span id=__span-41-30><a id=__codelineno-41-30 name=__codelineno-41-30 href=#__codelineno-41-30></a><span class=go>4    0.0</span>
</span><span id=__span-41-31><a id=__codelineno-41-31 name=__codelineno-41-31 href=#__codelineno-41-31></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Notice how both <code>short_entries</code> and <code>short_exits</code> are provided as constants - as any other broadcastable argument, they are treated as arrays where each element is False.</p> <p>Entry opens short, exit closes short:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-42-2><a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-42-3><a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-42-4><a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-42-5><a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-42-6><a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;shortonly&#39;</span>
</span><span id=__span-42-7><a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-42-8><a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-42-9><a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a><span class=go>0   -1.0</span>
</span><span id=__span-42-10><a id=__codelineno-42-10 name=__codelineno-42-10 href=#__codelineno-42-10></a><span class=go>1    0.0</span>
</span><span id=__span-42-11><a id=__codelineno-42-11 name=__codelineno-42-11 href=#__codelineno-42-11></a><span class=go>2    0.0</span>
</span><span id=__span-42-12><a id=__codelineno-42-12 name=__codelineno-42-12 href=#__codelineno-42-12></a><span class=go>3    1.0</span>
</span><span id=__span-42-13><a id=__codelineno-42-13 name=__codelineno-42-13 href=#__codelineno-42-13></a><span class=go>4    0.0</span>
</span><span id=__span-42-14><a id=__codelineno-42-14 name=__codelineno-42-14 href=#__codelineno-42-14></a><span class=go>dtype: float64</span>
</span><span id=__span-42-15><a id=__codelineno-42-15 name=__codelineno-42-15 href=#__codelineno-42-15></a>
</span><span id=__span-42-16><a id=__codelineno-42-16 name=__codelineno-42-16 href=#__codelineno-42-16></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Using direction-aware arrays instead of `direction`</span>
</span><span id=__span-42-17><a id=__codelineno-42-17 name=__codelineno-42-17 href=#__codelineno-42-17></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-42-18><a id=__codelineno-42-18 name=__codelineno-42-18 href=#__codelineno-42-18></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-42-19><a id=__codelineno-42-19 name=__codelineno-42-19 href=#__codelineno-42-19></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># long_entries</span>
</span><span id=__span-42-20><a id=__codelineno-42-20 name=__codelineno-42-20 href=#__codelineno-42-20></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># long_exits</span>
</span><span id=__span-42-21><a id=__codelineno-42-21 name=__codelineno-42-21 href=#__codelineno-42-21></a><span class=gp>... </span>    <span class=n>short_entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-42-22><a id=__codelineno-42-22 name=__codelineno-42-22 href=#__codelineno-42-22></a><span class=gp>... </span>    <span class=n>short_exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-42-23><a id=__codelineno-42-23 name=__codelineno-42-23 href=#__codelineno-42-23></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-42-24><a id=__codelineno-42-24 name=__codelineno-42-24 href=#__codelineno-42-24></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-42-25><a id=__codelineno-42-25 name=__codelineno-42-25 href=#__codelineno-42-25></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-42-26><a id=__codelineno-42-26 name=__codelineno-42-26 href=#__codelineno-42-26></a><span class=go>0   -1.0</span>
</span><span id=__span-42-27><a id=__codelineno-42-27 name=__codelineno-42-27 href=#__codelineno-42-27></a><span class=go>1    0.0</span>
</span><span id=__span-42-28><a id=__codelineno-42-28 name=__codelineno-42-28 href=#__codelineno-42-28></a><span class=go>2    0.0</span>
</span><span id=__span-42-29><a id=__codelineno-42-29 name=__codelineno-42-29 href=#__codelineno-42-29></a><span class=go>3    1.0</span>
</span><span id=__span-42-30><a id=__codelineno-42-30 name=__codelineno-42-30 href=#__codelineno-42-30></a><span class=go>4    0.0</span>
</span><span id=__span-42-31><a id=__codelineno-42-31 name=__codelineno-42-31 href=#__codelineno-42-31></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Entry opens long and closes short, exit closes long and opens short:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-43-2><a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-43-3><a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-43-4><a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-43-5><a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-43-6><a id=__codelineno-43-6 name=__codelineno-43-6 href=#__codelineno-43-6></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span>
</span><span id=__span-43-7><a id=__codelineno-43-7 name=__codelineno-43-7 href=#__codelineno-43-7></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-43-8><a id=__codelineno-43-8 name=__codelineno-43-8 href=#__codelineno-43-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-43-9><a id=__codelineno-43-9 name=__codelineno-43-9 href=#__codelineno-43-9></a><span class=go>0    1.0</span>
</span><span id=__span-43-10><a id=__codelineno-43-10 name=__codelineno-43-10 href=#__codelineno-43-10></a><span class=go>1    0.0</span>
</span><span id=__span-43-11><a id=__codelineno-43-11 name=__codelineno-43-11 href=#__codelineno-43-11></a><span class=go>2    0.0</span>
</span><span id=__span-43-12><a id=__codelineno-43-12 name=__codelineno-43-12 href=#__codelineno-43-12></a><span class=go>3   -2.0</span>
</span><span id=__span-43-13><a id=__codelineno-43-13 name=__codelineno-43-13 href=#__codelineno-43-13></a><span class=go>4    0.0</span>
</span><span id=__span-43-14><a id=__codelineno-43-14 name=__codelineno-43-14 href=#__codelineno-43-14></a><span class=go>dtype: float64</span>
</span><span id=__span-43-15><a id=__codelineno-43-15 name=__codelineno-43-15 href=#__codelineno-43-15></a>
</span><span id=__span-43-16><a id=__codelineno-43-16 name=__codelineno-43-16 href=#__codelineno-43-16></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Using direction-aware arrays instead of `direction`</span>
</span><span id=__span-43-17><a id=__codelineno-43-17 name=__codelineno-43-17 href=#__codelineno-43-17></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-43-18><a id=__codelineno-43-18 name=__codelineno-43-18 href=#__codelineno-43-18></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-43-19><a id=__codelineno-43-19 name=__codelineno-43-19 href=#__codelineno-43-19></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>  <span class=c1># long_entries</span>
</span><span id=__span-43-20><a id=__codelineno-43-20 name=__codelineno-43-20 href=#__codelineno-43-20></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># long_exits</span>
</span><span id=__span-43-21><a id=__codelineno-43-21 name=__codelineno-43-21 href=#__codelineno-43-21></a><span class=gp>... </span>    <span class=n>short_entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-43-22><a id=__codelineno-43-22 name=__codelineno-43-22 href=#__codelineno-43-22></a><span class=gp>... </span>    <span class=n>short_exits</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-43-23><a id=__codelineno-43-23 name=__codelineno-43-23 href=#__codelineno-43-23></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-43-24><a id=__codelineno-43-24 name=__codelineno-43-24 href=#__codelineno-43-24></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-43-25><a id=__codelineno-43-25 name=__codelineno-43-25 href=#__codelineno-43-25></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-43-26><a id=__codelineno-43-26 name=__codelineno-43-26 href=#__codelineno-43-26></a><span class=go>0    1.0</span>
</span><span id=__span-43-27><a id=__codelineno-43-27 name=__codelineno-43-27 href=#__codelineno-43-27></a><span class=go>1    0.0</span>
</span><span id=__span-43-28><a id=__codelineno-43-28 name=__codelineno-43-28 href=#__codelineno-43-28></a><span class=go>2    0.0</span>
</span><span id=__span-43-29><a id=__codelineno-43-29 name=__codelineno-43-29 href=#__codelineno-43-29></a><span class=go>3   -2.0</span>
</span><span id=__span-43-30><a id=__codelineno-43-30 name=__codelineno-43-30 href=#__codelineno-43-30></a><span class=go>4    0.0</span>
</span><span id=__span-43-31><a id=__codelineno-43-31 name=__codelineno-43-31 href=#__codelineno-43-31></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>More complex signal combinations using direction-aware arrays. For example, ignore opposite signals as long as the current position is open:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-44-2><a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-44-3><a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a><span class=gp>... </span>    <span class=n>entries</span>      <span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>  <span class=c1># long_entries</span>
</span><span id=__span-44-4><a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a><span class=gp>... </span>    <span class=n>exits</span>        <span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>  <span class=c1># long_exits</span>
</span><span id=__span-44-5><a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a><span class=gp>... </span>    <span class=n>short_entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-44-6><a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a><span class=gp>... </span>    <span class=n>short_exits</span>  <span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-44-7><a id=__codelineno-44-7 name=__codelineno-44-7 href=#__codelineno-44-7></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-44-8><a id=__codelineno-44-8 name=__codelineno-44-8 href=#__codelineno-44-8></a><span class=gp>... </span>    <span class=n>upon_opposite_entry</span><span class=o>=</span><span class=s1>&#39;ignore&#39;</span>
</span><span id=__span-44-9><a id=__codelineno-44-9 name=__codelineno-44-9 href=#__codelineno-44-9></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-44-10><a id=__codelineno-44-10 name=__codelineno-44-10 href=#__codelineno-44-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-44-11><a id=__codelineno-44-11 name=__codelineno-44-11 href=#__codelineno-44-11></a><span class=go>0    1.0</span>
</span><span id=__span-44-12><a id=__codelineno-44-12 name=__codelineno-44-12 href=#__codelineno-44-12></a><span class=go>1    0.0</span>
</span><span id=__span-44-13><a id=__codelineno-44-13 name=__codelineno-44-13 href=#__codelineno-44-13></a><span class=go>2   -1.0</span>
</span><span id=__span-44-14><a id=__codelineno-44-14 name=__codelineno-44-14 href=#__codelineno-44-14></a><span class=go>3   -1.0</span>
</span><span id=__span-44-15><a id=__codelineno-44-15 name=__codelineno-44-15 href=#__codelineno-44-15></a><span class=go>4    1.0</span>
</span><span id=__span-44-16><a id=__codelineno-44-16 name=__codelineno-44-16 href=#__codelineno-44-16></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>First opposite signal closes the position, second one opens a new position:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-45-2><a id=__codelineno-45-2 name=__codelineno-45-2 href=#__codelineno-45-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-45-3><a id=__codelineno-45-3 name=__codelineno-45-3 href=#__codelineno-45-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-45-4><a id=__codelineno-45-4 name=__codelineno-45-4 href=#__codelineno-45-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-45-5><a id=__codelineno-45-5 name=__codelineno-45-5 href=#__codelineno-45-5></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-45-6><a id=__codelineno-45-6 name=__codelineno-45-6 href=#__codelineno-45-6></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-45-7><a id=__codelineno-45-7 name=__codelineno-45-7 href=#__codelineno-45-7></a><span class=gp>... </span>    <span class=n>upon_opposite_entry</span><span class=o>=</span><span class=s1>&#39;close&#39;</span>
</span><span id=__span-45-8><a id=__codelineno-45-8 name=__codelineno-45-8 href=#__codelineno-45-8></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-45-9><a id=__codelineno-45-9 name=__codelineno-45-9 href=#__codelineno-45-9></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-45-10><a id=__codelineno-45-10 name=__codelineno-45-10 href=#__codelineno-45-10></a><span class=go>0    1.0</span>
</span><span id=__span-45-11><a id=__codelineno-45-11 name=__codelineno-45-11 href=#__codelineno-45-11></a><span class=go>1    0.0</span>
</span><span id=__span-45-12><a id=__codelineno-45-12 name=__codelineno-45-12 href=#__codelineno-45-12></a><span class=go>2    0.0</span>
</span><span id=__span-45-13><a id=__codelineno-45-13 name=__codelineno-45-13 href=#__codelineno-45-13></a><span class=go>3   -1.0</span>
</span><span id=__span-45-14><a id=__codelineno-45-14 name=__codelineno-45-14 href=#__codelineno-45-14></a><span class=go>4   -1.0</span>
</span><span id=__span-45-15><a id=__codelineno-45-15 name=__codelineno-45-15 href=#__codelineno-45-15></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>If both long entry and exit signals are True (a signal conflict), choose exit:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-46-2><a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-46-3><a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-46-4><a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-46-5><a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mf>1.</span><span class=p>,</span>
</span><span id=__span-46-6><a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;longonly&#39;</span><span class=p>,</span>
</span><span id=__span-46-7><a id=__codelineno-46-7 name=__codelineno-46-7 href=#__codelineno-46-7></a><span class=gp>... </span>    <span class=n>upon_long_conflict</span><span class=o>=</span><span class=s1>&#39;exit&#39;</span><span class=p>)</span>
</span><span id=__span-46-8><a id=__codelineno-46-8 name=__codelineno-46-8 href=#__codelineno-46-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-46-9><a id=__codelineno-46-9 name=__codelineno-46-9 href=#__codelineno-46-9></a><span class=go>0    1.0</span>
</span><span id=__span-46-10><a id=__codelineno-46-10 name=__codelineno-46-10 href=#__codelineno-46-10></a><span class=go>1    0.0</span>
</span><span id=__span-46-11><a id=__codelineno-46-11 name=__codelineno-46-11 href=#__codelineno-46-11></a><span class=go>2   -1.0</span>
</span><span id=__span-46-12><a id=__codelineno-46-12 name=__codelineno-46-12 href=#__codelineno-46-12></a><span class=go>3    0.0</span>
</span><span id=__span-46-13><a id=__codelineno-46-13 name=__codelineno-46-13 href=#__codelineno-46-13></a><span class=go>4    0.0</span>
</span><span id=__span-46-14><a id=__codelineno-46-14 name=__codelineno-46-14 href=#__codelineno-46-14></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>If both long entry and short entry signal are True (a direction conflict), choose short:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-47-2><a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-47-3><a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-47-4><a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-47-5><a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mf>1.</span><span class=p>,</span>
</span><span id=__span-47-6><a id=__codelineno-47-6 name=__codelineno-47-6 href=#__codelineno-47-6></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-47-7><a id=__codelineno-47-7 name=__codelineno-47-7 href=#__codelineno-47-7></a><span class=gp>... </span>    <span class=n>upon_dir_conflict</span><span class=o>=</span><span class=s1>&#39;short&#39;</span><span class=p>)</span>
</span><span id=__span-47-8><a id=__codelineno-47-8 name=__codelineno-47-8 href=#__codelineno-47-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-47-9><a id=__codelineno-47-9 name=__codelineno-47-9 href=#__codelineno-47-9></a><span class=go>0    1.0</span>
</span><span id=__span-47-10><a id=__codelineno-47-10 name=__codelineno-47-10 href=#__codelineno-47-10></a><span class=go>1    0.0</span>
</span><span id=__span-47-11><a id=__codelineno-47-11 name=__codelineno-47-11 href=#__codelineno-47-11></a><span class=go>2   -2.0</span>
</span><span id=__span-47-12><a id=__codelineno-47-12 name=__codelineno-47-12 href=#__codelineno-47-12></a><span class=go>3    0.0</span>
</span><span id=__span-47-13><a id=__codelineno-47-13 name=__codelineno-47-13 href=#__codelineno-47-13></a><span class=go>4    0.0</span>
</span><span id=__span-47-14><a id=__codelineno-47-14 name=__codelineno-47-14 href=#__codelineno-47-14></a><span class=go>dtype: float64</span>
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Remember that when direction is set to 'both', entries become <code>long_entries</code> and exits become <code>short_entries</code>, so this becomes a conflict of directions rather than signals.</p> </div> <p>If both signal and direction conflicts occur:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-48-2><a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-48-3><a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># long_entries</span>
</span><span id=__span-48-4><a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># long_exits</span>
</span><span id=__span-48-5><a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a><span class=gp>... </span>    <span class=n>short_entries</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-48-6><a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a><span class=gp>... </span>    <span class=n>short_exits</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-48-7><a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-48-8><a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a><span class=gp>... </span>    <span class=n>upon_long_conflict</span><span class=o>=</span><span class=s1>&#39;entry&#39;</span><span class=p>,</span>
</span><span id=__span-48-9><a id=__codelineno-48-9 name=__codelineno-48-9 href=#__codelineno-48-9></a><span class=gp>... </span>    <span class=n>upon_short_conflict</span><span class=o>=</span><span class=s1>&#39;entry&#39;</span><span class=p>,</span>
</span><span id=__span-48-10><a id=__codelineno-48-10 name=__codelineno-48-10 href=#__codelineno-48-10></a><span class=gp>... </span>    <span class=n>upon_dir_conflict</span><span class=o>=</span><span class=s1>&#39;short&#39;</span>
</span><span id=__span-48-11><a id=__codelineno-48-11 name=__codelineno-48-11 href=#__codelineno-48-11></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-48-12><a id=__codelineno-48-12 name=__codelineno-48-12 href=#__codelineno-48-12></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-48-13><a id=__codelineno-48-13 name=__codelineno-48-13 href=#__codelineno-48-13></a><span class=go>0   -1.0</span>
</span><span id=__span-48-14><a id=__codelineno-48-14 name=__codelineno-48-14 href=#__codelineno-48-14></a><span class=go>1    0.0</span>
</span><span id=__span-48-15><a id=__codelineno-48-15 name=__codelineno-48-15 href=#__codelineno-48-15></a><span class=go>2    0.0</span>
</span><span id=__span-48-16><a id=__codelineno-48-16 name=__codelineno-48-16 href=#__codelineno-48-16></a><span class=go>3    0.0</span>
</span><span id=__span-48-17><a id=__codelineno-48-17 name=__codelineno-48-17 href=#__codelineno-48-17></a><span class=go>4    0.0</span>
</span><span id=__span-48-18><a id=__codelineno-48-18 name=__codelineno-48-18 href=#__codelineno-48-18></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Turn on accumulation (entry implies long order, exit implies short order):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-49-2><a id=__codelineno-49-2 name=__codelineno-49-2 href=#__codelineno-49-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-49-3><a id=__codelineno-49-3 name=__codelineno-49-3 href=#__codelineno-49-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-49-4><a id=__codelineno-49-4 name=__codelineno-49-4 href=#__codelineno-49-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-49-5><a id=__codelineno-49-5 name=__codelineno-49-5 href=#__codelineno-49-5></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mf>1.</span><span class=p>,</span>
</span><span id=__span-49-6><a id=__codelineno-49-6 name=__codelineno-49-6 href=#__codelineno-49-6></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-49-7><a id=__codelineno-49-7 name=__codelineno-49-7 href=#__codelineno-49-7></a><span class=gp>... </span>    <span class=n>accumulate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-49-8><a id=__codelineno-49-8 name=__codelineno-49-8 href=#__codelineno-49-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-49-9><a id=__codelineno-49-9 name=__codelineno-49-9 href=#__codelineno-49-9></a><span class=go>0    1.0</span>
</span><span id=__span-49-10><a id=__codelineno-49-10 name=__codelineno-49-10 href=#__codelineno-49-10></a><span class=go>1    1.0</span>
</span><span id=__span-49-11><a id=__codelineno-49-11 name=__codelineno-49-11 href=#__codelineno-49-11></a><span class=go>2    0.0</span>
</span><span id=__span-49-12><a id=__codelineno-49-12 name=__codelineno-49-12 href=#__codelineno-49-12></a><span class=go>3   -1.0</span>
</span><span id=__span-49-13><a id=__codelineno-49-13 name=__codelineno-49-13 href=#__codelineno-49-13></a><span class=go>4   -1.0</span>
</span><span id=__span-49-14><a id=__codelineno-49-14 name=__codelineno-49-14 href=#__codelineno-49-14></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Allow increasing position size without decreasing the existing position:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-50-2><a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-50-3><a id=__codelineno-50-3 name=__codelineno-50-3 href=#__codelineno-50-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-50-4><a id=__codelineno-50-4 name=__codelineno-50-4 href=#__codelineno-50-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-50-5><a id=__codelineno-50-5 name=__codelineno-50-5 href=#__codelineno-50-5></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mf>1.</span><span class=p>,</span>
</span><span id=__span-50-6><a id=__codelineno-50-6 name=__codelineno-50-6 href=#__codelineno-50-6></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-50-7><a id=__codelineno-50-7 name=__codelineno-50-7 href=#__codelineno-50-7></a><span class=gp>... </span>    <span class=n>accumulate</span><span class=o>=</span><span class=s1>&#39;addonly&#39;</span><span class=p>)</span>
</span><span id=__span-50-8><a id=__codelineno-50-8 name=__codelineno-50-8 href=#__codelineno-50-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-50-9><a id=__codelineno-50-9 name=__codelineno-50-9 href=#__codelineno-50-9></a><span class=go>0    1.0  &lt;&lt; open a long position</span>
</span><span id=__span-50-10><a id=__codelineno-50-10 name=__codelineno-50-10 href=#__codelineno-50-10></a><span class=go>1    1.0  &lt;&lt; add to the position</span>
</span><span id=__span-50-11><a id=__codelineno-50-11 name=__codelineno-50-11 href=#__codelineno-50-11></a><span class=go>2    0.0</span>
</span><span id=__span-50-12><a id=__codelineno-50-12 name=__codelineno-50-12 href=#__codelineno-50-12></a><span class=go>3   -3.0  &lt;&lt; close and open a short position</span>
</span><span id=__span-50-13><a id=__codelineno-50-13 name=__codelineno-50-13 href=#__codelineno-50-13></a><span class=go>4   -1.0  &lt;&lt; add to the position</span>
</span><span id=__span-50-14><a id=__codelineno-50-14 name=__codelineno-50-14 href=#__codelineno-50-14></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Test multiple parameters via regular broadcasting:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-51-2><a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-51-3><a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-51-4><a id=__codelineno-51-4 name=__codelineno-51-4 href=#__codelineno-51-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-51-5><a id=__codelineno-51-5 name=__codelineno-51-5 href=#__codelineno-51-5></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=p>[</span><span class=nb>list</span><span class=p>(</span><span class=n>Direction</span><span class=p>)],</span>
</span><span id=__span-51-6><a id=__codelineno-51-6 name=__codelineno-51-6 href=#__codelineno-51-6></a><span class=gp>... </span>    <span class=n>broadcast_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>columns_from</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Index</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>pf_enums</span><span class=o>.</span><span class=n>Direction</span><span class=o>.</span><span class=n>_fields</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;direction&#39;</span><span class=p>)))</span>
</span><span id=__span-51-7><a id=__codelineno-51-7 name=__codelineno-51-7 href=#__codelineno-51-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-51-8><a id=__codelineno-51-8 name=__codelineno-51-8 href=#__codelineno-51-8></a><span class=go>direction  LongOnly  ShortOnly   Both</span>
</span><span id=__span-51-9><a id=__codelineno-51-9 name=__codelineno-51-9 href=#__codelineno-51-9></a><span class=go>0             100.0     -100.0  100.0</span>
</span><span id=__span-51-10><a id=__codelineno-51-10 name=__codelineno-51-10 href=#__codelineno-51-10></a><span class=go>1               0.0        0.0    0.0</span>
</span><span id=__span-51-11><a id=__codelineno-51-11 name=__codelineno-51-11 href=#__codelineno-51-11></a><span class=go>2               0.0        0.0    0.0</span>
</span><span id=__span-51-12><a id=__codelineno-51-12 name=__codelineno-51-12 href=#__codelineno-51-12></a><span class=go>3            -100.0       50.0 -200.0</span>
</span><span id=__span-51-13><a id=__codelineno-51-13 name=__codelineno-51-13 href=#__codelineno-51-13></a><span class=go>4               0.0        0.0    0.0</span>
</span></code></pre></div> <p>Test multiple parameters via <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.BCO title=vectorbtpro.base.reshaping.BCO>BCO</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-52-2><a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span>
</span><span id=__span-52-3><a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a><span class=gp>... </span>    <span class=n>entries</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>]),</span>
</span><span id=__span-52-4><a id=__codelineno-52-4 name=__codelineno-52-4 href=#__codelineno-52-4></a><span class=gp>... </span>    <span class=n>exits</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]),</span>
</span><span id=__span-52-5><a id=__codelineno-52-5 name=__codelineno-52-5 href=#__codelineno-52-5></a><span class=gp>... </span>    <span class=n>direction</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>Param</span><span class=p>(</span><span class=n>Direction</span><span class=p>))</span>
</span><span id=__span-52-6><a id=__codelineno-52-6 name=__codelineno-52-6 href=#__codelineno-52-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-52-7><a id=__codelineno-52-7 name=__codelineno-52-7 href=#__codelineno-52-7></a><span class=go>direction  LongOnly  ShortOnly   Both</span>
</span><span id=__span-52-8><a id=__codelineno-52-8 name=__codelineno-52-8 href=#__codelineno-52-8></a><span class=go>0             100.0     -100.0  100.0</span>
</span><span id=__span-52-9><a id=__codelineno-52-9 name=__codelineno-52-9 href=#__codelineno-52-9></a><span class=go>1               0.0        0.0    0.0</span>
</span><span id=__span-52-10><a id=__codelineno-52-10 name=__codelineno-52-10 href=#__codelineno-52-10></a><span class=go>2               0.0        0.0    0.0</span>
</span><span id=__span-52-11><a id=__codelineno-52-11 name=__codelineno-52-11 href=#__codelineno-52-11></a><span class=go>3            -100.0       50.0 -200.0</span>
</span><span id=__span-52-12><a id=__codelineno-52-12 name=__codelineno-52-12 href=#__codelineno-52-12></a><span class=go>4               0.0        0.0    0.0</span>
</span></code></pre></div> <p>Set risk/reward ratio using trailing stop loss and take profit thresholds:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>10</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>9</span><span class=p>])</span>
</span><span id=__span-53-2><a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>entries</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>])</span>
</span><span id=__span-53-3><a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>exits</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>])</span>
</span><span id=__span-53-4><a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-53-5><a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span>
</span><span id=__span-53-6><a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a><span class=gp>... </span>    <span class=n>tsl_stop</span><span class=o>=</span><span class=mf>0.1</span><span class=p>,</span> <span class=n>tp_stop</span><span class=o>=</span><span class=mf>0.2</span><span class=p>)</span>  <span class=c1># take profit hit</span>
</span><span id=__span-53-7><a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-53-8><a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a><span class=go>0    10.0</span>
</span><span id=__span-53-9><a id=__codelineno-53-9 name=__codelineno-53-9 href=#__codelineno-53-9></a><span class=go>1     0.0</span>
</span><span id=__span-53-10><a id=__codelineno-53-10 name=__codelineno-53-10 href=#__codelineno-53-10></a><span class=go>2   -10.0</span>
</span><span id=__span-53-11><a id=__codelineno-53-11 name=__codelineno-53-11 href=#__codelineno-53-11></a><span class=go>3     0.0</span>
</span><span id=__span-53-12><a id=__codelineno-53-12 name=__codelineno-53-12 href=#__codelineno-53-12></a><span class=go>4     0.0</span>
</span><span id=__span-53-13><a id=__codelineno-53-13 name=__codelineno-53-13 href=#__codelineno-53-13></a><span class=go>5     0.0</span>
</span><span id=__span-53-14><a id=__codelineno-53-14 name=__codelineno-53-14 href=#__codelineno-53-14></a><span class=go>dtype: float64</span>
</span><span id=__span-53-15><a id=__codelineno-53-15 name=__codelineno-53-15 href=#__codelineno-53-15></a>
</span><span id=__span-53-16><a id=__codelineno-53-16 name=__codelineno-53-16 href=#__codelineno-53-16></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-53-17><a id=__codelineno-53-17 name=__codelineno-53-17 href=#__codelineno-53-17></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span>
</span><span id=__span-53-18><a id=__codelineno-53-18 name=__codelineno-53-18 href=#__codelineno-53-18></a><span class=gp>... </span>    <span class=n>tsl_stop</span><span class=o>=</span><span class=mf>0.1</span><span class=p>,</span> <span class=n>tp_stop</span><span class=o>=</span><span class=mf>0.3</span><span class=p>)</span>  <span class=c1># trailing stop loss hit</span>
</span><span id=__span-53-19><a id=__codelineno-53-19 name=__codelineno-53-19 href=#__codelineno-53-19></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-53-20><a id=__codelineno-53-20 name=__codelineno-53-20 href=#__codelineno-53-20></a><span class=go>0    10.0</span>
</span><span id=__span-53-21><a id=__codelineno-53-21 name=__codelineno-53-21 href=#__codelineno-53-21></a><span class=go>1     0.0</span>
</span><span id=__span-53-22><a id=__codelineno-53-22 name=__codelineno-53-22 href=#__codelineno-53-22></a><span class=go>2     0.0</span>
</span><span id=__span-53-23><a id=__codelineno-53-23 name=__codelineno-53-23 href=#__codelineno-53-23></a><span class=go>3     0.0</span>
</span><span id=__span-53-24><a id=__codelineno-53-24 name=__codelineno-53-24 href=#__codelineno-53-24></a><span class=go>4   -10.0</span>
</span><span id=__span-53-25><a id=__codelineno-53-25 name=__codelineno-53-25 href=#__codelineno-53-25></a><span class=go>5     0.0</span>
</span><span id=__span-53-26><a id=__codelineno-53-26 name=__codelineno-53-26 href=#__codelineno-53-26></a><span class=go>dtype: float64</span>
</span><span id=__span-53-27><a id=__codelineno-53-27 name=__codelineno-53-27 href=#__codelineno-53-27></a>
</span><span id=__span-53-28><a id=__codelineno-53-28 name=__codelineno-53-28 href=#__codelineno-53-28></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-53-29><a id=__codelineno-53-29 name=__codelineno-53-29 href=#__codelineno-53-29></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span>
</span><span id=__span-53-30><a id=__codelineno-53-30 name=__codelineno-53-30 href=#__codelineno-53-30></a><span class=gp>... </span>    <span class=n>tsl_stop</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>inf</span><span class=p>,</span> <span class=n>tp_stop</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>inf</span><span class=p>)</span>  <span class=c1># nothing hit, exit as usual</span>
</span><span id=__span-53-31><a id=__codelineno-53-31 name=__codelineno-53-31 href=#__codelineno-53-31></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-53-32><a id=__codelineno-53-32 name=__codelineno-53-32 href=#__codelineno-53-32></a><span class=go>0    10.0</span>
</span><span id=__span-53-33><a id=__codelineno-53-33 name=__codelineno-53-33 href=#__codelineno-53-33></a><span class=go>1     0.0</span>
</span><span id=__span-53-34><a id=__codelineno-53-34 name=__codelineno-53-34 href=#__codelineno-53-34></a><span class=go>2     0.0</span>
</span><span id=__span-53-35><a id=__codelineno-53-35 name=__codelineno-53-35 href=#__codelineno-53-35></a><span class=go>3     0.0</span>
</span><span id=__span-53-36><a id=__codelineno-53-36 name=__codelineno-53-36 href=#__codelineno-53-36></a><span class=go>4     0.0</span>
</span><span id=__span-53-37><a id=__codelineno-53-37 name=__codelineno-53-37 href=#__codelineno-53-37></a><span class=go>5   -10.0</span>
</span><span id=__span-53-38><a id=__codelineno-53-38 name=__codelineno-53-38 href=#__codelineno-53-38></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Test different stop combinations:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-54-2><a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a><span class=gp>... </span>    <span class=n>close</span><span class=p>,</span> <span class=n>entries</span><span class=p>,</span> <span class=n>exits</span><span class=p>,</span>
</span><span id=__span-54-3><a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a><span class=gp>... </span>    <span class=n>tsl_stop</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>Param</span><span class=p>([</span><span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>]),</span>
</span><span id=__span-54-4><a id=__codelineno-54-4 name=__codelineno-54-4 href=#__codelineno-54-4></a><span class=gp>... </span>    <span class=n>tp_stop</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>Param</span><span class=p>([</span><span class=mf>0.2</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>])</span>
</span><span id=__span-54-5><a id=__codelineno-54-5 name=__codelineno-54-5 href=#__codelineno-54-5></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-54-6><a id=__codelineno-54-6 name=__codelineno-54-6 href=#__codelineno-54-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-54-7><a id=__codelineno-54-7 name=__codelineno-54-7 href=#__codelineno-54-7></a><span class=go>tsl_stop   0.1         0.2</span>
</span><span id=__span-54-8><a id=__codelineno-54-8 name=__codelineno-54-8 href=#__codelineno-54-8></a><span class=go>tp_stop    0.2   0.3   0.2   0.3</span>
</span><span id=__span-54-9><a id=__codelineno-54-9 name=__codelineno-54-9 href=#__codelineno-54-9></a><span class=go>0         10.0  10.0  10.0  10.0</span>
</span><span id=__span-54-10><a id=__codelineno-54-10 name=__codelineno-54-10 href=#__codelineno-54-10></a><span class=go>1          0.0   0.0   0.0   0.0</span>
</span><span id=__span-54-11><a id=__codelineno-54-11 name=__codelineno-54-11 href=#__codelineno-54-11></a><span class=go>2        -10.0   0.0 -10.0   0.0</span>
</span><span id=__span-54-12><a id=__codelineno-54-12 name=__codelineno-54-12 href=#__codelineno-54-12></a><span class=go>3          0.0   0.0   0.0   0.0</span>
</span><span id=__span-54-13><a id=__codelineno-54-13 name=__codelineno-54-13 href=#__codelineno-54-13></a><span class=go>4          0.0 -10.0   0.0   0.0</span>
</span><span id=__span-54-14><a id=__codelineno-54-14 name=__codelineno-54-14 href=#__codelineno-54-14></a><span class=go>5          0.0   0.0   0.0 -10.0</span>
</span></code></pre></div> <p>This works because <code>pd.Index</code> automatically translates into <a href=https://vectorbt.pro/pvt_41531c19/api/base/reshaping/#vectorbtpro.base.reshaping.BCO title=vectorbtpro.base.reshaping.BCO>BCO</a> with <code>product</code> set to True.</p> <p>We can implement our own stop loss or take profit, or adjust the existing one at each bar. Let's implement <a href=https://www.freqtrade.io/en/stable/strategy-advanced/#stepped-stoploss>stepped stop-loss</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-55-2><a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>adjust_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>):</span>
</span><span id=__span-55-3><a id=__codelineno-55-3 name=__codelineno-55-3 href=#__codelineno-55-3></a><span class=gp>... </span>    <span class=n>val_price_now</span> <span class=o>=</span> <span class=n>c</span><span class=o>.</span><span class=n>last_val_price</span><span class=p>[</span><span class=n>c</span><span class=o>.</span><span class=n>col</span><span class=p>]</span>
</span><span id=__span-55-4><a id=__codelineno-55-4 name=__codelineno-55-4 href=#__codelineno-55-4></a><span class=gp>... </span>    <span class=n>tsl_init_price</span> <span class=o>=</span> <span class=n>c</span><span class=o>.</span><span class=n>last_tsl_info</span><span class=p>[</span><span class=s2>&quot;init_price&quot;</span><span class=p>][</span><span class=n>c</span><span class=o>.</span><span class=n>col</span><span class=p>]</span>
</span><span id=__span-55-5><a id=__codelineno-55-5 name=__codelineno-55-5 href=#__codelineno-55-5></a><span class=gp>... </span>    <span class=n>current_profit</span> <span class=o>=</span> <span class=p>(</span><span class=n>val_price_now</span> <span class=o>-</span> <span class=n>tsl_init_price</span><span class=p>)</span> <span class=o>/</span> <span class=n>tsl_init_price</span>
</span><span id=__span-55-6><a id=__codelineno-55-6 name=__codelineno-55-6 href=#__codelineno-55-6></a><span class=gp>... </span>    <span class=k>if</span> <span class=n>current_profit</span> <span class=o>&gt;=</span> <span class=mf>0.40</span><span class=p>:</span>
</span><span id=__span-55-7><a id=__codelineno-55-7 name=__codelineno-55-7 href=#__codelineno-55-7></a><span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>last_tsl_info</span><span class=p>[</span><span class=s2>&quot;stop&quot;</span><span class=p>][</span><span class=n>c</span><span class=o>.</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=mf>0.25</span>
</span><span id=__span-55-8><a id=__codelineno-55-8 name=__codelineno-55-8 href=#__codelineno-55-8></a><span class=gp>... </span>    <span class=k>elif</span> <span class=n>current_profit</span> <span class=o>&gt;=</span> <span class=mf>0.25</span><span class=p>:</span>
</span><span id=__span-55-9><a id=__codelineno-55-9 name=__codelineno-55-9 href=#__codelineno-55-9></a><span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>last_tsl_info</span><span class=p>[</span><span class=s2>&quot;stop&quot;</span><span class=p>][</span><span class=n>c</span><span class=o>.</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=mf>0.15</span>
</span><span id=__span-55-10><a id=__codelineno-55-10 name=__codelineno-55-10 href=#__codelineno-55-10></a><span class=gp>... </span>    <span class=k>elif</span> <span class=n>current_profit</span> <span class=o>&gt;=</span> <span class=mf>0.20</span><span class=p>:</span>
</span><span id=__span-55-11><a id=__codelineno-55-11 name=__codelineno-55-11 href=#__codelineno-55-11></a><span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>last_tsl_info</span><span class=p>[</span><span class=s2>&quot;stop&quot;</span><span class=p>][</span><span class=n>c</span><span class=o>.</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=mf>0.07</span>
</span><span id=__span-55-12><a id=__codelineno-55-12 name=__codelineno-55-12 href=#__codelineno-55-12></a>
</span><span id=__span-55-13><a id=__codelineno-55-13 name=__codelineno-55-13 href=#__codelineno-55-13></a><span class=gp>&gt;&gt;&gt; </span><span class=n>close</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>10</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>10</span><span class=p>])</span>
</span><span id=__span-55-14><a id=__codelineno-55-14 name=__codelineno-55-14 href=#__codelineno-55-14></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>adjust_func_nb</span><span class=o>=</span><span class=n>adjust_func_nb</span><span class=p>)</span>
</span><span id=__span-55-15><a id=__codelineno-55-15 name=__codelineno-55-15 href=#__codelineno-55-15></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-55-16><a id=__codelineno-55-16 name=__codelineno-55-16 href=#__codelineno-55-16></a><span class=go>0    10.0</span>
</span><span id=__span-55-17><a id=__codelineno-55-17 name=__codelineno-55-17 href=#__codelineno-55-17></a><span class=go>1     0.0</span>
</span><span id=__span-55-18><a id=__codelineno-55-18 name=__codelineno-55-18 href=#__codelineno-55-18></a><span class=go>2     0.0</span>
</span><span id=__span-55-19><a id=__codelineno-55-19 name=__codelineno-55-19 href=#__codelineno-55-19></a><span class=go>3   -10.0  # 7% from 12 hit</span>
</span><span id=__span-55-20><a id=__codelineno-55-20 name=__codelineno-55-20 href=#__codelineno-55-20></a><span class=go>4    11.16</span>
</span><span id=__span-55-21><a id=__codelineno-55-21 name=__codelineno-55-21 href=#__codelineno-55-21></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Sometimes there is a need to provide or transform signals dynamically. For this, we can implement a custom signal function <code>signal_func_nb</code>. For example, let's implement a signal function that takes two numerical arrays - long and short one - and transforms them into 4 direction-aware boolean arrays that vectorbtpro understands:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=gp>&gt;&gt;&gt; </span><span class=nd>@njit</span>
</span><span id=__span-56-2><a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a><span class=gp>... </span><span class=k>def</span><span class=w> </span><span class=nf>signal_func_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>long_num_arr</span><span class=p>,</span> <span class=n>short_num_arr</span><span class=p>):</span>
</span><span id=__span-56-3><a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a><span class=gp>... </span>    <span class=n>long_num</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>long_num_arr</span><span class=p>)</span>
</span><span id=__span-56-4><a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a><span class=gp>... </span>    <span class=n>short_num</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>pf_nb</span><span class=o>.</span><span class=n>select_nb</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=n>short_num_arr</span><span class=p>)</span>
</span><span id=__span-56-5><a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a><span class=gp>... </span>    <span class=n>is_long_entry</span> <span class=o>=</span> <span class=n>long_num</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span><span id=__span-56-6><a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a><span class=gp>... </span>    <span class=n>is_long_exit</span> <span class=o>=</span> <span class=n>long_num</span> <span class=o>&lt;</span> <span class=mi>0</span>
</span><span id=__span-56-7><a id=__codelineno-56-7 name=__codelineno-56-7 href=#__codelineno-56-7></a><span class=gp>... </span>    <span class=n>is_short_entry</span> <span class=o>=</span> <span class=n>short_num</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span><span id=__span-56-8><a id=__codelineno-56-8 name=__codelineno-56-8 href=#__codelineno-56-8></a><span class=gp>... </span>    <span class=n>is_short_exit</span> <span class=o>=</span> <span class=n>short_num</span> <span class=o>&lt;</span> <span class=mi>0</span>
</span><span id=__span-56-9><a id=__codelineno-56-9 name=__codelineno-56-9 href=#__codelineno-56-9></a><span class=gp>... </span>    <span class=k>return</span> <span class=n>is_long_entry</span><span class=p>,</span> <span class=n>is_long_exit</span><span class=p>,</span> <span class=n>is_short_entry</span><span class=p>,</span> <span class=n>is_short_exit</span>
</span><span id=__span-56-10><a id=__codelineno-56-10 name=__codelineno-56-10 href=#__codelineno-56-10></a>
</span><span id=__span-56-11><a id=__codelineno-56-11 name=__codelineno-56-11 href=#__codelineno-56-11></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Portfolio</span><span class=o>.</span><span class=n>from_signals</span><span class=p>(</span>
</span><span id=__span-56-12><a id=__codelineno-56-12 name=__codelineno-56-12 href=#__codelineno-56-12></a><span class=gp>... </span>    <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]),</span>
</span><span id=__span-56-13><a id=__codelineno-56-13 name=__codelineno-56-13 href=#__codelineno-56-13></a><span class=gp>... </span>    <span class=n>signal_func_nb</span><span class=o>=</span><span class=n>signal_func_nb</span><span class=p>,</span>
</span><span id=__span-56-14><a id=__codelineno-56-14 name=__codelineno-56-14 href=#__codelineno-56-14></a><span class=gp>... </span>    <span class=n>signal_args</span><span class=o>=</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;long_num_arr&#39;</span><span class=p>),</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Rep</span><span class=p>(</span><span class=s1>&#39;short_num_arr&#39;</span><span class=p>)),</span>
</span><span id=__span-56-15><a id=__codelineno-56-15 name=__codelineno-56-15 href=#__codelineno-56-15></a><span class=gp>... </span>    <span class=n>broadcast_named_args</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-56-16><a id=__codelineno-56-16 name=__codelineno-56-16 href=#__codelineno-56-16></a><span class=gp>... </span>        <span class=n>long_num_arr</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>]),</span>
</span><span id=__span-56-17><a id=__codelineno-56-17 name=__codelineno-56-17 href=#__codelineno-56-17></a><span class=gp>... </span>        <span class=n>short_num_arr</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>])</span>
</span><span id=__span-56-18><a id=__codelineno-56-18 name=__codelineno-56-18 href=#__codelineno-56-18></a><span class=gp>... </span>    <span class=p>),</span>
</span><span id=__span-56-19><a id=__codelineno-56-19 name=__codelineno-56-19 href=#__codelineno-56-19></a><span class=gp>... </span>    <span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-56-20><a id=__codelineno-56-20 name=__codelineno-56-20 href=#__codelineno-56-20></a><span class=gp>... </span>    <span class=n>upon_opposite_entry</span><span class=o>=</span><span class=s1>&#39;ignore&#39;</span>
</span><span id=__span-56-21><a id=__codelineno-56-21 name=__codelineno-56-21 href=#__codelineno-56-21></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-56-22><a id=__codelineno-56-22 name=__codelineno-56-22 href=#__codelineno-56-22></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pf</span><span class=o>.</span><span class=n>asset_flow</span>
</span><span id=__span-56-23><a id=__codelineno-56-23 name=__codelineno-56-23 href=#__codelineno-56-23></a><span class=go>0    1.0</span>
</span><span id=__span-56-24><a id=__codelineno-56-24 name=__codelineno-56-24 href=#__codelineno-56-24></a><span class=go>1    0.0</span>
</span><span id=__span-56-25><a id=__codelineno-56-25 name=__codelineno-56-25 href=#__codelineno-56-25></a><span class=go>2   -1.0</span>
</span><span id=__span-56-26><a id=__codelineno-56-26 name=__codelineno-56-26 href=#__codelineno-56-26></a><span class=go>3   -1.0</span>
</span><span id=__span-56-27><a id=__codelineno-56-27 name=__codelineno-56-27 href=#__codelineno-56-27></a><span class=go>4    1.0</span>
</span><span id=__span-56-28><a id=__codelineno-56-28 name=__codelineno-56-28 href=#__codelineno-56-28></a><span class=go>dtype: float64</span>
</span></code></pre></div> <p>Passing both arrays as <code>broadcast_named_args</code> broadcasts them internally as any other array, so we don't have to worry about their dimensions every time we change our data.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_allocations>get_allocations <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L9203-L9302 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_allocations title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_allocations</span><span class=p>(</span>
</span><span id=__span-57-2><a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-57-3><a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a>    <span class=n>asset_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-57-4><a id=__codelineno-57-4 name=__codelineno-57-4 href=#__codelineno-57-4></a>    <span class=n>value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-57-5><a id=__codelineno-57-5 name=__codelineno-57-5 href=#__codelineno-57-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-57-6><a id=__codelineno-57-6 name=__codelineno-57-6 href=#__codelineno-57-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-57-7><a id=__codelineno-57-7 name=__codelineno-57-7 href=#__codelineno-57-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-57-8><a id=__codelineno-57-8 name=__codelineno-57-8 href=#__codelineno-57-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-57-9><a id=__codelineno-57-9 name=__codelineno-57-9 href=#__codelineno-57-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-57-10><a id=__codelineno-57-10 name=__codelineno-57-10 href=#__codelineno-57-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-57-11><a id=__codelineno-57-11 name=__codelineno-57-11 href=#__codelineno-57-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-57-12><a id=__codelineno-57-12 name=__codelineno-57-12 href=#__codelineno-57-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-57-13><a id=__codelineno-57-13 name=__codelineno-57-13 href=#__codelineno-57-13></a><span class=p>)</span>
</span></code></pre></div> <p>Return portfolio allocation series per column.</p> <p>Calculate the portfolio allocation series using the provided asset and portfolio value data. If called on an instance and <code>asset_value</code> or <code>value</code> is not provided, they are derived from shortcut attributes.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Direction for allocation calculation.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>asset_value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset value series used for allocation calculation.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_value title=vectorbtpro.portfolio.base.Portfolio.get_asset_value>Portfolio.get_asset_value</a> with <code>group_by=False</code> if not provided.</p> </dd> <dt><strong><code>value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Portfolio value series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_value title=vectorbtpro.portfolio.base.Portfolio.get_value>Portfolio.get_value</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Portfolio allocation series per column.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.allocations_nb title=vectorbtpro.portfolio.nb.analysis.allocations_nb>allocations_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_alpha>get_alpha <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_alpha title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_alpha</span><span class=p>(</span>
</span><span id=__span-58-2><a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-58-3><a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-4><a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-58-5><a id=__codelineno-58-5 name=__codelineno-58-5 href=#__codelineno-58-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-6><a id=__codelineno-58-6 name=__codelineno-58-6 href=#__codelineno-58-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-58-7><a id=__codelineno-58-7 name=__codelineno-58-7 href=#__codelineno-58-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-58-8><a id=__codelineno-58-8 name=__codelineno-58-8 href=#__codelineno-58-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-9><a id=__codelineno-58-9 name=__codelineno-58-9 href=#__codelineno-58-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-10><a id=__codelineno-58-10 name=__codelineno-58-10 href=#__codelineno-58-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-58-11><a id=__codelineno-58-11 name=__codelineno-58-11 href=#__codelineno-58-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-12><a id=__codelineno-58-12 name=__codelineno-58-12 href=#__codelineno-58-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-13><a id=__codelineno-58-13 name=__codelineno-58-13 href=#__codelineno-58-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-14><a id=__codelineno-58-14 name=__codelineno-58-14 href=#__codelineno-58-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-15><a id=__codelineno-58-15 name=__codelineno-58-15 href=#__codelineno-58-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-16><a id=__codelineno-58-16 name=__codelineno-58-16 href=#__codelineno-58-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-17><a id=__codelineno-58-17 name=__codelineno-58-17 href=#__codelineno-58-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-58-18><a id=__codelineno-58-18 name=__codelineno-58-18 href=#__codelineno-58-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-58-19><a id=__codelineno-58-19 name=__codelineno-58-19 href=#__codelineno-58-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.alpha title=vectorbtpro.returns.accessors.ReturnsAccessor.alpha>ReturnsAccessor.alpha</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_annual_returns>get_annual_returns <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_annual_returns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_annual_returns</span><span class=p>(</span>
</span><span id=__span-59-2><a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-59-3><a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-4><a id=__codelineno-59-4 name=__codelineno-59-4 href=#__codelineno-59-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-59-5><a id=__codelineno-59-5 name=__codelineno-59-5 href=#__codelineno-59-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-6><a id=__codelineno-59-6 name=__codelineno-59-6 href=#__codelineno-59-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-59-7><a id=__codelineno-59-7 name=__codelineno-59-7 href=#__codelineno-59-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-59-8><a id=__codelineno-59-8 name=__codelineno-59-8 href=#__codelineno-59-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-9><a id=__codelineno-59-9 name=__codelineno-59-9 href=#__codelineno-59-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-10><a id=__codelineno-59-10 name=__codelineno-59-10 href=#__codelineno-59-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-59-11><a id=__codelineno-59-11 name=__codelineno-59-11 href=#__codelineno-59-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-12><a id=__codelineno-59-12 name=__codelineno-59-12 href=#__codelineno-59-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-13><a id=__codelineno-59-13 name=__codelineno-59-13 href=#__codelineno-59-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-14><a id=__codelineno-59-14 name=__codelineno-59-14 href=#__codelineno-59-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-15><a id=__codelineno-59-15 name=__codelineno-59-15 href=#__codelineno-59-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-16><a id=__codelineno-59-16 name=__codelineno-59-16 href=#__codelineno-59-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-17><a id=__codelineno-59-17 name=__codelineno-59-17 href=#__codelineno-59-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-59-18><a id=__codelineno-59-18 name=__codelineno-59-18 href=#__codelineno-59-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-59-19><a id=__codelineno-59-19 name=__codelineno-59-19 href=#__codelineno-59-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.annual title=vectorbtpro.returns.accessors.ReturnsAccessor.annual>ReturnsAccessor.annual</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_annualized_return>get_annualized_return <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_annualized_return title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_annualized_return</span><span class=p>(</span>
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-60-3><a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-4><a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-60-5><a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-6><a id=__codelineno-60-6 name=__codelineno-60-6 href=#__codelineno-60-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-60-7><a id=__codelineno-60-7 name=__codelineno-60-7 href=#__codelineno-60-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-60-8><a id=__codelineno-60-8 name=__codelineno-60-8 href=#__codelineno-60-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-9><a id=__codelineno-60-9 name=__codelineno-60-9 href=#__codelineno-60-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-10><a id=__codelineno-60-10 name=__codelineno-60-10 href=#__codelineno-60-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-60-11><a id=__codelineno-60-11 name=__codelineno-60-11 href=#__codelineno-60-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-12><a id=__codelineno-60-12 name=__codelineno-60-12 href=#__codelineno-60-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-13><a id=__codelineno-60-13 name=__codelineno-60-13 href=#__codelineno-60-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-14><a id=__codelineno-60-14 name=__codelineno-60-14 href=#__codelineno-60-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-15><a id=__codelineno-60-15 name=__codelineno-60-15 href=#__codelineno-60-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-16><a id=__codelineno-60-16 name=__codelineno-60-16 href=#__codelineno-60-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-17><a id=__codelineno-60-17 name=__codelineno-60-17 href=#__codelineno-60-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-60-18><a id=__codelineno-60-18 name=__codelineno-60-18 href=#__codelineno-60-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-60-19><a id=__codelineno-60-19 name=__codelineno-60-19 href=#__codelineno-60-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.annualized title=vectorbtpro.returns.accessors.ReturnsAccessor.annualized>ReturnsAccessor.annualized</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_annualized_volatility>get_annualized_volatility <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_annualized_volatility title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-61-1><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_annualized_volatility</span><span class=p>(</span>
</span><span id=__span-61-2><a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-61-3><a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-4><a id=__codelineno-61-4 name=__codelineno-61-4 href=#__codelineno-61-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-61-5><a id=__codelineno-61-5 name=__codelineno-61-5 href=#__codelineno-61-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-6><a id=__codelineno-61-6 name=__codelineno-61-6 href=#__codelineno-61-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-61-7><a id=__codelineno-61-7 name=__codelineno-61-7 href=#__codelineno-61-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-61-8><a id=__codelineno-61-8 name=__codelineno-61-8 href=#__codelineno-61-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-9><a id=__codelineno-61-9 name=__codelineno-61-9 href=#__codelineno-61-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-10><a id=__codelineno-61-10 name=__codelineno-61-10 href=#__codelineno-61-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-61-11><a id=__codelineno-61-11 name=__codelineno-61-11 href=#__codelineno-61-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-12><a id=__codelineno-61-12 name=__codelineno-61-12 href=#__codelineno-61-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-13><a id=__codelineno-61-13 name=__codelineno-61-13 href=#__codelineno-61-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-14><a id=__codelineno-61-14 name=__codelineno-61-14 href=#__codelineno-61-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-15><a id=__codelineno-61-15 name=__codelineno-61-15 href=#__codelineno-61-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-16><a id=__codelineno-61-16 name=__codelineno-61-16 href=#__codelineno-61-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-17><a id=__codelineno-61-17 name=__codelineno-61-17 href=#__codelineno-61-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-61-18><a id=__codelineno-61-18 name=__codelineno-61-18 href=#__codelineno-61-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-61-19><a id=__codelineno-61-19 name=__codelineno-61-19 href=#__codelineno-61-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.annualized_volatility title=vectorbtpro.returns.accessors.ReturnsAccessor.annualized_volatility>ReturnsAccessor.annualized_volatility</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_asset_flow>get_asset_flow <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7148-L7237 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_asset_flow title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-62-1><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_asset_flow</span><span class=p>(</span>
</span><span id=__span-62-2><a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-62-3><a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-62-4><a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-62-5><a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-62-6><a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-62-7><a id=__codelineno-62-7 name=__codelineno-62-7 href=#__codelineno-62-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-62-8><a id=__codelineno-62-8 name=__codelineno-62-8 href=#__codelineno-62-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-62-9><a id=__codelineno-62-9 name=__codelineno-62-9 href=#__codelineno-62-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-62-10><a id=__codelineno-62-10 name=__codelineno-62-10 href=#__codelineno-62-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-62-11><a id=__codelineno-62-11 name=__codelineno-62-11 href=#__codelineno-62-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-62-12><a id=__codelineno-62-12 name=__codelineno-62-12 href=#__codelineno-62-12></a><span class=p>)</span>
</span></code></pre></div> <p>Get asset flow series per column.</p> <p>Returns the total transacted amount of assets at each bar.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Direction for filtering asset flows.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position title=vectorbtpro.portfolio.base.Portfolio.get_init_position>Portfolio.get_init_position</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Asset flow series representing the total transacted amount of assets.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.asset_flow_nb title=vectorbtpro.portfolio.nb.analysis.asset_flow_nb>asset_flow_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_asset_pnl>get_asset_pnl <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L9733-L9834 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_asset_pnl title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-63-1><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_asset_pnl</span><span class=p>(</span>
</span><span id=__span-63-2><a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a>    <span class=n>init_position_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-63-3><a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a>    <span class=n>asset_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-63-4><a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a>    <span class=n>cash_flow</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-63-5><a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-63-6><a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-63-7><a id=__codelineno-63-7 name=__codelineno-63-7 href=#__codelineno-63-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-63-8><a id=__codelineno-63-8 name=__codelineno-63-8 href=#__codelineno-63-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-63-9><a id=__codelineno-63-9 name=__codelineno-63-9 href=#__codelineno-63-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-63-10><a id=__codelineno-63-10 name=__codelineno-63-10 href=#__codelineno-63-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-63-11><a id=__codelineno-63-11 name=__codelineno-63-11 href=#__codelineno-63-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-63-12><a id=__codelineno-63-12 name=__codelineno-63-12 href=#__codelineno-63-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-63-13><a id=__codelineno-63-13 name=__codelineno-63-13 href=#__codelineno-63-13></a><span class=p>)</span>
</span></code></pre></div> <p>Return asset PnL series combining realized and unrealized profit and loss per column or group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_position_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial position value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position_value title=vectorbtpro.portfolio.base.Portfolio.get_init_position_value>Portfolio.get_init_position_value</a> if not provided.</p> </dd> <dt><strong><code>asset_value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset value series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_value title=vectorbtpro.portfolio.base.Portfolio.get_asset_value>Portfolio.get_asset_value</a> if not provided.</p> </dd> <dt><strong><code>cash_flow</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Cash flow series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_flow title=vectorbtpro.portfolio.base.Portfolio.get_cash_flow>Portfolio.get_cash_flow</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Wrapped asset PnL series combining both realized and unrealized profit and loss.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.asset_pnl_nb title=vectorbtpro.portfolio.nb.analysis.asset_pnl_nb>asset_pnl_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_asset_returns>get_asset_returns <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L9836-L9949 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_asset_returns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-64-1><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_asset_returns</span><span class=p>(</span>
</span><span id=__span-64-2><a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a>    <span class=n>init_position_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-64-3><a id=__codelineno-64-3 name=__codelineno-64-3 href=#__codelineno-64-3></a>    <span class=n>asset_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-64-4><a id=__codelineno-64-4 name=__codelineno-64-4 href=#__codelineno-64-4></a>    <span class=n>cash_flow</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-64-5><a id=__codelineno-64-5 name=__codelineno-64-5 href=#__codelineno-64-5></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-64-6><a id=__codelineno-64-6 name=__codelineno-64-6 href=#__codelineno-64-6></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-64-7><a id=__codelineno-64-7 name=__codelineno-64-7 href=#__codelineno-64-7></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-64-8><a id=__codelineno-64-8 name=__codelineno-64-8 href=#__codelineno-64-8></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-64-9><a id=__codelineno-64-9 name=__codelineno-64-9 href=#__codelineno-64-9></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-64-10><a id=__codelineno-64-10 name=__codelineno-64-10 href=#__codelineno-64-10></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-64-11><a id=__codelineno-64-11 name=__codelineno-64-11 href=#__codelineno-64-11></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-64-12><a id=__codelineno-64-12 name=__codelineno-64-12 href=#__codelineno-64-12></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-64-13><a id=__codelineno-64-13 name=__codelineno-64-13 href=#__codelineno-64-13></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-64-14><a id=__codelineno-64-14 name=__codelineno-64-14 href=#__codelineno-64-14></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-64-15><a id=__codelineno-64-15 name=__codelineno-64-15 href=#__codelineno-64-15></a><span class=p>)</span>
</span></code></pre></div> <p>Get asset return series per column or group.</p> <p>Computes returns based solely on cash flows and asset value, ignoring passive cash. The computed returns remain unaffected by the amount of cash available, even when it is <code>np.inf</code>, and are comparable to an all-in investment with zero cash held.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_position_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial position value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position_value title=vectorbtpro.portfolio.base.Portfolio.get_init_position_value>Portfolio.get_init_position_value</a> if not provided.</p> </dd> <dt><strong><code>asset_value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset value series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_value title=vectorbtpro.portfolio.base.Portfolio.get_asset_value>Portfolio.get_asset_value</a> if not provided.</p> </dd> <dt><strong><code>cash_flow</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Cash flow series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_flow title=vectorbtpro.portfolio.base.Portfolio.get_cash_flow>Portfolio.get_cash_flow</a> if not provided.</p> </dd> <dt><strong><code>log_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to compute logarithmic returns.</dd> <dt><strong><code>daily_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to convert computed returns to daily returns.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Computed asset return series.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.asset_returns_nb title=vectorbtpro.portfolio.nb.analysis.asset_returns_nb>asset_returns_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_asset_value>get_asset_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8780-L8882 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_asset_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-65-1><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_asset_value</span><span class=p>(</span>
</span><span id=__span-65-2><a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-65-3><a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a>    <span class=n>close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-65-4><a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a>    <span class=n>assets</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-65-5><a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-65-6><a id=__codelineno-65-6 name=__codelineno-65-6 href=#__codelineno-65-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-65-7><a id=__codelineno-65-7 name=__codelineno-65-7 href=#__codelineno-65-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-65-8><a id=__codelineno-65-8 name=__codelineno-65-8 href=#__codelineno-65-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-65-9><a id=__codelineno-65-9 name=__codelineno-65-9 href=#__codelineno-65-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-65-10><a id=__codelineno-65-10 name=__codelineno-65-10 href=#__codelineno-65-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-65-11><a id=__codelineno-65-11 name=__codelineno-65-11 href=#__codelineno-65-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-65-12><a id=__codelineno-65-12 name=__codelineno-65-12 href=#__codelineno-65-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-65-13><a id=__codelineno-65-13 name=__codelineno-65-13 href=#__codelineno-65-13></a><span class=p>)</span>
</span></code></pre></div> <p>Return asset value series per column or group.</p> <p>Computes asset values based on close prices and asset quantities. If grouping is active, grouped calculations are applied.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Specifies the asset direction.</p> <p>Typically "both" is used to consider all directions.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>close</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Series or DataFrame of close prices.</p> <p>If not provided, uses <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.filled_close title=vectorbtpro.portfolio.base.Portfolio.filled_close>Portfolio.filled_close</a> if available; otherwise, uses <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.close title=vectorbtpro.portfolio.base.Portfolio.close>Portfolio.close</a>.</p> </dd> <dt><strong><code>assets</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset positions.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_assets title=vectorbtpro.portfolio.base.Portfolio.get_assets>Portfolio.get_assets</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Asset value series per column or group.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.asset_value_nb title=vectorbtpro.portfolio.nb.analysis.asset_value_nb>asset_value_nb</a> regardless of grouping.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.asset_value_grouped_nb title=vectorbtpro.portfolio.nb.analysis.asset_value_grouped_nb>asset_value_grouped_nb</a> if grouping is enabled.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_assets>get_assets <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7239-L7328 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_assets title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-66-1><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_assets</span><span class=p>(</span>
</span><span id=__span-66-2><a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-66-3><a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a>    <span class=n>asset_flow</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-66-4><a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-66-5><a id=__codelineno-66-5 name=__codelineno-66-5 href=#__codelineno-66-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-66-6><a id=__codelineno-66-6 name=__codelineno-66-6 href=#__codelineno-66-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-66-7><a id=__codelineno-66-7 name=__codelineno-66-7 href=#__codelineno-66-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-66-8><a id=__codelineno-66-8 name=__codelineno-66-8 href=#__codelineno-66-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-66-9><a id=__codelineno-66-9 name=__codelineno-66-9 href=#__codelineno-66-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-66-10><a id=__codelineno-66-10 name=__codelineno-66-10 href=#__codelineno-66-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-66-11><a id=__codelineno-66-11 name=__codelineno-66-11 href=#__codelineno-66-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-66-12><a id=__codelineno-66-12 name=__codelineno-66-12 href=#__codelineno-66-12></a><span class=p>)</span>
</span></code></pre></div> <p>Get asset series per column.</p> <p>Returns the position (asset series) at each bar.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Direction for filtering asset data.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>asset_flow</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset flow series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_flow title=vectorbtpro.portfolio.base.Portfolio.get_asset_flow>Portfolio.get_asset_flow</a> with <code>direction="both"</code> if not provided.</p> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position title=vectorbtpro.portfolio.base.Portfolio.get_init_position>Portfolio.get_init_position</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Asset series representing the position at each bar.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.assets_nb title=vectorbtpro.portfolio.nb.analysis.assets_nb>assets_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_beta>get_beta <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_beta title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-67-1><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_beta</span><span class=p>(</span>
</span><span id=__span-67-2><a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-67-3><a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-4><a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-67-5><a id=__codelineno-67-5 name=__codelineno-67-5 href=#__codelineno-67-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-6><a id=__codelineno-67-6 name=__codelineno-67-6 href=#__codelineno-67-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-67-7><a id=__codelineno-67-7 name=__codelineno-67-7 href=#__codelineno-67-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-67-8><a id=__codelineno-67-8 name=__codelineno-67-8 href=#__codelineno-67-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-9><a id=__codelineno-67-9 name=__codelineno-67-9 href=#__codelineno-67-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-10><a id=__codelineno-67-10 name=__codelineno-67-10 href=#__codelineno-67-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-67-11><a id=__codelineno-67-11 name=__codelineno-67-11 href=#__codelineno-67-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-12><a id=__codelineno-67-12 name=__codelineno-67-12 href=#__codelineno-67-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-13><a id=__codelineno-67-13 name=__codelineno-67-13 href=#__codelineno-67-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-14><a id=__codelineno-67-14 name=__codelineno-67-14 href=#__codelineno-67-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-15><a id=__codelineno-67-15 name=__codelineno-67-15 href=#__codelineno-67-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-16><a id=__codelineno-67-16 name=__codelineno-67-16 href=#__codelineno-67-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-17><a id=__codelineno-67-17 name=__codelineno-67-17 href=#__codelineno-67-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-67-18><a id=__codelineno-67-18 name=__codelineno-67-18 href=#__codelineno-67-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-67-19><a id=__codelineno-67-19 name=__codelineno-67-19 href=#__codelineno-67-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.beta title=vectorbtpro.returns.accessors.ReturnsAccessor.beta>ReturnsAccessor.beta</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_bm_returns>get_bm_returns <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10399-L10481 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_bm_returns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-68-1><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_bm_returns</span><span class=p>(</span>
</span><span id=__span-68-2><a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a>    <span class=n>init_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-3><a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-4><a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a>    <span class=n>cash_deposits_as_input</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-5><a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a>    <span class=n>bm_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-6><a id=__codelineno-68-6 name=__codelineno-68-6 href=#__codelineno-68-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-68-7><a id=__codelineno-68-7 name=__codelineno-68-7 href=#__codelineno-68-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-68-8><a id=__codelineno-68-8 name=__codelineno-68-8 href=#__codelineno-68-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-9><a id=__codelineno-68-9 name=__codelineno-68-9 href=#__codelineno-68-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-10><a id=__codelineno-68-10 name=__codelineno-68-10 href=#__codelineno-68-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-68-11><a id=__codelineno-68-11 name=__codelineno-68-11 href=#__codelineno-68-11></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-12><a id=__codelineno-68-12 name=__codelineno-68-12 href=#__codelineno-68-12></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-13><a id=__codelineno-68-13 name=__codelineno-68-13 href=#__codelineno-68-13></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-14><a id=__codelineno-68-14 name=__codelineno-68-14 href=#__codelineno-68-14></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-68-15><a id=__codelineno-68-15 name=__codelineno-68-15 href=#__codelineno-68-15></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-68-16><a id=__codelineno-68-16 name=__codelineno-68-16 href=#__codelineno-68-16></a><span class=p>)</span>
</span></code></pre></div> <p>Get benchmark return series per column or group.</p> <p>Based on <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_bm_value title=vectorbtpro.portfolio.base.Portfolio.get_bm_value>Portfolio.get_bm_value</a> and <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_market_returns title=vectorbtpro.portfolio.base.Portfolio.get_market_returns>Portfolio.get_market_returns</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd>Initial portfolio value.</dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Cash deposits or withdrawals at the beginning of each bar.</dd> <dt><strong><code>cash_deposits_as_input</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd>Whether to add cash deposits to the input value.</dd> <dt><strong><code>bm_value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Benchmark value Series or DataFrame.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_bm_value title=vectorbtpro.portfolio.base.Portfolio.get_bm_value>Portfolio.get_bm_value</a> if not provided.</p> </dd> <dt><strong><code>log_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to compute logarithmic returns.</dd> <dt><strong><code>daily_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to convert computed returns to daily returns.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[SeriesFrame]</code></dt> <dd>Benchmark return series per column or group, or None if benchmarking is disabled.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_bm_value>get_bm_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10322-L10397 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_bm_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-69-1><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_bm_value</span><span class=p>(</span>
</span><span id=__span-69-2><a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a>    <span class=n>bm_close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-69-3><a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a>    <span class=n>init_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-69-4><a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-69-5><a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-69-6><a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-69-7><a id=__codelineno-69-7 name=__codelineno-69-7 href=#__codelineno-69-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-69-8><a id=__codelineno-69-8 name=__codelineno-69-8 href=#__codelineno-69-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-69-9><a id=__codelineno-69-9 name=__codelineno-69-9 href=#__codelineno-69-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-69-10><a id=__codelineno-69-10 name=__codelineno-69-10 href=#__codelineno-69-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-69-11><a id=__codelineno-69-11 name=__codelineno-69-11 href=#__codelineno-69-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-69-12><a id=__codelineno-69-12 name=__codelineno-69-12 href=#__codelineno-69-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-69-13><a id=__codelineno-69-13 name=__codelineno-69-13 href=#__codelineno-69-13></a><span class=p>)</span>
</span></code></pre></div> <p>Return benchmark value series per column or group.</p> <p>Based on <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.bm_close title=vectorbtpro.portfolio.base.Portfolio.bm_close>Portfolio.bm_close</a> and <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_market_value title=vectorbtpro.portfolio.base.Portfolio.get_market_value>Portfolio.get_market_value</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>bm_close</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Benchmark close price data.</p> <p>If not provided, uses <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.filled_bm_close title=vectorbtpro.portfolio.base.Portfolio.filled_bm_close>Portfolio.filled_bm_close</a> if available; otherwise, uses <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.bm_close title=vectorbtpro.portfolio.base.Portfolio.bm_close>Portfolio.bm_close</a>.</p> </dd> <dt><strong><code>init_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_value title=vectorbtpro.portfolio.base.Portfolio.get_init_value>Portfolio.get_init_value</a> with <code>group_by=False</code> if not provided.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_deposits title=vectorbtpro.portfolio.base.Portfolio.get_cash_deposits>Portfolio.get_cash_deposits</a> with <code>split_shared=True</code>, <code>keep_flex=True</code>, and <code>group_by=False</code> or 0 if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[SeriesFrame]</code></dt> <dd>Wrapped series of benchmark values per column or group, or None if benchmarking is disabled.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_calmar_ratio>get_calmar_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_calmar_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-70-1><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_calmar_ratio</span><span class=p>(</span>
</span><span id=__span-70-2><a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-70-3><a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-4><a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-70-5><a id=__codelineno-70-5 name=__codelineno-70-5 href=#__codelineno-70-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-6><a id=__codelineno-70-6 name=__codelineno-70-6 href=#__codelineno-70-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-70-7><a id=__codelineno-70-7 name=__codelineno-70-7 href=#__codelineno-70-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-70-8><a id=__codelineno-70-8 name=__codelineno-70-8 href=#__codelineno-70-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-9><a id=__codelineno-70-9 name=__codelineno-70-9 href=#__codelineno-70-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-10><a id=__codelineno-70-10 name=__codelineno-70-10 href=#__codelineno-70-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-70-11><a id=__codelineno-70-11 name=__codelineno-70-11 href=#__codelineno-70-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-12><a id=__codelineno-70-12 name=__codelineno-70-12 href=#__codelineno-70-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-13><a id=__codelineno-70-13 name=__codelineno-70-13 href=#__codelineno-70-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-14><a id=__codelineno-70-14 name=__codelineno-70-14 href=#__codelineno-70-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-15><a id=__codelineno-70-15 name=__codelineno-70-15 href=#__codelineno-70-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-16><a id=__codelineno-70-16 name=__codelineno-70-16 href=#__codelineno-70-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-17><a id=__codelineno-70-17 name=__codelineno-70-17 href=#__codelineno-70-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-70-18><a id=__codelineno-70-18 name=__codelineno-70-18 href=#__codelineno-70-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-70-19><a id=__codelineno-70-19 name=__codelineno-70-19 href=#__codelineno-70-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.calmar_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.calmar_ratio>ReturnsAccessor.calmar_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_capture_ratio>get_capture_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_capture_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-71-1><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_capture_ratio</span><span class=p>(</span>
</span><span id=__span-71-2><a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-71-3><a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-4><a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-71-5><a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-6><a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-71-7><a id=__codelineno-71-7 name=__codelineno-71-7 href=#__codelineno-71-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-71-8><a id=__codelineno-71-8 name=__codelineno-71-8 href=#__codelineno-71-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-9><a id=__codelineno-71-9 name=__codelineno-71-9 href=#__codelineno-71-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-10><a id=__codelineno-71-10 name=__codelineno-71-10 href=#__codelineno-71-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-71-11><a id=__codelineno-71-11 name=__codelineno-71-11 href=#__codelineno-71-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-12><a id=__codelineno-71-12 name=__codelineno-71-12 href=#__codelineno-71-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-13><a id=__codelineno-71-13 name=__codelineno-71-13 href=#__codelineno-71-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-14><a id=__codelineno-71-14 name=__codelineno-71-14 href=#__codelineno-71-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-15><a id=__codelineno-71-15 name=__codelineno-71-15 href=#__codelineno-71-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-16><a id=__codelineno-71-16 name=__codelineno-71-16 href=#__codelineno-71-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-17><a id=__codelineno-71-17 name=__codelineno-71-17 href=#__codelineno-71-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-71-18><a id=__codelineno-71-18 name=__codelineno-71-18 href=#__codelineno-71-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-71-19><a id=__codelineno-71-19 name=__codelineno-71-19 href=#__codelineno-71-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.capture_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.capture_ratio>ReturnsAccessor.capture_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_cash>get_cash <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8379-L8489 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_cash title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-72-1><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_cash</span><span class=p>(</span>
</span><span id=__span-72-2><a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a>    <span class=n>free</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-72-3><a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a>    <span class=n>init_cash</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-72-4><a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-72-5><a id=__codelineno-72-5 name=__codelineno-72-5 href=#__codelineno-72-5></a>    <span class=n>cash_flow</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-72-6><a id=__codelineno-72-6 name=__codelineno-72-6 href=#__codelineno-72-6></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-72-7><a id=__codelineno-72-7 name=__codelineno-72-7 href=#__codelineno-72-7></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-72-8><a id=__codelineno-72-8 name=__codelineno-72-8 href=#__codelineno-72-8></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-72-9><a id=__codelineno-72-9 name=__codelineno-72-9 href=#__codelineno-72-9></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-72-10><a id=__codelineno-72-10 name=__codelineno-72-10 href=#__codelineno-72-10></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-72-11><a id=__codelineno-72-11 name=__codelineno-72-11 href=#__codelineno-72-11></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-72-12><a id=__codelineno-72-12 name=__codelineno-72-12 href=#__codelineno-72-12></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-72-13><a id=__codelineno-72-13 name=__codelineno-72-13 href=#__codelineno-72-13></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-72-14><a id=__codelineno-72-14 name=__codelineno-72-14 href=#__codelineno-72-14></a><span class=p>)</span>
</span></code></pre></div> <p>Get cash balance series per column or group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>free</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to use free cash flow.</dd> <dt><strong><code>init_cash</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial capital.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_cash title=vectorbtpro.portfolio.base.Portfolio.get_init_cash>Portfolio.get_init_cash</a> if not provided.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_deposits title=vectorbtpro.portfolio.base.Portfolio.get_cash_deposits>Portfolio.get_cash_deposits</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>cash_flow</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Cash flow series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_flow title=vectorbtpro.portfolio.base.Portfolio.get_cash_flow>Portfolio.get_cash_flow</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Wrapped series with the cash balance.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.cash_nb title=vectorbtpro.portfolio.nb.analysis.cash_nb>cash_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_cash_deposits>get_cash_deposits <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7732-L7851 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_cash_deposits title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-73-1><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_cash_deposits</span><span class=p>(</span>
</span><span id=__span-73-2><a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a>    <span class=n>cash_deposits_raw</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-73-3><a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-73-4><a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a>    <span class=n>split_shared</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-73-5><a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-73-6><a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-73-7><a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-73-8><a id=__codelineno-73-8 name=__codelineno-73-8 href=#__codelineno-73-8></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-73-9><a id=__codelineno-73-9 name=__codelineno-73-9 href=#__codelineno-73-9></a>    <span class=n>keep_flex</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-73-10><a id=__codelineno-73-10 name=__codelineno-73-10 href=#__codelineno-73-10></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-73-11><a id=__codelineno-73-11 name=__codelineno-73-11 href=#__codelineno-73-11></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-73-12><a id=__codelineno-73-12 name=__codelineno-73-12 href=#__codelineno-73-12></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-73-13><a id=__codelineno-73-13 name=__codelineno-73-13 href=#__codelineno-73-13></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-73-14><a id=__codelineno-73-14 name=__codelineno-73-14 href=#__codelineno-73-14></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-73-15><a id=__codelineno-73-15 name=__codelineno-73-15 href=#__codelineno-73-15></a><span class=p>)</span>
</span></code></pre></div> <p>Get cash deposit series per column or group.</p> <p>Calculates cash deposits per column or group, applying grouping and simulation period adjustments. Set <code>keep_flex</code> to True to preserve a format suitable for flexible indexing, which consumes less memory.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>cash_deposits_raw</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Raw cash deposit values.</p> <p>Defaults to <code>Portfolio._cash_deposits</code> or 0 if not provided.</p> </dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Flag indicating whether cash is shared among assets of the same group.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.cash_sharing title=vectorbtpro.portfolio.base.Portfolio.cash_sharing>Portfolio.cash_sharing</a> if not provided.</p> </dd> <dt><strong><code>split_shared</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to split shared cash equally among columns in a group.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> if not provided.</p> <p>If False, weights are ignored.</p> </dd> <dt><strong><code>keep_flex</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to preserve the flexible array structure.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Union[ArrayLike, MaybeSeries]</code></dt> <dd>Cash deposit series, either as a raw array or a wrapped series.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.cash_deposits_grouped_nb title=vectorbtpro.portfolio.nb.analysis.cash_deposits_grouped_nb>cash_deposits_grouped_nb</a> if grouping is enabled.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.cash_deposits_nb title=vectorbtpro.portfolio.nb.analysis.cash_deposits_nb>cash_deposits_nb</a> if grouping is disabled.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_cash_earnings>get_cash_earnings <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7931-L8034 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_cash_earnings title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-74-1><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_cash_earnings</span><span class=p>(</span>
</span><span id=__span-74-2><a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a>    <span class=n>cash_earnings_raw</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-74-3><a id=__codelineno-74-3 name=__codelineno-74-3 href=#__codelineno-74-3></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-74-4><a id=__codelineno-74-4 name=__codelineno-74-4 href=#__codelineno-74-4></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-74-5><a id=__codelineno-74-5 name=__codelineno-74-5 href=#__codelineno-74-5></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-74-6><a id=__codelineno-74-6 name=__codelineno-74-6 href=#__codelineno-74-6></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-74-7><a id=__codelineno-74-7 name=__codelineno-74-7 href=#__codelineno-74-7></a>    <span class=n>keep_flex</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-74-8><a id=__codelineno-74-8 name=__codelineno-74-8 href=#__codelineno-74-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-74-9><a id=__codelineno-74-9 name=__codelineno-74-9 href=#__codelineno-74-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-74-10><a id=__codelineno-74-10 name=__codelineno-74-10 href=#__codelineno-74-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-74-11><a id=__codelineno-74-11 name=__codelineno-74-11 href=#__codelineno-74-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-74-12><a id=__codelineno-74-12 name=__codelineno-74-12 href=#__codelineno-74-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-74-13><a id=__codelineno-74-13 name=__codelineno-74-13 href=#__codelineno-74-13></a><span class=p>)</span>
</span></code></pre></div> <p>Get cash earnings series per column or group.</p> <p>Calculates cash earnings based on provided raw earnings data, with grouping and simulation period adjustments. Set <code>keep_flex</code> to True to preserve a format suitable for flexible indexing, which consumes less memory.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>cash_earnings_raw</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Raw cash earnings data.</p> <p>Defaults to <code>Portfolio._cash_earnings</code> or 0 if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> if not provided.</p> <p>If False, weights are ignored.</p> </dd> <dt><strong><code>keep_flex</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to preserve the flexible array structure.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Union[ArrayLike, MaybeSeries]</code></dt> <dd>Cash earnings series, either as a raw array or a wrapped series.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.cash_earnings_grouped_nb title=vectorbtpro.portfolio.nb.analysis.cash_earnings_grouped_nb>cash_earnings_grouped_nb</a> if grouping is enabled.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.cash_earnings_nb title=vectorbtpro.portfolio.nb.analysis.cash_earnings_nb>cash_earnings_nb</a> if grouping is disabled.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_cash_flow>get_cash_flow <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8104-L8227 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_cash_flow title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-75-1><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_cash_flow</span><span class=p>(</span>
</span><span id=__span-75-2><a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a>    <span class=n>free</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-75-3><a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-75-4><a id=__codelineno-75-4 name=__codelineno-75-4 href=#__codelineno-75-4></a>    <span class=n>cash_earnings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-75-5><a id=__codelineno-75-5 name=__codelineno-75-5 href=#__codelineno-75-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-75-6><a id=__codelineno-75-6 name=__codelineno-75-6 href=#__codelineno-75-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-75-7><a id=__codelineno-75-7 name=__codelineno-75-7 href=#__codelineno-75-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-75-8><a id=__codelineno-75-8 name=__codelineno-75-8 href=#__codelineno-75-8></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-75-9><a id=__codelineno-75-9 name=__codelineno-75-9 href=#__codelineno-75-9></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-75-10><a id=__codelineno-75-10 name=__codelineno-75-10 href=#__codelineno-75-10></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-75-11><a id=__codelineno-75-11 name=__codelineno-75-11 href=#__codelineno-75-11></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-75-12><a id=__codelineno-75-12 name=__codelineno-75-12 href=#__codelineno-75-12></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-75-13><a id=__codelineno-75-13 name=__codelineno-75-13 href=#__codelineno-75-13></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-75-14><a id=__codelineno-75-14 name=__codelineno-75-14 href=#__codelineno-75-14></a><span class=p>)</span>
</span></code></pre></div> <p>Get cash flow series per column or group.</p> <p>Use <code>free</code> to return the flow of free cash that does not exceed the initial level since any operation incurs a cost.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>free</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to use free cash flow.</dd> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>cash_earnings</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash earnings or losses at the end of each bar.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_earnings title=vectorbtpro.portfolio.base.Portfolio.get_cash_earnings>Portfolio.get_cash_earnings</a> with <code>keep_flex=True</code> and <code>group_by=False</code> or 0 if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> if not provided.</p> <p>If False, weights are ignored.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Wrapped cash flow series per column or group.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.cash_flow_nb title=vectorbtpro.portfolio.nb.analysis.cash_flow_nb>cash_flow_nb</a> regardless of grouping.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.cash_flow_grouped_nb title=vectorbtpro.portfolio.nb.analysis.cash_flow_grouped_nb>cash_flow_grouped_nb</a> if grouping is enabled.</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Does not include cash deposits, but includes earnings.</p> <p>Using <code>free</code> yields the same result as during simulation only when <code>leverage=1</code>. For other cases, prefill the state instead of reconstructing it.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_cond_value_at_risk>get_cond_value_at_risk <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_cond_value_at_risk title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-76-1><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_cond_value_at_risk</span><span class=p>(</span>
</span><span id=__span-76-2><a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-76-3><a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-4><a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-76-5><a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-6><a id=__codelineno-76-6 name=__codelineno-76-6 href=#__codelineno-76-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-76-7><a id=__codelineno-76-7 name=__codelineno-76-7 href=#__codelineno-76-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-76-8><a id=__codelineno-76-8 name=__codelineno-76-8 href=#__codelineno-76-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-9><a id=__codelineno-76-9 name=__codelineno-76-9 href=#__codelineno-76-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-10><a id=__codelineno-76-10 name=__codelineno-76-10 href=#__codelineno-76-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-76-11><a id=__codelineno-76-11 name=__codelineno-76-11 href=#__codelineno-76-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-12><a id=__codelineno-76-12 name=__codelineno-76-12 href=#__codelineno-76-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-13><a id=__codelineno-76-13 name=__codelineno-76-13 href=#__codelineno-76-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-14><a id=__codelineno-76-14 name=__codelineno-76-14 href=#__codelineno-76-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-15><a id=__codelineno-76-15 name=__codelineno-76-15 href=#__codelineno-76-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-16><a id=__codelineno-76-16 name=__codelineno-76-16 href=#__codelineno-76-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-17><a id=__codelineno-76-17 name=__codelineno-76-17 href=#__codelineno-76-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-76-18><a id=__codelineno-76-18 name=__codelineno-76-18 href=#__codelineno-76-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-76-19><a id=__codelineno-76-19 name=__codelineno-76-19 href=#__codelineno-76-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.cond_value_at_risk title=vectorbtpro.returns.accessors.ReturnsAccessor.cond_value_at_risk>ReturnsAccessor.cond_value_at_risk</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_cumulative_returns>get_cumulative_returns <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_cumulative_returns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-77-1><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_cumulative_returns</span><span class=p>(</span>
</span><span id=__span-77-2><a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-77-3><a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-4><a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-77-5><a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-6><a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-77-7><a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-77-8><a id=__codelineno-77-8 name=__codelineno-77-8 href=#__codelineno-77-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-9><a id=__codelineno-77-9 name=__codelineno-77-9 href=#__codelineno-77-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-10><a id=__codelineno-77-10 name=__codelineno-77-10 href=#__codelineno-77-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-77-11><a id=__codelineno-77-11 name=__codelineno-77-11 href=#__codelineno-77-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-12><a id=__codelineno-77-12 name=__codelineno-77-12 href=#__codelineno-77-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-13><a id=__codelineno-77-13 name=__codelineno-77-13 href=#__codelineno-77-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-14><a id=__codelineno-77-14 name=__codelineno-77-14 href=#__codelineno-77-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-15><a id=__codelineno-77-15 name=__codelineno-77-15 href=#__codelineno-77-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-16><a id=__codelineno-77-16 name=__codelineno-77-16 href=#__codelineno-77-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-17><a id=__codelineno-77-17 name=__codelineno-77-17 href=#__codelineno-77-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-77-18><a id=__codelineno-77-18 name=__codelineno-77-18 href=#__codelineno-77-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-77-19><a id=__codelineno-77-19 name=__codelineno-77-19 href=#__codelineno-77-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.cumulative title=vectorbtpro.returns.accessors.ReturnsAccessor.cumulative>ReturnsAccessor.cumulative</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_daily_returns>get_daily_returns <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_daily_returns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-78-1><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_daily_returns</span><span class=p>(</span>
</span><span id=__span-78-2><a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-78-3><a id=__codelineno-78-3 name=__codelineno-78-3 href=#__codelineno-78-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-4><a id=__codelineno-78-4 name=__codelineno-78-4 href=#__codelineno-78-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-78-5><a id=__codelineno-78-5 name=__codelineno-78-5 href=#__codelineno-78-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-6><a id=__codelineno-78-6 name=__codelineno-78-6 href=#__codelineno-78-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-78-7><a id=__codelineno-78-7 name=__codelineno-78-7 href=#__codelineno-78-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-78-8><a id=__codelineno-78-8 name=__codelineno-78-8 href=#__codelineno-78-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-9><a id=__codelineno-78-9 name=__codelineno-78-9 href=#__codelineno-78-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-10><a id=__codelineno-78-10 name=__codelineno-78-10 href=#__codelineno-78-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-78-11><a id=__codelineno-78-11 name=__codelineno-78-11 href=#__codelineno-78-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-12><a id=__codelineno-78-12 name=__codelineno-78-12 href=#__codelineno-78-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-13><a id=__codelineno-78-13 name=__codelineno-78-13 href=#__codelineno-78-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-14><a id=__codelineno-78-14 name=__codelineno-78-14 href=#__codelineno-78-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-15><a id=__codelineno-78-15 name=__codelineno-78-15 href=#__codelineno-78-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-16><a id=__codelineno-78-16 name=__codelineno-78-16 href=#__codelineno-78-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-17><a id=__codelineno-78-17 name=__codelineno-78-17 href=#__codelineno-78-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-78-18><a id=__codelineno-78-18 name=__codelineno-78-18 href=#__codelineno-78-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-78-19><a id=__codelineno-78-19 name=__codelineno-78-19 href=#__codelineno-78-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.daily title=vectorbtpro.returns.accessors.ReturnsAccessor.daily>ReturnsAccessor.daily</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_deflated_sharpe_ratio>get_deflated_sharpe_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_deflated_sharpe_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-79-1><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_deflated_sharpe_ratio</span><span class=p>(</span>
</span><span id=__span-79-2><a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-79-3><a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-4><a id=__codelineno-79-4 name=__codelineno-79-4 href=#__codelineno-79-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-79-5><a id=__codelineno-79-5 name=__codelineno-79-5 href=#__codelineno-79-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-6><a id=__codelineno-79-6 name=__codelineno-79-6 href=#__codelineno-79-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-79-7><a id=__codelineno-79-7 name=__codelineno-79-7 href=#__codelineno-79-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-79-8><a id=__codelineno-79-8 name=__codelineno-79-8 href=#__codelineno-79-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-9><a id=__codelineno-79-9 name=__codelineno-79-9 href=#__codelineno-79-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-10><a id=__codelineno-79-10 name=__codelineno-79-10 href=#__codelineno-79-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-79-11><a id=__codelineno-79-11 name=__codelineno-79-11 href=#__codelineno-79-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-12><a id=__codelineno-79-12 name=__codelineno-79-12 href=#__codelineno-79-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-13><a id=__codelineno-79-13 name=__codelineno-79-13 href=#__codelineno-79-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-14><a id=__codelineno-79-14 name=__codelineno-79-14 href=#__codelineno-79-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-15><a id=__codelineno-79-15 name=__codelineno-79-15 href=#__codelineno-79-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-16><a id=__codelineno-79-16 name=__codelineno-79-16 href=#__codelineno-79-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-17><a id=__codelineno-79-17 name=__codelineno-79-17 href=#__codelineno-79-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-79-18><a id=__codelineno-79-18 name=__codelineno-79-18 href=#__codelineno-79-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-79-19><a id=__codelineno-79-19 name=__codelineno-79-19 href=#__codelineno-79-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.deflated_sharpe_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.deflated_sharpe_ratio>ReturnsAccessor.deflated_sharpe_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_down_capture_ratio>get_down_capture_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_down_capture_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-80-1><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_down_capture_ratio</span><span class=p>(</span>
</span><span id=__span-80-2><a id=__codelineno-80-2 name=__codelineno-80-2 href=#__codelineno-80-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-80-3><a id=__codelineno-80-3 name=__codelineno-80-3 href=#__codelineno-80-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-4><a id=__codelineno-80-4 name=__codelineno-80-4 href=#__codelineno-80-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-80-5><a id=__codelineno-80-5 name=__codelineno-80-5 href=#__codelineno-80-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-6><a id=__codelineno-80-6 name=__codelineno-80-6 href=#__codelineno-80-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-80-7><a id=__codelineno-80-7 name=__codelineno-80-7 href=#__codelineno-80-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-80-8><a id=__codelineno-80-8 name=__codelineno-80-8 href=#__codelineno-80-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-9><a id=__codelineno-80-9 name=__codelineno-80-9 href=#__codelineno-80-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-10><a id=__codelineno-80-10 name=__codelineno-80-10 href=#__codelineno-80-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-80-11><a id=__codelineno-80-11 name=__codelineno-80-11 href=#__codelineno-80-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-12><a id=__codelineno-80-12 name=__codelineno-80-12 href=#__codelineno-80-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-13><a id=__codelineno-80-13 name=__codelineno-80-13 href=#__codelineno-80-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-14><a id=__codelineno-80-14 name=__codelineno-80-14 href=#__codelineno-80-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-15><a id=__codelineno-80-15 name=__codelineno-80-15 href=#__codelineno-80-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-16><a id=__codelineno-80-16 name=__codelineno-80-16 href=#__codelineno-80-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-17><a id=__codelineno-80-17 name=__codelineno-80-17 href=#__codelineno-80-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-80-18><a id=__codelineno-80-18 name=__codelineno-80-18 href=#__codelineno-80-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-80-19><a id=__codelineno-80-19 name=__codelineno-80-19 href=#__codelineno-80-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.down_capture_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.down_capture_ratio>ReturnsAccessor.down_capture_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_downside_risk>get_downside_risk <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_downside_risk title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-81-1><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_downside_risk</span><span class=p>(</span>
</span><span id=__span-81-2><a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-81-3><a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-4><a id=__codelineno-81-4 name=__codelineno-81-4 href=#__codelineno-81-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-81-5><a id=__codelineno-81-5 name=__codelineno-81-5 href=#__codelineno-81-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-6><a id=__codelineno-81-6 name=__codelineno-81-6 href=#__codelineno-81-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-81-7><a id=__codelineno-81-7 name=__codelineno-81-7 href=#__codelineno-81-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-81-8><a id=__codelineno-81-8 name=__codelineno-81-8 href=#__codelineno-81-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-9><a id=__codelineno-81-9 name=__codelineno-81-9 href=#__codelineno-81-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-10><a id=__codelineno-81-10 name=__codelineno-81-10 href=#__codelineno-81-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-81-11><a id=__codelineno-81-11 name=__codelineno-81-11 href=#__codelineno-81-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-12><a id=__codelineno-81-12 name=__codelineno-81-12 href=#__codelineno-81-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-13><a id=__codelineno-81-13 name=__codelineno-81-13 href=#__codelineno-81-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-14><a id=__codelineno-81-14 name=__codelineno-81-14 href=#__codelineno-81-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-15><a id=__codelineno-81-15 name=__codelineno-81-15 href=#__codelineno-81-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-16><a id=__codelineno-81-16 name=__codelineno-81-16 href=#__codelineno-81-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-17><a id=__codelineno-81-17 name=__codelineno-81-17 href=#__codelineno-81-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-81-18><a id=__codelineno-81-18 name=__codelineno-81-18 href=#__codelineno-81-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-81-19><a id=__codelineno-81-19 name=__codelineno-81-19 href=#__codelineno-81-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.downside_risk title=vectorbtpro.returns.accessors.ReturnsAccessor.downside_risk>ReturnsAccessor.downside_risk</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_drawdown>get_drawdown <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_drawdown title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-82-1><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_drawdown</span><span class=p>(</span>
</span><span id=__span-82-2><a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-82-3><a id=__codelineno-82-3 name=__codelineno-82-3 href=#__codelineno-82-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-4><a id=__codelineno-82-4 name=__codelineno-82-4 href=#__codelineno-82-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-82-5><a id=__codelineno-82-5 name=__codelineno-82-5 href=#__codelineno-82-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-6><a id=__codelineno-82-6 name=__codelineno-82-6 href=#__codelineno-82-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-82-7><a id=__codelineno-82-7 name=__codelineno-82-7 href=#__codelineno-82-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-82-8><a id=__codelineno-82-8 name=__codelineno-82-8 href=#__codelineno-82-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-9><a id=__codelineno-82-9 name=__codelineno-82-9 href=#__codelineno-82-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-10><a id=__codelineno-82-10 name=__codelineno-82-10 href=#__codelineno-82-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-82-11><a id=__codelineno-82-11 name=__codelineno-82-11 href=#__codelineno-82-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-12><a id=__codelineno-82-12 name=__codelineno-82-12 href=#__codelineno-82-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-13><a id=__codelineno-82-13 name=__codelineno-82-13 href=#__codelineno-82-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-14><a id=__codelineno-82-14 name=__codelineno-82-14 href=#__codelineno-82-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-15><a id=__codelineno-82-15 name=__codelineno-82-15 href=#__codelineno-82-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-16><a id=__codelineno-82-16 name=__codelineno-82-16 href=#__codelineno-82-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-17><a id=__codelineno-82-17 name=__codelineno-82-17 href=#__codelineno-82-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-82-18><a id=__codelineno-82-18 name=__codelineno-82-18 href=#__codelineno-82-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-82-19><a id=__codelineno-82-19 name=__codelineno-82-19 href=#__codelineno-82-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.drawdown title=vectorbtpro.returns.accessors.ReturnsAccessor.drawdown>ReturnsAccessor.drawdown</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_drawdowns>get_drawdowns <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7018-L7085 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_drawdowns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-83-1><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_drawdowns</span><span class=p>(</span>
</span><span id=__span-83-2><a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a>    <span class=n>value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-83-3><a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-83-4><a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-83-5><a id=__codelineno-83-5 name=__codelineno-83-5 href=#__codelineno-83-5></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-83-6><a id=__codelineno-83-6 name=__codelineno-83-6 href=#__codelineno-83-6></a>    <span class=n>drawdowns_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-83-7><a id=__codelineno-83-7 name=__codelineno-83-7 href=#__codelineno-83-7></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-83-8><a id=__codelineno-83-8 name=__codelineno-83-8 href=#__codelineno-83-8></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-83-9><a id=__codelineno-83-9 name=__codelineno-83-9 href=#__codelineno-83-9></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-83-10><a id=__codelineno-83-10 name=__codelineno-83-10 href=#__codelineno-83-10></a><span class=p>)</span>
</span></code></pre></div> <p>Return drawdown records computed from portfolio value.</p> <p>The drawdown records are calculated using the provided price series through the <a href=https://vectorbt.pro/pvt_41531c19/api/generic/drawdowns/#vectorbtpro.generic.drawdowns.Drawdowns.from_price title=vectorbtpro.generic.drawdowns.Drawdowns.from_price>Drawdowns.from_price</a> method of the designated drawdowns class.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Portfolio value series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_value title=vectorbtpro.portfolio.base.Portfolio.get_value>Portfolio.get_value</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>drawdowns_cls</code></strong> :&ensp;<code>Optional[type]</code></dt> <dd> <p>Class used for wrapping drawdown records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.drawdowns_cls title=vectorbtpro.portfolio.base.Portfolio.drawdowns_cls>Portfolio.drawdowns_cls</a> if not provided.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/drawdowns/#vectorbtpro.generic.drawdowns.Drawdowns.from_price title=vectorbtpro.generic.drawdowns.Drawdowns.from_price>Drawdowns.from_price</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Drawdowns</code></dt> <dd>Drawdown records computed from the provided price series.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_entry_trades>get_entry_trades <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6489-L6574 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_entry_trades title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-84-1><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_entry_trades</span><span class=p>(</span>
</span><span id=__span-84-2><a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-84-3><a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-84-4><a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-84-5><a id=__codelineno-84-5 name=__codelineno-84-5 href=#__codelineno-84-5></a>    <span class=n>entry_trades_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-84-6><a id=__codelineno-84-6 name=__codelineno-84-6 href=#__codelineno-84-6></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-84-7><a id=__codelineno-84-7 name=__codelineno-84-7 href=#__codelineno-84-7></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-84-8><a id=__codelineno-84-8 name=__codelineno-84-8 href=#__codelineno-84-8></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-84-9><a id=__codelineno-84-9 name=__codelineno-84-9 href=#__codelineno-84-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-84-10><a id=__codelineno-84-10 name=__codelineno-84-10 href=#__codelineno-84-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-84-11><a id=__codelineno-84-11 name=__codelineno-84-11 href=#__codelineno-84-11></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-84-12><a id=__codelineno-84-12 name=__codelineno-84-12 href=#__codelineno-84-12></a><span class=p>)</span>
</span></code></pre></div> <p>Return entry trade records.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position title=vectorbtpro.portfolio.base.Portfolio.get_init_position>Portfolio.get_init_position</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_price title=vectorbtpro.portfolio.base.Portfolio.get_init_price>Portfolio.get_init_price</a> with <code>keep_flex=True</code> or NaN if not provided.</p> </dd> <dt><strong><code>entry_trades_cls</code></strong> :&ensp;<code>Optional[type]</code></dt> <dd> <p>Class used for wrapping entry trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.entry_trades_cls title=vectorbtpro.portfolio.base.Portfolio.entry_trades_cls>Portfolio.entry_trades_cls</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.EntryTrades.from_orders title=vectorbtpro.portfolio.trades.EntryTrades.from_orders>EntryTrades.from_orders</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>EntryTrades</code></dt> <dd>Instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.EntryTrades title=vectorbtpro.portfolio.trades.EntryTrades>EntryTrades</a> with entry trade records.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_exit_trades>get_exit_trades <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6576-L6661 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_exit_trades title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-85-1><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_exit_trades</span><span class=p>(</span>
</span><span id=__span-85-2><a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-85-3><a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-85-4><a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-85-5><a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a>    <span class=n>exit_trades_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-85-6><a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-85-7><a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-85-8><a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-85-9><a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-85-10><a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-85-11><a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-85-12><a id=__codelineno-85-12 name=__codelineno-85-12 href=#__codelineno-85-12></a><span class=p>)</span>
</span></code></pre></div> <p>Return exit trade records.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position title=vectorbtpro.portfolio.base.Portfolio.get_init_position>Portfolio.get_init_position</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_price title=vectorbtpro.portfolio.base.Portfolio.get_init_price>Portfolio.get_init_price</a> with <code>keep_flex=True</code> or NaN if not provided.</p> </dd> <dt><strong><code>exit_trades_cls</code></strong> :&ensp;<code>Optional[type]</code></dt> <dd> <p>Class used for wrapping exit trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.exit_trades_cls title=vectorbtpro.portfolio.base.Portfolio.exit_trades_cls>Portfolio.exit_trades_cls</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.ExitTrades.from_orders title=vectorbtpro.portfolio.trades.ExitTrades.from_orders>ExitTrades.from_orders</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>ExitTrades</code></dt> <dd>Instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.ExitTrades title=vectorbtpro.portfolio.trades.ExitTrades>ExitTrades</a> with exit trade records.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_filled_bm_close>get_filled_bm_close <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5960-L6009 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_filled_bm_close title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-86-1><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_filled_bm_close</span><span class=p>(</span>
</span><span id=__span-86-2><a id=__codelineno-86-2 name=__codelineno-86-2 href=#__codelineno-86-2></a>    <span class=n>bm_close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-86-3><a id=__codelineno-86-3 name=__codelineno-86-3 href=#__codelineno-86-3></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-86-4><a id=__codelineno-86-4 name=__codelineno-86-4 href=#__codelineno-86-4></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-86-5><a id=__codelineno-86-5 name=__codelineno-86-5 href=#__codelineno-86-5></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-86-6><a id=__codelineno-86-6 name=__codelineno-86-6 href=#__codelineno-86-6></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-86-7><a id=__codelineno-86-7 name=__codelineno-86-7 href=#__codelineno-86-7></a><span class=p>)</span>
</span></code></pre></div> <p>Get forward and backward filled benchmark close price.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>bm_close</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Benchmark price data to fill.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.bm_close title=vectorbtpro.portfolio.base.Portfolio.bm_close>Portfolio.bm_close</a> if not provided.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Union[None, bool, SeriesFrame]</code></dt> <dd>Forward and backward filled benchmark close price data, or the original boolean/None value.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/generic/nb/base/#vectorbtpro.generic.nb.base.fbfill_nb title=vectorbtpro.generic.nb.base.fbfill_nb>fbfill_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_filled_close>get_filled_close <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5896-L5942 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_filled_close title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-87-1><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_filled_close</span><span class=p>(</span>
</span><span id=__span-87-2><a id=__codelineno-87-2 name=__codelineno-87-2 href=#__codelineno-87-2></a>    <span class=n>close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-87-3><a id=__codelineno-87-3 name=__codelineno-87-3 href=#__codelineno-87-3></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-87-4><a id=__codelineno-87-4 name=__codelineno-87-4 href=#__codelineno-87-4></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-87-5><a id=__codelineno-87-5 name=__codelineno-87-5 href=#__codelineno-87-5></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-87-6><a id=__codelineno-87-6 name=__codelineno-87-6 href=#__codelineno-87-6></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-87-7><a id=__codelineno-87-7 name=__codelineno-87-7 href=#__codelineno-87-7></a><span class=p>)</span>
</span></code></pre></div> <p>Get forward and backward filled close price.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Price data to fill.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.close title=vectorbtpro.portfolio.base.Portfolio.close>Portfolio.close</a> if not provided.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Forward and backward filled close price data.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/generic/nb/base/#vectorbtpro.generic.nb.base.fbfill_nb title=vectorbtpro.generic.nb.base.fbfill_nb>fbfill_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_final_value>get_final_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L9447-L9526 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_final_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-88-1><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_final_value</span><span class=p>(</span>
</span><span id=__span-88-2><a id=__codelineno-88-2 name=__codelineno-88-2 href=#__codelineno-88-2></a>    <span class=n>input_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-88-3><a id=__codelineno-88-3 name=__codelineno-88-3 href=#__codelineno-88-3></a>    <span class=n>total_profit</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-88-4><a id=__codelineno-88-4 name=__codelineno-88-4 href=#__codelineno-88-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-88-5><a id=__codelineno-88-5 name=__codelineno-88-5 href=#__codelineno-88-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-88-6><a id=__codelineno-88-6 name=__codelineno-88-6 href=#__codelineno-88-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-88-7><a id=__codelineno-88-7 name=__codelineno-88-7 href=#__codelineno-88-7></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-88-8><a id=__codelineno-88-8 name=__codelineno-88-8 href=#__codelineno-88-8></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-88-9><a id=__codelineno-88-9 name=__codelineno-88-9 href=#__codelineno-88-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-88-10><a id=__codelineno-88-10 name=__codelineno-88-10 href=#__codelineno-88-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-88-11><a id=__codelineno-88-11 name=__codelineno-88-11 href=#__codelineno-88-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-88-12><a id=__codelineno-88-12 name=__codelineno-88-12 href=#__codelineno-88-12></a><span class=p>)</span>
</span></code></pre></div> <p>Return final portfolio value per column or group.</p> <p>Calculate the final portfolio value by summing the input value and the total profit.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>input_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio or input value used for calculation.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_input_value title=vectorbtpro.portfolio.base.Portfolio.get_input_value>Portfolio.get_input_value</a> if not provided.</p> </dd> <dt><strong><code>total_profit</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Total profit to be added to the input value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_total_profit title=vectorbtpro.portfolio.base.Portfolio.get_total_profit>Portfolio.get_total_profit</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>MaybeSeries</code></dt> <dd>Final portfolio value after adding the total profit to the input value.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_gross_exposure>get_gross_exposure <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8979-L9107 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_gross_exposure title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-89-1><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_gross_exposure</span><span class=p>(</span>
</span><span id=__span-89-2><a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-89-3><a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a>    <span class=n>asset_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-89-4><a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a>    <span class=n>value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-89-5><a id=__codelineno-89-5 name=__codelineno-89-5 href=#__codelineno-89-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-89-6><a id=__codelineno-89-6 name=__codelineno-89-6 href=#__codelineno-89-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-89-7><a id=__codelineno-89-7 name=__codelineno-89-7 href=#__codelineno-89-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-89-8><a id=__codelineno-89-8 name=__codelineno-89-8 href=#__codelineno-89-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-89-9><a id=__codelineno-89-9 name=__codelineno-89-9 href=#__codelineno-89-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-89-10><a id=__codelineno-89-10 name=__codelineno-89-10 href=#__codelineno-89-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-89-11><a id=__codelineno-89-11 name=__codelineno-89-11 href=#__codelineno-89-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-89-12><a id=__codelineno-89-12 name=__codelineno-89-12 href=#__codelineno-89-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-89-13><a id=__codelineno-89-13 name=__codelineno-89-13 href=#__codelineno-89-13></a><span class=p>)</span>
</span></code></pre></div> <p>Get gross exposure.</p> <p>Calculates the gross exposure for the portfolio by combining asset values and portfolio value. When both directions are considered, ensure that <code>asset_value</code> represents the sum of absolute long-only and short-only asset values.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Direction indicating the exposure type.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>asset_value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset value series used in the exposure calculation.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_value title=vectorbtpro.portfolio.base.Portfolio.get_asset_value>Portfolio.get_asset_value</a> if not provided.</p> </dd> <dt><strong><code>value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Portfolio value series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_value title=vectorbtpro.portfolio.base.Portfolio.get_value>Portfolio.get_value</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Computed gross exposure series.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.gross_exposure_nb title=vectorbtpro.portfolio.nb.analysis.gross_exposure_nb>gross_exposure_nb</a></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When both directions, <code>asset_value</code> must include the addition of the absolute long-only and short-only asset values.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_in_output>get_in_output <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L1927-L2025 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_in_output title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-90-1><a id=__codelineno-90-1 name=__codelineno-90-1 href=#__codelineno-90-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_in_output</span><span class=p>(</span>
</span><span id=__span-90-2><a id=__codelineno-90-2 name=__codelineno-90-2 href=#__codelineno-90-2></a>    <span class=n>field</span><span class=p>,</span>
</span><span id=__span-90-3><a id=__codelineno-90-3 name=__codelineno-90-3 href=#__codelineno-90-3></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-90-4><a id=__codelineno-90-4 name=__codelineno-90-4 href=#__codelineno-90-4></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-90-5><a id=__codelineno-90-5 name=__codelineno-90-5 href=#__codelineno-90-5></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-90-6><a id=__codelineno-90-6 name=__codelineno-90-6 href=#__codelineno-90-6></a><span class=p>)</span>
</span></code></pre></div> <p>Find and wrap an in-place output object matching a specified field.</p> <p>This method searches for an in-place output field that matches the provided name or any of its aliases. If the field is found among the attributes of this <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instance, its options are used to determine the required type and layout. Otherwise, options are resolved from <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> and <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_output_config title=vectorbtpro.portfolio.base.Portfolio.in_output_config>Portfolio.in_output_config</a>, and candidates are filtered using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.matches_field_options title=vectorbtpro.portfolio.base.Portfolio.matches_field_options>Portfolio.matches_field_options</a>. The identified in-place output object is then wrapped via <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.wrap_obj title=vectorbtpro.portfolio.base.Portfolio.wrap_obj>Portfolio.wrap_obj</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>field</code></strong> :&ensp;<code>str</code></dt> <dd>Field identifier.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.wrap_obj title=vectorbtpro.portfolio.base.Portfolio.wrap_obj>Portfolio.wrap_obj</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Union[None, bool, AnyArray]</code></dt> <dd>Wrapped in-place output object.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_information_ratio>get_information_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_information_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-91-1><a id=__codelineno-91-1 name=__codelineno-91-1 href=#__codelineno-91-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_information_ratio</span><span class=p>(</span>
</span><span id=__span-91-2><a id=__codelineno-91-2 name=__codelineno-91-2 href=#__codelineno-91-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-91-3><a id=__codelineno-91-3 name=__codelineno-91-3 href=#__codelineno-91-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-4><a id=__codelineno-91-4 name=__codelineno-91-4 href=#__codelineno-91-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-91-5><a id=__codelineno-91-5 name=__codelineno-91-5 href=#__codelineno-91-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-6><a id=__codelineno-91-6 name=__codelineno-91-6 href=#__codelineno-91-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-91-7><a id=__codelineno-91-7 name=__codelineno-91-7 href=#__codelineno-91-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-91-8><a id=__codelineno-91-8 name=__codelineno-91-8 href=#__codelineno-91-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-9><a id=__codelineno-91-9 name=__codelineno-91-9 href=#__codelineno-91-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-10><a id=__codelineno-91-10 name=__codelineno-91-10 href=#__codelineno-91-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-91-11><a id=__codelineno-91-11 name=__codelineno-91-11 href=#__codelineno-91-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-12><a id=__codelineno-91-12 name=__codelineno-91-12 href=#__codelineno-91-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-13><a id=__codelineno-91-13 name=__codelineno-91-13 href=#__codelineno-91-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-14><a id=__codelineno-91-14 name=__codelineno-91-14 href=#__codelineno-91-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-15><a id=__codelineno-91-15 name=__codelineno-91-15 href=#__codelineno-91-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-16><a id=__codelineno-91-16 name=__codelineno-91-16 href=#__codelineno-91-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-17><a id=__codelineno-91-17 name=__codelineno-91-17 href=#__codelineno-91-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-91-18><a id=__codelineno-91-18 name=__codelineno-91-18 href=#__codelineno-91-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-91-19><a id=__codelineno-91-19 name=__codelineno-91-19 href=#__codelineno-91-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.information_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.information_ratio>ReturnsAccessor.information_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_init_cash>get_init_cash <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8229-L8377 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_init_cash title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-92-1><a id=__codelineno-92-1 name=__codelineno-92-1 href=#__codelineno-92-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_init_cash</span><span class=p>(</span>
</span><span id=__span-92-2><a id=__codelineno-92-2 name=__codelineno-92-2 href=#__codelineno-92-2></a>    <span class=n>init_cash_raw</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-3><a id=__codelineno-92-3 name=__codelineno-92-3 href=#__codelineno-92-3></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-4><a id=__codelineno-92-4 name=__codelineno-92-4 href=#__codelineno-92-4></a>    <span class=n>free_cash_flow</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-5><a id=__codelineno-92-5 name=__codelineno-92-5 href=#__codelineno-92-5></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-6><a id=__codelineno-92-6 name=__codelineno-92-6 href=#__codelineno-92-6></a>    <span class=n>split_shared</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-92-7><a id=__codelineno-92-7 name=__codelineno-92-7 href=#__codelineno-92-7></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-8><a id=__codelineno-92-8 name=__codelineno-92-8 href=#__codelineno-92-8></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-9><a id=__codelineno-92-9 name=__codelineno-92-9 href=#__codelineno-92-9></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-92-10><a id=__codelineno-92-10 name=__codelineno-92-10 href=#__codelineno-92-10></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-11><a id=__codelineno-92-11 name=__codelineno-92-11 href=#__codelineno-92-11></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-12><a id=__codelineno-92-12 name=__codelineno-92-12 href=#__codelineno-92-12></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-13><a id=__codelineno-92-13 name=__codelineno-92-13 href=#__codelineno-92-13></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-14><a id=__codelineno-92-14 name=__codelineno-92-14 href=#__codelineno-92-14></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-92-15><a id=__codelineno-92-15 name=__codelineno-92-15 href=#__codelineno-92-15></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-92-16><a id=__codelineno-92-16 name=__codelineno-92-16 href=#__codelineno-92-16></a><span class=p>)</span>
</span></code></pre></div> <p>Get initial amount of cash per column or group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_cash_raw</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial cash amount or mode identifier.</p> <p>Defaults to <code>Portfolio._init_cash</code> if not provided.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_deposits title=vectorbtpro.portfolio.base.Portfolio.get_cash_deposits>Portfolio.get_cash_deposits</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>free_cash_flow</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Cash flow data representing available free cash.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_flow title=vectorbtpro.portfolio.base.Portfolio.get_cash_flow>Portfolio.get_cash_flow</a> with <code>free=True</code> if not provided.</p> </dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Flag indicating whether cash is shared among assets of the same group.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.cash_sharing title=vectorbtpro.portfolio.base.Portfolio.cash_sharing>Portfolio.cash_sharing</a> if not provided.</p> </dd> <dt><strong><code>split_shared</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to split shared cash equally among columns in a group.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> if not provided.</p> <p>If False, weights are ignored.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>MaybeSeries</code></dt> <dd>Wrapped series representing the initial cash.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.align_init_cash_nb title=vectorbtpro.portfolio.nb.analysis.align_init_cash_nb>align_init_cash_nb</a> if <code>init_cash_raw</code> is an integer.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.init_cash_grouped_nb title=vectorbtpro.portfolio.nb.analysis.init_cash_grouped_nb>init_cash_grouped_nb</a> if grouping is enabled.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.init_cash_nb title=vectorbtpro.portfolio.nb.analysis.init_cash_nb>init_cash_nb</a> if grouping is disabled.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_init_position>get_init_position <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7089-L7146 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_init_position title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-93-1><a id=__codelineno-93-1 name=__codelineno-93-1 href=#__codelineno-93-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_init_position</span><span class=p>(</span>
</span><span id=__span-93-2><a id=__codelineno-93-2 name=__codelineno-93-2 href=#__codelineno-93-2></a>    <span class=n>init_position_raw</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-93-3><a id=__codelineno-93-3 name=__codelineno-93-3 href=#__codelineno-93-3></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-93-4><a id=__codelineno-93-4 name=__codelineno-93-4 href=#__codelineno-93-4></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-93-5><a id=__codelineno-93-5 name=__codelineno-93-5 href=#__codelineno-93-5></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-93-6><a id=__codelineno-93-6 name=__codelineno-93-6 href=#__codelineno-93-6></a>    <span class=n>keep_flex</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-93-7><a id=__codelineno-93-7 name=__codelineno-93-7 href=#__codelineno-93-7></a><span class=p>)</span>
</span></code></pre></div> <p>Return initial position per column.</p> <p>Compute and return the initial position for each column. The initial position is optionally weighted and broadcasted to a 2D shape based on the provided array wrapper.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_position_raw</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Raw initial position values.</p> <p>Defaults to <code>Portfolio._init_position</code> if not provided.</p> </dd> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> if not provided.</p> <p>If False, weights are ignored.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> <dt><strong><code>keep_flex</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to preserve the flexible array structure.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Union[ArrayLike, MaybeSeries]</code></dt> <dd>Computed initial position per column, potentially wrapped.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_init_position_value>get_init_position_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8535-L8612 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_init_position_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-94-1><a id=__codelineno-94-1 name=__codelineno-94-1 href=#__codelineno-94-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_init_position_value</span><span class=p>(</span>
</span><span id=__span-94-2><a id=__codelineno-94-2 name=__codelineno-94-2 href=#__codelineno-94-2></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-94-3><a id=__codelineno-94-3 name=__codelineno-94-3 href=#__codelineno-94-3></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-94-4><a id=__codelineno-94-4 name=__codelineno-94-4 href=#__codelineno-94-4></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-94-5><a id=__codelineno-94-5 name=__codelineno-94-5 href=#__codelineno-94-5></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-94-6><a id=__codelineno-94-6 name=__codelineno-94-6 href=#__codelineno-94-6></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-94-7><a id=__codelineno-94-7 name=__codelineno-94-7 href=#__codelineno-94-7></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-94-8><a id=__codelineno-94-8 name=__codelineno-94-8 href=#__codelineno-94-8></a><span class=p>)</span>
</span></code></pre></div> <p>Return the initial position value per column.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position title=vectorbtpro.portfolio.base.Portfolio.get_init_position>Portfolio.get_init_position</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_price title=vectorbtpro.portfolio.base.Portfolio.get_init_price>Portfolio.get_init_price</a> with <code>keep_flex=True</code> or NaN if not provided.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>MaybeSeries</code></dt> <dd>Computed initial position value for each column.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.init_position_value_grouped_nb title=vectorbtpro.portfolio.nb.analysis.init_position_value_grouped_nb>init_position_value_grouped_nb</a> if grouping is enabled.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.init_position_value_nb title=vectorbtpro.portfolio.nb.analysis.init_position_value_nb>init_position_value_nb</a> if grouping is disabled.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_init_price>get_init_price <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8493-L8533 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_init_price title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-95-1><a id=__codelineno-95-1 name=__codelineno-95-1 href=#__codelineno-95-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_init_price</span><span class=p>(</span>
</span><span id=__span-95-2><a id=__codelineno-95-2 name=__codelineno-95-2 href=#__codelineno-95-2></a>    <span class=n>init_price_raw</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-95-3><a id=__codelineno-95-3 name=__codelineno-95-3 href=#__codelineno-95-3></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-95-4><a id=__codelineno-95-4 name=__codelineno-95-4 href=#__codelineno-95-4></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-95-5><a id=__codelineno-95-5 name=__codelineno-95-5 href=#__codelineno-95-5></a>    <span class=n>keep_flex</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-95-6><a id=__codelineno-95-6 name=__codelineno-95-6 href=#__codelineno-95-6></a><span class=p>)</span>
</span></code></pre></div> <p>Get initial price per column.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_price_raw</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Raw initial price.</p> <p>Defaults to <code>Portfolio._init_price</code> if not provided.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> <dt><strong><code>keep_flex</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to preserve the flexible array structure.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Union[ArrayLike, MaybeSeries]</code></dt> <dd>Initial price, possibly wrapped.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_init_value>get_init_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8614-L8696 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_init_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-96-1><a id=__codelineno-96-1 name=__codelineno-96-1 href=#__codelineno-96-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_init_value</span><span class=p>(</span>
</span><span id=__span-96-2><a id=__codelineno-96-2 name=__codelineno-96-2 href=#__codelineno-96-2></a>    <span class=n>init_position_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-96-3><a id=__codelineno-96-3 name=__codelineno-96-3 href=#__codelineno-96-3></a>    <span class=n>init_cash</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-96-4><a id=__codelineno-96-4 name=__codelineno-96-4 href=#__codelineno-96-4></a>    <span class=n>split_shared</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-96-5><a id=__codelineno-96-5 name=__codelineno-96-5 href=#__codelineno-96-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-96-6><a id=__codelineno-96-6 name=__codelineno-96-6 href=#__codelineno-96-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-96-7><a id=__codelineno-96-7 name=__codelineno-96-7 href=#__codelineno-96-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-96-8><a id=__codelineno-96-8 name=__codelineno-96-8 href=#__codelineno-96-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-96-9><a id=__codelineno-96-9 name=__codelineno-96-9 href=#__codelineno-96-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-96-10><a id=__codelineno-96-10 name=__codelineno-96-10 href=#__codelineno-96-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-96-11><a id=__codelineno-96-11 name=__codelineno-96-11 href=#__codelineno-96-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-96-12><a id=__codelineno-96-12 name=__codelineno-96-12 href=#__codelineno-96-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-96-13><a id=__codelineno-96-13 name=__codelineno-96-13 href=#__codelineno-96-13></a><span class=p>)</span>
</span></code></pre></div> <p>Return the initial value per column or group.</p> <p>Combines initial cash with the value of the initial position.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_position_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial position value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position_value title=vectorbtpro.portfolio.base.Portfolio.get_init_position_value>Portfolio.get_init_position_value</a> if not provided.</p> </dd> <dt><strong><code>init_cash</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial cash balance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_cash title=vectorbtpro.portfolio.base.Portfolio.get_init_cash>Portfolio.get_init_cash</a> if not provided.</p> </dd> <dt><strong><code>split_shared</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to split shared cash equally among columns in a group.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>MaybeSeries</code></dt> <dd>Computed initial value per column or group.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.init_value_nb title=vectorbtpro.portfolio.nb.analysis.init_value_nb>init_value_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_input_value>get_input_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8698-L8778 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_input_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-97-1><a id=__codelineno-97-1 name=__codelineno-97-1 href=#__codelineno-97-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_input_value</span><span class=p>(</span>
</span><span id=__span-97-2><a id=__codelineno-97-2 name=__codelineno-97-2 href=#__codelineno-97-2></a>    <span class=n>total_cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-97-3><a id=__codelineno-97-3 name=__codelineno-97-3 href=#__codelineno-97-3></a>    <span class=n>init_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-97-4><a id=__codelineno-97-4 name=__codelineno-97-4 href=#__codelineno-97-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-97-5><a id=__codelineno-97-5 name=__codelineno-97-5 href=#__codelineno-97-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-97-6><a id=__codelineno-97-6 name=__codelineno-97-6 href=#__codelineno-97-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-97-7><a id=__codelineno-97-7 name=__codelineno-97-7 href=#__codelineno-97-7></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-97-8><a id=__codelineno-97-8 name=__codelineno-97-8 href=#__codelineno-97-8></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-97-9><a id=__codelineno-97-9 name=__codelineno-97-9 href=#__codelineno-97-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-97-10><a id=__codelineno-97-10 name=__codelineno-97-10 href=#__codelineno-97-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-97-11><a id=__codelineno-97-11 name=__codelineno-97-11 href=#__codelineno-97-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-97-12><a id=__codelineno-97-12 name=__codelineno-97-12 href=#__codelineno-97-12></a><span class=p>)</span>
</span></code></pre></div> <p>Return the total input value per column or group.</p> <p>Aggregates the initial value with cash deposits made over time.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>total_cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits over time.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_total_cash_deposits title=vectorbtpro.portfolio.base.Portfolio.get_total_cash_deposits>Portfolio.get_total_cash_deposits</a> or 0 if not provided.</p> </dd> <dt><strong><code>init_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_value title=vectorbtpro.portfolio.base.Portfolio.get_init_value>Portfolio.get_init_value</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>MaybeSeries</code></dt> <dd>Aggregated total input value per column or group.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_logs>get_logs <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6386-L6487 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_logs title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-98-1><a id=__codelineno-98-1 name=__codelineno-98-1 href=#__codelineno-98-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_logs</span><span class=p>(</span>
</span><span id=__span-98-2><a id=__codelineno-98-2 name=__codelineno-98-2 href=#__codelineno-98-2></a>    <span class=n>log_records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-3><a id=__codelineno-98-3 name=__codelineno-98-3 href=#__codelineno-98-3></a>    <span class=nb>open</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-4><a id=__codelineno-98-4 name=__codelineno-98-4 href=#__codelineno-98-4></a>    <span class=n>high</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-5><a id=__codelineno-98-5 name=__codelineno-98-5 href=#__codelineno-98-5></a>    <span class=n>low</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-6><a id=__codelineno-98-6 name=__codelineno-98-6 href=#__codelineno-98-6></a>    <span class=n>close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-7><a id=__codelineno-98-7 name=__codelineno-98-7 href=#__codelineno-98-7></a>    <span class=n>logs_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-8><a id=__codelineno-98-8 name=__codelineno-98-8 href=#__codelineno-98-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-9><a id=__codelineno-98-9 name=__codelineno-98-9 href=#__codelineno-98-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-10><a id=__codelineno-98-10 name=__codelineno-98-10 href=#__codelineno-98-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-98-11><a id=__codelineno-98-11 name=__codelineno-98-11 href=#__codelineno-98-11></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-12><a id=__codelineno-98-12 name=__codelineno-98-12 href=#__codelineno-98-12></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-13><a id=__codelineno-98-13 name=__codelineno-98-13 href=#__codelineno-98-13></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-98-14><a id=__codelineno-98-14 name=__codelineno-98-14 href=#__codelineno-98-14></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-98-15><a id=__codelineno-98-15 name=__codelineno-98-15 href=#__codelineno-98-15></a><span class=p>)</span>
</span></code></pre></div> <p>Return log records.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>log_records</code></strong> :&ensp;<code>Optional[RecordArray]</code></dt> <dd> <p>Structured NumPy array of log records.</p> <p>Must adhere to the <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.log_dt title=vectorbtpro.portfolio.enums.log_dt>log_dt</a> dtype.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.log_records title=vectorbtpro.portfolio.base.Portfolio.log_records>Portfolio.log_records</a> if not provided.</p> </dd> <dt><strong><code>open</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Open price data.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.open_flex title=vectorbtpro.portfolio.base.Portfolio.open_flex>Portfolio.open_flex</a> if not provided.</p> </dd> <dt><strong><code>high</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>High price data.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.high_flex title=vectorbtpro.portfolio.base.Portfolio.high_flex>Portfolio.high_flex</a> if not provided.</p> </dd> <dt><strong><code>low</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Low price data.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.low_flex title=vectorbtpro.portfolio.base.Portfolio.low_flex>Portfolio.low_flex</a> if not provided.</p> </dd> <dt><strong><code>close</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Close price data.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.close_flex title=vectorbtpro.portfolio.base.Portfolio.close_flex>Portfolio.close_flex</a> if not provided.</p> </dd> <dt><strong><code>logs_cls</code></strong> :&ensp;<code>Optional[type]</code></dt> <dd> <p>Class used for wrapping log records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.logs_cls title=vectorbtpro.portfolio.base.Portfolio.logs_cls>Portfolio.logs_cls</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <code>logs_cls</code>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Logs</code></dt> <dd>Instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/logs/#vectorbtpro.portfolio.logs.Logs title=vectorbtpro.portfolio.logs.Logs>Logs</a> with log records.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/records/#vectorbtpro.portfolio.nb.records.records_within_sim_range_nb title=vectorbtpro.portfolio.nb.records.records_within_sim_range_nb>records_within_sim_range_nb</a> if simulation range is provided.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_long_view>get_long_view <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6108-L6174 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_long_view title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-99-1><a id=__codelineno-99-1 name=__codelineno-99-1 href=#__codelineno-99-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_long_view</span><span class=p>(</span>
</span><span id=__span-99-2><a id=__codelineno-99-2 name=__codelineno-99-2 href=#__codelineno-99-2></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-99-3><a id=__codelineno-99-3 name=__codelineno-99-3 href=#__codelineno-99-3></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-99-4><a id=__codelineno-99-4 name=__codelineno-99-4 href=#__codelineno-99-4></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-99-5><a id=__codelineno-99-5 name=__codelineno-99-5 href=#__codelineno-99-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-99-6><a id=__codelineno-99-6 name=__codelineno-99-6 href=#__codelineno-99-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-99-7><a id=__codelineno-99-7 name=__codelineno-99-7 href=#__codelineno-99-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-99-8><a id=__codelineno-99-8 name=__codelineno-99-8 href=#__codelineno-99-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-99-9><a id=__codelineno-99-9 name=__codelineno-99-9 href=#__codelineno-99-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-99-10><a id=__codelineno-99-10 name=__codelineno-99-10 href=#__codelineno-99-10></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-99-11><a id=__codelineno-99-11 name=__codelineno-99-11 href=#__codelineno-99-11></a><span class=p>)</span>
</span></code></pre></div> <p>Get view of portfolio with long positions only.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <code>Portfolio._init_position</code> if not provided.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Defaults to <code>Portfolio._init_price</code> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.replace title=vectorbtpro.portfolio.base.Portfolio.replace>Configured.replace</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a></dt> <dd>Portfolio view containing only long positions, with non-long positions set to zero and price values updated accordingly.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_market_returns>get_market_returns <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10106-L10230 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_market_returns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-100-1><a id=__codelineno-100-1 name=__codelineno-100-1 href=#__codelineno-100-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_market_returns</span><span class=p>(</span>
</span><span id=__span-100-2><a id=__codelineno-100-2 name=__codelineno-100-2 href=#__codelineno-100-2></a>    <span class=n>init_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-3><a id=__codelineno-100-3 name=__codelineno-100-3 href=#__codelineno-100-3></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-4><a id=__codelineno-100-4 name=__codelineno-100-4 href=#__codelineno-100-4></a>    <span class=n>cash_deposits_as_input</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-5><a id=__codelineno-100-5 name=__codelineno-100-5 href=#__codelineno-100-5></a>    <span class=n>market_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-6><a id=__codelineno-100-6 name=__codelineno-100-6 href=#__codelineno-100-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-100-7><a id=__codelineno-100-7 name=__codelineno-100-7 href=#__codelineno-100-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-100-8><a id=__codelineno-100-8 name=__codelineno-100-8 href=#__codelineno-100-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-9><a id=__codelineno-100-9 name=__codelineno-100-9 href=#__codelineno-100-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-10><a id=__codelineno-100-10 name=__codelineno-100-10 href=#__codelineno-100-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-100-11><a id=__codelineno-100-11 name=__codelineno-100-11 href=#__codelineno-100-11></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-12><a id=__codelineno-100-12 name=__codelineno-100-12 href=#__codelineno-100-12></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-13><a id=__codelineno-100-13 name=__codelineno-100-13 href=#__codelineno-100-13></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-14><a id=__codelineno-100-14 name=__codelineno-100-14 href=#__codelineno-100-14></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-100-15><a id=__codelineno-100-15 name=__codelineno-100-15 href=#__codelineno-100-15></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-100-16><a id=__codelineno-100-16 name=__codelineno-100-16 href=#__codelineno-100-16></a><span class=p>)</span>
</span></code></pre></div> <p>Return market return series per column or group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_value title=vectorbtpro.portfolio.base.Portfolio.get_init_value>Portfolio.get_init_value</a> if not provided.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_deposits title=vectorbtpro.portfolio.base.Portfolio.get_cash_deposits>Portfolio.get_cash_deposits</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>cash_deposits_as_input</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Whether to add cash deposits to the input value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.cash_deposits_as_input title=vectorbtpro.portfolio.base.Portfolio.cash_deposits_as_input>Portfolio.cash_deposits_as_input</a> or False if not provided.</p> </dd> <dt><strong><code>market_value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Market value series used for computing returns.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_market_value title=vectorbtpro.portfolio.base.Portfolio.get_market_value>Portfolio.get_market_value</a> if not provided.</p> </dd> <dt><strong><code>log_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to compute logarithmic returns.</dd> <dt><strong><code>daily_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to convert computed returns to daily returns.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Computed market return series.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.returns_nb title=vectorbtpro.portfolio.nb.analysis.returns_nb>returns_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_market_value>get_market_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L9951-L10104 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_market_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-101-1><a id=__codelineno-101-1 name=__codelineno-101-1 href=#__codelineno-101-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_market_value</span><span class=p>(</span>
</span><span id=__span-101-2><a id=__codelineno-101-2 name=__codelineno-101-2 href=#__codelineno-101-2></a>    <span class=n>close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-101-3><a id=__codelineno-101-3 name=__codelineno-101-3 href=#__codelineno-101-3></a>    <span class=n>init_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-101-4><a id=__codelineno-101-4 name=__codelineno-101-4 href=#__codelineno-101-4></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-101-5><a id=__codelineno-101-5 name=__codelineno-101-5 href=#__codelineno-101-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-101-6><a id=__codelineno-101-6 name=__codelineno-101-6 href=#__codelineno-101-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-101-7><a id=__codelineno-101-7 name=__codelineno-101-7 href=#__codelineno-101-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-101-8><a id=__codelineno-101-8 name=__codelineno-101-8 href=#__codelineno-101-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-101-9><a id=__codelineno-101-9 name=__codelineno-101-9 href=#__codelineno-101-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-101-10><a id=__codelineno-101-10 name=__codelineno-101-10 href=#__codelineno-101-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-101-11><a id=__codelineno-101-11 name=__codelineno-101-11 href=#__codelineno-101-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-101-12><a id=__codelineno-101-12 name=__codelineno-101-12 href=#__codelineno-101-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-101-13><a id=__codelineno-101-13 name=__codelineno-101-13 href=#__codelineno-101-13></a><span class=p>)</span>
</span></code></pre></div> <p>Get market value series per column or group.</p> <p>Computes the market value based on close prices, initial portfolio value, and cash deposits. When grouping is applied, the initial cash is evenly distributed among the assets in the group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Price data used for market value computation.</p> <p>If not provided, uses <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.filled_close title=vectorbtpro.portfolio.base.Portfolio.filled_close>Portfolio.filled_close</a> if available; otherwise, uses <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.close title=vectorbtpro.portfolio.base.Portfolio.close>Portfolio.close</a>.</p> </dd> <dt><strong><code>init_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_value title=vectorbtpro.portfolio.base.Portfolio.get_init_value>Portfolio.get_init_value</a> with <code>group_by=False</code> if not provided.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_deposits title=vectorbtpro.portfolio.base.Portfolio.get_cash_deposits>Portfolio.get_cash_deposits</a> with <code>split_shared=True</code>, <code>keep_flex=True</code>, and <code>group_by=False</code> or 0 if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Computed market value series.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.market_value_grouped_nb title=vectorbtpro.portfolio.nb.analysis.market_value_grouped_nb>market_value_grouped_nb</a> if grouping is enabled.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.market_value_nb title=vectorbtpro.portfolio.nb.analysis.market_value_nb>market_value_nb</a> if grouping is disabled.</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Does not account for fees and slippage. For accurate results, create a separate portfolio.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_max_drawdown>get_max_drawdown <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_max_drawdown title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-102-1><a id=__codelineno-102-1 name=__codelineno-102-1 href=#__codelineno-102-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_max_drawdown</span><span class=p>(</span>
</span><span id=__span-102-2><a id=__codelineno-102-2 name=__codelineno-102-2 href=#__codelineno-102-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-102-3><a id=__codelineno-102-3 name=__codelineno-102-3 href=#__codelineno-102-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-4><a id=__codelineno-102-4 name=__codelineno-102-4 href=#__codelineno-102-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-102-5><a id=__codelineno-102-5 name=__codelineno-102-5 href=#__codelineno-102-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-6><a id=__codelineno-102-6 name=__codelineno-102-6 href=#__codelineno-102-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-102-7><a id=__codelineno-102-7 name=__codelineno-102-7 href=#__codelineno-102-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-102-8><a id=__codelineno-102-8 name=__codelineno-102-8 href=#__codelineno-102-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-9><a id=__codelineno-102-9 name=__codelineno-102-9 href=#__codelineno-102-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-10><a id=__codelineno-102-10 name=__codelineno-102-10 href=#__codelineno-102-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-102-11><a id=__codelineno-102-11 name=__codelineno-102-11 href=#__codelineno-102-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-12><a id=__codelineno-102-12 name=__codelineno-102-12 href=#__codelineno-102-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-13><a id=__codelineno-102-13 name=__codelineno-102-13 href=#__codelineno-102-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-14><a id=__codelineno-102-14 name=__codelineno-102-14 href=#__codelineno-102-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-15><a id=__codelineno-102-15 name=__codelineno-102-15 href=#__codelineno-102-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-16><a id=__codelineno-102-16 name=__codelineno-102-16 href=#__codelineno-102-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-17><a id=__codelineno-102-17 name=__codelineno-102-17 href=#__codelineno-102-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-102-18><a id=__codelineno-102-18 name=__codelineno-102-18 href=#__codelineno-102-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-102-19><a id=__codelineno-102-19 name=__codelineno-102-19 href=#__codelineno-102-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.max_drawdown title=vectorbtpro.returns.accessors.ReturnsAccessor.max_drawdown>ReturnsAccessor.max_drawdown</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_net_exposure>get_net_exposure <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L9109-L9201 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_net_exposure title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-103-1><a id=__codelineno-103-1 name=__codelineno-103-1 href=#__codelineno-103-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_net_exposure</span><span class=p>(</span>
</span><span id=__span-103-2><a id=__codelineno-103-2 name=__codelineno-103-2 href=#__codelineno-103-2></a>    <span class=n>long_exposure</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-103-3><a id=__codelineno-103-3 name=__codelineno-103-3 href=#__codelineno-103-3></a>    <span class=n>short_exposure</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-103-4><a id=__codelineno-103-4 name=__codelineno-103-4 href=#__codelineno-103-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-103-5><a id=__codelineno-103-5 name=__codelineno-103-5 href=#__codelineno-103-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-103-6><a id=__codelineno-103-6 name=__codelineno-103-6 href=#__codelineno-103-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-103-7><a id=__codelineno-103-7 name=__codelineno-103-7 href=#__codelineno-103-7></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-103-8><a id=__codelineno-103-8 name=__codelineno-103-8 href=#__codelineno-103-8></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-103-9><a id=__codelineno-103-9 name=__codelineno-103-9 href=#__codelineno-103-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-103-10><a id=__codelineno-103-10 name=__codelineno-103-10 href=#__codelineno-103-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-103-11><a id=__codelineno-103-11 name=__codelineno-103-11 href=#__codelineno-103-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-103-12><a id=__codelineno-103-12 name=__codelineno-103-12 href=#__codelineno-103-12></a><span class=p>)</span>
</span></code></pre></div> <p>Get net exposure.</p> <p>Calculates the net exposure of the portfolio by combining long and short exposure values.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>long_exposure</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Exposure series for long positions.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_gross_exposure title=vectorbtpro.portfolio.base.Portfolio.get_gross_exposure>Portfolio.get_gross_exposure</a> with <code>direction="longonly"</code> if not provided.</p> </dd> <dt><strong><code>short_exposure</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Exposure series for short positions.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_gross_exposure title=vectorbtpro.portfolio.base.Portfolio.get_gross_exposure>Portfolio.get_gross_exposure</a> with <code>direction="shortonly"</code> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Computed net exposure series.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.net_exposure_nb title=vectorbtpro.portfolio.nb.analysis.net_exposure_nb>net_exposure_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_omega_ratio>get_omega_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_omega_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-104-1><a id=__codelineno-104-1 name=__codelineno-104-1 href=#__codelineno-104-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_omega_ratio</span><span class=p>(</span>
</span><span id=__span-104-2><a id=__codelineno-104-2 name=__codelineno-104-2 href=#__codelineno-104-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-104-3><a id=__codelineno-104-3 name=__codelineno-104-3 href=#__codelineno-104-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-4><a id=__codelineno-104-4 name=__codelineno-104-4 href=#__codelineno-104-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-104-5><a id=__codelineno-104-5 name=__codelineno-104-5 href=#__codelineno-104-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-6><a id=__codelineno-104-6 name=__codelineno-104-6 href=#__codelineno-104-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-104-7><a id=__codelineno-104-7 name=__codelineno-104-7 href=#__codelineno-104-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-104-8><a id=__codelineno-104-8 name=__codelineno-104-8 href=#__codelineno-104-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-9><a id=__codelineno-104-9 name=__codelineno-104-9 href=#__codelineno-104-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-10><a id=__codelineno-104-10 name=__codelineno-104-10 href=#__codelineno-104-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-104-11><a id=__codelineno-104-11 name=__codelineno-104-11 href=#__codelineno-104-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-12><a id=__codelineno-104-12 name=__codelineno-104-12 href=#__codelineno-104-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-13><a id=__codelineno-104-13 name=__codelineno-104-13 href=#__codelineno-104-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-14><a id=__codelineno-104-14 name=__codelineno-104-14 href=#__codelineno-104-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-15><a id=__codelineno-104-15 name=__codelineno-104-15 href=#__codelineno-104-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-16><a id=__codelineno-104-16 name=__codelineno-104-16 href=#__codelineno-104-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-17><a id=__codelineno-104-17 name=__codelineno-104-17 href=#__codelineno-104-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-104-18><a id=__codelineno-104-18 name=__codelineno-104-18 href=#__codelineno-104-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-104-19><a id=__codelineno-104-19 name=__codelineno-104-19 href=#__codelineno-104-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.omega_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.omega_ratio>ReturnsAccessor.omega_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_orders>get_orders <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6255-L6375 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_orders title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-105-1><a id=__codelineno-105-1 name=__codelineno-105-1 href=#__codelineno-105-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_orders</span><span class=p>(</span>
</span><span id=__span-105-2><a id=__codelineno-105-2 name=__codelineno-105-2 href=#__codelineno-105-2></a>    <span class=n>order_records</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-3><a id=__codelineno-105-3 name=__codelineno-105-3 href=#__codelineno-105-3></a>    <span class=nb>open</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-4><a id=__codelineno-105-4 name=__codelineno-105-4 href=#__codelineno-105-4></a>    <span class=n>high</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-5><a id=__codelineno-105-5 name=__codelineno-105-5 href=#__codelineno-105-5></a>    <span class=n>low</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-6><a id=__codelineno-105-6 name=__codelineno-105-6 href=#__codelineno-105-6></a>    <span class=n>close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-7><a id=__codelineno-105-7 name=__codelineno-105-7 href=#__codelineno-105-7></a>    <span class=n>orders_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-8><a id=__codelineno-105-8 name=__codelineno-105-8 href=#__codelineno-105-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-9><a id=__codelineno-105-9 name=__codelineno-105-9 href=#__codelineno-105-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-10><a id=__codelineno-105-10 name=__codelineno-105-10 href=#__codelineno-105-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-105-11><a id=__codelineno-105-11 name=__codelineno-105-11 href=#__codelineno-105-11></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-12><a id=__codelineno-105-12 name=__codelineno-105-12 href=#__codelineno-105-12></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-13><a id=__codelineno-105-13 name=__codelineno-105-13 href=#__codelineno-105-13></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-14><a id=__codelineno-105-14 name=__codelineno-105-14 href=#__codelineno-105-14></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-105-15><a id=__codelineno-105-15 name=__codelineno-105-15 href=#__codelineno-105-15></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-105-16><a id=__codelineno-105-16 name=__codelineno-105-16 href=#__codelineno-105-16></a><span class=p>)</span>
</span></code></pre></div> <p>Get order records.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>order_records</code></strong> :&ensp;<code>Optional[RecordArray]</code></dt> <dd> <p>Structured array of order records.</p> <p>Must adhere to the <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.order_dt title=vectorbtpro.portfolio.enums.order_dt>order_dt</a> dtype.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.order_records title=vectorbtpro.portfolio.base.Portfolio.order_records>Portfolio.order_records</a> if not provided.</p> </dd> <dt><strong><code>open</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Array of open prices.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.open_flex title=vectorbtpro.portfolio.base.Portfolio.open_flex>Portfolio.open_flex</a> if not provided.</p> </dd> <dt><strong><code>high</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Array of high prices.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.high_flex title=vectorbtpro.portfolio.base.Portfolio.high_flex>Portfolio.high_flex</a> if not provided.</p> </dd> <dt><strong><code>low</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Array of low prices.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.low_flex title=vectorbtpro.portfolio.base.Portfolio.low_flex>Portfolio.low_flex</a> if not provided.</p> </dd> <dt><strong><code>close</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Array of close prices.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.close_flex title=vectorbtpro.portfolio.base.Portfolio.close_flex>Portfolio.close_flex</a> if not provided.</p> </dd> <dt><strong><code>orders_cls</code></strong> :&ensp;<code>Optional[type]</code></dt> <dd> <p>Class used for wrapping order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.orders_cls title=vectorbtpro.portfolio.base.Portfolio.orders_cls>Portfolio.orders_cls</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> if not provided.</p> <p>If False, weights are ignored.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <code>orders_cls</code>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Orders</code></dt> <dd>Instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/orders/#vectorbtpro.portfolio.orders.Orders title=vectorbtpro.portfolio.orders.Orders>Orders</a> with order records.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/records/#vectorbtpro.portfolio.nb.records.records_within_sim_range_nb title=vectorbtpro.portfolio.nb.records.records_within_sim_range_nb>records_within_sim_range_nb</a> if simulation range is provided.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/records/#vectorbtpro.portfolio.nb.records.apply_weights_to_orders_nb title=vectorbtpro.portfolio.nb.records.apply_weights_to_orders_nb>apply_weights_to_orders_nb</a> if weights are provided.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_position_coverage>get_position_coverage <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7421-L7516 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_position_coverage title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-106-1><a id=__codelineno-106-1 name=__codelineno-106-1 href=#__codelineno-106-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_position_coverage</span><span class=p>(</span>
</span><span id=__span-106-2><a id=__codelineno-106-2 name=__codelineno-106-2 href=#__codelineno-106-2></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-106-3><a id=__codelineno-106-3 name=__codelineno-106-3 href=#__codelineno-106-3></a>    <span class=n>assets</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-106-4><a id=__codelineno-106-4 name=__codelineno-106-4 href=#__codelineno-106-4></a>    <span class=n>granular_groups</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-106-5><a id=__codelineno-106-5 name=__codelineno-106-5 href=#__codelineno-106-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-106-6><a id=__codelineno-106-6 name=__codelineno-106-6 href=#__codelineno-106-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-106-7><a id=__codelineno-106-7 name=__codelineno-106-7 href=#__codelineno-106-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-106-8><a id=__codelineno-106-8 name=__codelineno-106-8 href=#__codelineno-106-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-106-9><a id=__codelineno-106-9 name=__codelineno-106-9 href=#__codelineno-106-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-106-10><a id=__codelineno-106-10 name=__codelineno-106-10 href=#__codelineno-106-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-106-11><a id=__codelineno-106-11 name=__codelineno-106-11 href=#__codelineno-106-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-106-12><a id=__codelineno-106-12 name=__codelineno-106-12 href=#__codelineno-106-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-106-13><a id=__codelineno-106-13 name=__codelineno-106-13 href=#__codelineno-106-13></a><span class=p>)</span>
</span></code></pre></div> <p>Get position coverage per column or group.</p> <p>Calculates the proportion of bars with a held position relative to the total number of bars.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Direction identifier for the position.</p> <p>Use "both" to analyze both long and short.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>assets</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset positions.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_assets title=vectorbtpro.portfolio.base.Portfolio.get_assets>Portfolio.get_assets</a> if not provided.</p> </dd> <dt><strong><code>granular_groups</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to determine if coverage is computed per individual column within a group.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>MaybeSeries</code></dt> <dd>Series representing the computed position coverage.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.position_coverage_grouped_nb title=vectorbtpro.portfolio.nb.analysis.position_coverage_grouped_nb>position_coverage_grouped_nb</a> if grouping is enabled.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.position_coverage_nb title=vectorbtpro.portfolio.nb.analysis.position_coverage_nb>position_coverage_nb</a> if grouping is disabled.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_position_entry_price>get_position_entry_price <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7518-L7620 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_position_entry_price title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-107-1><a id=__codelineno-107-1 name=__codelineno-107-1 href=#__codelineno-107-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_position_entry_price</span><span class=p>(</span>
</span><span id=__span-107-2><a id=__codelineno-107-2 name=__codelineno-107-2 href=#__codelineno-107-2></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-107-3><a id=__codelineno-107-3 name=__codelineno-107-3 href=#__codelineno-107-3></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-107-4><a id=__codelineno-107-4 name=__codelineno-107-4 href=#__codelineno-107-4></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-107-5><a id=__codelineno-107-5 name=__codelineno-107-5 href=#__codelineno-107-5></a>    <span class=n>fill_closed_position</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-107-6><a id=__codelineno-107-6 name=__codelineno-107-6 href=#__codelineno-107-6></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-107-7><a id=__codelineno-107-7 name=__codelineno-107-7 href=#__codelineno-107-7></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-107-8><a id=__codelineno-107-8 name=__codelineno-107-8 href=#__codelineno-107-8></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-107-9><a id=__codelineno-107-9 name=__codelineno-107-9 href=#__codelineno-107-9></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-107-10><a id=__codelineno-107-10 name=__codelineno-107-10 href=#__codelineno-107-10></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-107-11><a id=__codelineno-107-11 name=__codelineno-107-11 href=#__codelineno-107-11></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-107-12><a id=__codelineno-107-12 name=__codelineno-107-12 href=#__codelineno-107-12></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-107-13><a id=__codelineno-107-13 name=__codelineno-107-13 href=#__codelineno-107-13></a><span class=p>)</span>
</span></code></pre></div> <p>Get the position's entry price at each bar.</p> <p>Calculates the entry price applied to each bar based on provided orders and initial values.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position title=vectorbtpro.portfolio.base.Portfolio.get_init_position>Portfolio.get_init_position</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_price title=vectorbtpro.portfolio.base.Portfolio.get_init_price>Portfolio.get_init_price</a> with <code>keep_flex=True</code> or NaN if not provided.</p> </dd> <dt><strong><code>fill_closed_position</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, forward-fill missing values using prices from a previously closed position.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>DataFrame containing the computed entry prices per bar.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/records/#vectorbtpro.portfolio.nb.records.get_position_feature_nb title=vectorbtpro.portfolio.nb.records.get_position_feature_nb>get_position_feature_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_position_exit_price>get_position_exit_price <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7622-L7728 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_position_exit_price title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-108-1><a id=__codelineno-108-1 name=__codelineno-108-1 href=#__codelineno-108-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_position_exit_price</span><span class=p>(</span>
</span><span id=__span-108-2><a id=__codelineno-108-2 name=__codelineno-108-2 href=#__codelineno-108-2></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-108-3><a id=__codelineno-108-3 name=__codelineno-108-3 href=#__codelineno-108-3></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-108-4><a id=__codelineno-108-4 name=__codelineno-108-4 href=#__codelineno-108-4></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-108-5><a id=__codelineno-108-5 name=__codelineno-108-5 href=#__codelineno-108-5></a>    <span class=n>fill_closed_position</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-108-6><a id=__codelineno-108-6 name=__codelineno-108-6 href=#__codelineno-108-6></a>    <span class=n>fill_exit_price</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-108-7><a id=__codelineno-108-7 name=__codelineno-108-7 href=#__codelineno-108-7></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-108-8><a id=__codelineno-108-8 name=__codelineno-108-8 href=#__codelineno-108-8></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-108-9><a id=__codelineno-108-9 name=__codelineno-108-9 href=#__codelineno-108-9></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-108-10><a id=__codelineno-108-10 name=__codelineno-108-10 href=#__codelineno-108-10></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-108-11><a id=__codelineno-108-11 name=__codelineno-108-11 href=#__codelineno-108-11></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-108-12><a id=__codelineno-108-12 name=__codelineno-108-12 href=#__codelineno-108-12></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-108-13><a id=__codelineno-108-13 name=__codelineno-108-13 href=#__codelineno-108-13></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-108-14><a id=__codelineno-108-14 name=__codelineno-108-14 href=#__codelineno-108-14></a><span class=p>)</span>
</span></code></pre></div> <p>Get the position's exit price at each bar.</p> <p>Determines the exit price for each bar based on order data and initial conditions.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position title=vectorbtpro.portfolio.base.Portfolio.get_init_position>Portfolio.get_init_position</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_price title=vectorbtpro.portfolio.base.Portfolio.get_init_price>Portfolio.get_init_price</a> with <code>keep_flex=True</code> or NaN if not provided.</p> </dd> <dt><strong><code>fill_closed_position</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, forward-fill missing values using prices from a previously closed position.</dd> <dt><strong><code>fill_exit_price</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, fill exit prices for open positions using the current close price.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>DataFrame containing the computed exit prices per bar.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/records/#vectorbtpro.portfolio.nb.records.get_position_feature_nb title=vectorbtpro.portfolio.nb.records.get_position_feature_nb>get_position_feature_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_position_mask>get_position_mask <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7330-L7419 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_position_mask title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-109-1><a id=__codelineno-109-1 name=__codelineno-109-1 href=#__codelineno-109-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_position_mask</span><span class=p>(</span>
</span><span id=__span-109-2><a id=__codelineno-109-2 name=__codelineno-109-2 href=#__codelineno-109-2></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-109-3><a id=__codelineno-109-3 name=__codelineno-109-3 href=#__codelineno-109-3></a>    <span class=n>assets</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-109-4><a id=__codelineno-109-4 name=__codelineno-109-4 href=#__codelineno-109-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-109-5><a id=__codelineno-109-5 name=__codelineno-109-5 href=#__codelineno-109-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-109-6><a id=__codelineno-109-6 name=__codelineno-109-6 href=#__codelineno-109-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-109-7><a id=__codelineno-109-7 name=__codelineno-109-7 href=#__codelineno-109-7></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-109-8><a id=__codelineno-109-8 name=__codelineno-109-8 href=#__codelineno-109-8></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-109-9><a id=__codelineno-109-9 name=__codelineno-109-9 href=#__codelineno-109-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-109-10><a id=__codelineno-109-10 name=__codelineno-109-10 href=#__codelineno-109-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-109-11><a id=__codelineno-109-11 name=__codelineno-109-11 href=#__codelineno-109-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-109-12><a id=__codelineno-109-12 name=__codelineno-109-12 href=#__codelineno-109-12></a><span class=p>)</span>
</span></code></pre></div> <p>Get position mask per column or group.</p> <p>Creates a boolean mask where each element is True if a position exists at the corresponding bar.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Direction for filtering asset positions.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>assets</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset positions.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_assets title=vectorbtpro.portfolio.base.Portfolio.get_assets>Portfolio.get_assets</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Boolean mask indicating the presence of a position at each bar.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.position_mask_grouped_nb title=vectorbtpro.portfolio.nb.analysis.position_mask_grouped_nb>position_mask_grouped_nb</a> if grouping is enabled.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.position_mask_nb title=vectorbtpro.portfolio.nb.analysis.position_mask_nb>position_mask_nb</a> if grouping is disabled.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_positions>get_positions <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6663-L6715 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_positions title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-110-1><a id=__codelineno-110-1 name=__codelineno-110-1 href=#__codelineno-110-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_positions</span><span class=p>(</span>
</span><span id=__span-110-2><a id=__codelineno-110-2 name=__codelineno-110-2 href=#__codelineno-110-2></a>    <span class=n>trades</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-110-3><a id=__codelineno-110-3 name=__codelineno-110-3 href=#__codelineno-110-3></a>    <span class=n>positions_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-110-4><a id=__codelineno-110-4 name=__codelineno-110-4 href=#__codelineno-110-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-110-5><a id=__codelineno-110-5 name=__codelineno-110-5 href=#__codelineno-110-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-110-6><a id=__codelineno-110-6 name=__codelineno-110-6 href=#__codelineno-110-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-110-7><a id=__codelineno-110-7 name=__codelineno-110-7 href=#__codelineno-110-7></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-110-8><a id=__codelineno-110-8 name=__codelineno-110-8 href=#__codelineno-110-8></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-110-9><a id=__codelineno-110-9 name=__codelineno-110-9 href=#__codelineno-110-9></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-110-10><a id=__codelineno-110-10 name=__codelineno-110-10 href=#__codelineno-110-10></a><span class=p>)</span>
</span></code></pre></div> <p>Return position records.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>trades</code></strong> :&ensp;<code>Optional[Trades]</code></dt> <dd> <p>Instance containing trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_exit_trades title=vectorbtpro.portfolio.base.Portfolio.get_exit_trades>Portfolio.get_exit_trades</a> if not provided.</p> </dd> <dt><strong><code>positions_cls</code></strong> :&ensp;<code>Optional[type]</code></dt> <dd> <p>Class used for wrapping position records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.positions_cls title=vectorbtpro.portfolio.base.Portfolio.positions_cls>Portfolio.positions_cls</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.Positions.from_trades title=vectorbtpro.portfolio.trades.Positions.from_trades>Positions.from_trades</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Positions</code></dt> <dd>Instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.Positions title=vectorbtpro.portfolio.trades.Positions>Positions</a> with position records.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_prob_sharpe_ratio>get_prob_sharpe_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_prob_sharpe_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-111-1><a id=__codelineno-111-1 name=__codelineno-111-1 href=#__codelineno-111-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_prob_sharpe_ratio</span><span class=p>(</span>
</span><span id=__span-111-2><a id=__codelineno-111-2 name=__codelineno-111-2 href=#__codelineno-111-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-111-3><a id=__codelineno-111-3 name=__codelineno-111-3 href=#__codelineno-111-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-4><a id=__codelineno-111-4 name=__codelineno-111-4 href=#__codelineno-111-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-111-5><a id=__codelineno-111-5 name=__codelineno-111-5 href=#__codelineno-111-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-6><a id=__codelineno-111-6 name=__codelineno-111-6 href=#__codelineno-111-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-111-7><a id=__codelineno-111-7 name=__codelineno-111-7 href=#__codelineno-111-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-111-8><a id=__codelineno-111-8 name=__codelineno-111-8 href=#__codelineno-111-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-9><a id=__codelineno-111-9 name=__codelineno-111-9 href=#__codelineno-111-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-10><a id=__codelineno-111-10 name=__codelineno-111-10 href=#__codelineno-111-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-111-11><a id=__codelineno-111-11 name=__codelineno-111-11 href=#__codelineno-111-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-12><a id=__codelineno-111-12 name=__codelineno-111-12 href=#__codelineno-111-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-13><a id=__codelineno-111-13 name=__codelineno-111-13 href=#__codelineno-111-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-14><a id=__codelineno-111-14 name=__codelineno-111-14 href=#__codelineno-111-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-15><a id=__codelineno-111-15 name=__codelineno-111-15 href=#__codelineno-111-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-16><a id=__codelineno-111-16 name=__codelineno-111-16 href=#__codelineno-111-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-17><a id=__codelineno-111-17 name=__codelineno-111-17 href=#__codelineno-111-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-111-18><a id=__codelineno-111-18 name=__codelineno-111-18 href=#__codelineno-111-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-111-19><a id=__codelineno-111-19 name=__codelineno-111-19 href=#__codelineno-111-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.prob_sharpe_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.prob_sharpe_ratio>ReturnsAccessor.prob_sharpe_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_qs>get_qs <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10628-L10716 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_qs title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-112-1><a id=__codelineno-112-1 name=__codelineno-112-1 href=#__codelineno-112-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_qs</span><span class=p>(</span>
</span><span id=__span-112-2><a id=__codelineno-112-2 name=__codelineno-112-2 href=#__codelineno-112-2></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-3><a id=__codelineno-112-3 name=__codelineno-112-3 href=#__codelineno-112-3></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-112-4><a id=__codelineno-112-4 name=__codelineno-112-4 href=#__codelineno-112-4></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-5><a id=__codelineno-112-5 name=__codelineno-112-5 href=#__codelineno-112-5></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-112-6><a id=__codelineno-112-6 name=__codelineno-112-6 href=#__codelineno-112-6></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-112-7><a id=__codelineno-112-7 name=__codelineno-112-7 href=#__codelineno-112-7></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-8><a id=__codelineno-112-8 name=__codelineno-112-8 href=#__codelineno-112-8></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-9><a id=__codelineno-112-9 name=__codelineno-112-9 href=#__codelineno-112-9></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-112-10><a id=__codelineno-112-10 name=__codelineno-112-10 href=#__codelineno-112-10></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-11><a id=__codelineno-112-11 name=__codelineno-112-11 href=#__codelineno-112-11></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-12><a id=__codelineno-112-12 name=__codelineno-112-12 href=#__codelineno-112-12></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-13><a id=__codelineno-112-13 name=__codelineno-112-13 href=#__codelineno-112-13></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-14><a id=__codelineno-112-14 name=__codelineno-112-14 href=#__codelineno-112-14></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-15><a id=__codelineno-112-15 name=__codelineno-112-15 href=#__codelineno-112-15></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-16><a id=__codelineno-112-16 name=__codelineno-112-16 href=#__codelineno-112-16></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-112-17><a id=__codelineno-112-17 name=__codelineno-112-17 href=#__codelineno-112-17></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-112-18><a id=__codelineno-112-18 name=__codelineno-112-18 href=#__codelineno-112-18></a><span class=p>)</span>
</span></code></pre></div> <p>Get quantstats adapter.</p> <p>Compute and return a quantstats adapter based on the portfolio's returns accessor.</p> <p>Based on <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns_acc title=vectorbtpro.portfolio.base.Portfolio.get_returns_acc>Portfolio.get_returns_acc</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>returns</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Return Series or DataFrame.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns title=vectorbtpro.portfolio.base.Portfolio.get_returns>Portfolio.get_returns</a> or <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_returns title=vectorbtpro.portfolio.base.Portfolio.get_asset_returns>Portfolio.get_asset_returns</a> if not provided.</p> </dd> <dt><strong><code>use_asset_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to use asset returns instead of portfolio returns.</dd> <dt><strong><code>bm_returns</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Benchmark returns or a flag to resolve benchmark returns.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_bm_returns title=vectorbtpro.portfolio.base.Portfolio.get_bm_returns>Portfolio.get_bm_returns</a> if not provided.</p> </dd> <dt><strong><code>log_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to compute logarithmic returns.</dd> <dt><strong><code>daily_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to convert computed returns to daily returns.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>freq</code></strong> :&ensp;<code>Optional[FrequencyLike]</code></dt> <dd> <p>Frequency of the index (e.g., "daily", "15 min", "index_mean").</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.freq title=vectorbtpro.base.wrapping.ArrayWrapper.freq>ArrayWrapper.freq</a> if not provided. See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/datetime_/#vectorbtpro.utils.datetime_.infer_index_freq title=vectorbtpro.utils.datetime_.infer_index_freq>infer_index_freq</a>.</p> </dd> <dt><strong><code>year_freq</code></strong> :&ensp;<code>Optional[FrequencyLike]</code></dt> <dd> <p>Year frequency for annualization (e.g., "252 days", "auto").</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.year_freq title=vectorbtpro.portfolio.base.Portfolio.year_freq>Portfolio.year_freq</a> if not provided.</p> </dd> <dt><strong><code>defaults</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Dictionary of default parameters.</p> <p>Merges with <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.returns_acc_defaults title=vectorbtpro.portfolio.base.Portfolio.returns_acc_defaults>Portfolio.returns_acc_defaults</a>.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/returns/qs_adapter/#vectorbtpro.returns.qs_adapter.QSAdapter title=vectorbtpro.returns.qs_adapter.QSAdapter>QSAdapter</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>QSAdapter</code></dt> <dd>Instance of <a href=https://vectorbt.pro/pvt_41531c19/api/returns/qs_adapter/#vectorbtpro.returns.qs_adapter.QSAdapter title=vectorbtpro.returns.qs_adapter.QSAdapter>QSAdapter</a>.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_returns>get_returns <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L9607-L9731 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_returns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-113-1><a id=__codelineno-113-1 name=__codelineno-113-1 href=#__codelineno-113-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_returns</span><span class=p>(</span>
</span><span id=__span-113-2><a id=__codelineno-113-2 name=__codelineno-113-2 href=#__codelineno-113-2></a>    <span class=n>init_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-3><a id=__codelineno-113-3 name=__codelineno-113-3 href=#__codelineno-113-3></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-4><a id=__codelineno-113-4 name=__codelineno-113-4 href=#__codelineno-113-4></a>    <span class=n>cash_deposits_as_input</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-5><a id=__codelineno-113-5 name=__codelineno-113-5 href=#__codelineno-113-5></a>    <span class=n>value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-6><a id=__codelineno-113-6 name=__codelineno-113-6 href=#__codelineno-113-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-113-7><a id=__codelineno-113-7 name=__codelineno-113-7 href=#__codelineno-113-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-113-8><a id=__codelineno-113-8 name=__codelineno-113-8 href=#__codelineno-113-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-9><a id=__codelineno-113-9 name=__codelineno-113-9 href=#__codelineno-113-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-10><a id=__codelineno-113-10 name=__codelineno-113-10 href=#__codelineno-113-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-113-11><a id=__codelineno-113-11 name=__codelineno-113-11 href=#__codelineno-113-11></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-12><a id=__codelineno-113-12 name=__codelineno-113-12 href=#__codelineno-113-12></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-13><a id=__codelineno-113-13 name=__codelineno-113-13 href=#__codelineno-113-13></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-14><a id=__codelineno-113-14 name=__codelineno-113-14 href=#__codelineno-113-14></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-113-15><a id=__codelineno-113-15 name=__codelineno-113-15 href=#__codelineno-113-15></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-113-16><a id=__codelineno-113-16 name=__codelineno-113-16 href=#__codelineno-113-16></a><span class=p>)</span>
</span></code></pre></div> <p>Return return series calculated from portfolio value.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_value title=vectorbtpro.portfolio.base.Portfolio.get_init_value>Portfolio.get_init_value</a> if not provided.</p> </dd> <dt><strong><code>cash_deposits</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash deposits or withdrawals at the beginning of each bar.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_deposits title=vectorbtpro.portfolio.base.Portfolio.get_cash_deposits>Portfolio.get_cash_deposits</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>cash_deposits_as_input</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Whether to add cash deposits to the input value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.cash_deposits_as_input title=vectorbtpro.portfolio.base.Portfolio.cash_deposits_as_input>Portfolio.cash_deposits_as_input</a> or False if not provided.</p> </dd> <dt><strong><code>value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Portfolio value series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_value title=vectorbtpro.portfolio.base.Portfolio.get_value>Portfolio.get_value</a> if not provided.</p> </dd> <dt><strong><code>log_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to compute logarithmic returns.</dd> <dt><strong><code>daily_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to convert computed returns to daily returns.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Wrapped return series based on portfolio value and cash adjustments.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.returns_nb title=vectorbtpro.portfolio.nb.analysis.returns_nb>returns_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_returns_acc>get_returns_acc <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10483-L10617 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_returns_acc title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-114-1><a id=__codelineno-114-1 name=__codelineno-114-1 href=#__codelineno-114-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_returns_acc</span><span class=p>(</span>
</span><span id=__span-114-2><a id=__codelineno-114-2 name=__codelineno-114-2 href=#__codelineno-114-2></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-3><a id=__codelineno-114-3 name=__codelineno-114-3 href=#__codelineno-114-3></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-114-4><a id=__codelineno-114-4 name=__codelineno-114-4 href=#__codelineno-114-4></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-5><a id=__codelineno-114-5 name=__codelineno-114-5 href=#__codelineno-114-5></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-114-6><a id=__codelineno-114-6 name=__codelineno-114-6 href=#__codelineno-114-6></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-114-7><a id=__codelineno-114-7 name=__codelineno-114-7 href=#__codelineno-114-7></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-8><a id=__codelineno-114-8 name=__codelineno-114-8 href=#__codelineno-114-8></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-9><a id=__codelineno-114-9 name=__codelineno-114-9 href=#__codelineno-114-9></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-114-10><a id=__codelineno-114-10 name=__codelineno-114-10 href=#__codelineno-114-10></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-11><a id=__codelineno-114-11 name=__codelineno-114-11 href=#__codelineno-114-11></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-12><a id=__codelineno-114-12 name=__codelineno-114-12 href=#__codelineno-114-12></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-13><a id=__codelineno-114-13 name=__codelineno-114-13 href=#__codelineno-114-13></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-14><a id=__codelineno-114-14 name=__codelineno-114-14 href=#__codelineno-114-14></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-15><a id=__codelineno-114-15 name=__codelineno-114-15 href=#__codelineno-114-15></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-16><a id=__codelineno-114-16 name=__codelineno-114-16 href=#__codelineno-114-16></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-114-17><a id=__codelineno-114-17 name=__codelineno-114-17 href=#__codelineno-114-17></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-114-18><a id=__codelineno-114-18 name=__codelineno-114-18 href=#__codelineno-114-18></a><span class=p>)</span>
</span></code></pre></div> <p>Get returns accessor.</p> <p>Retrieve the returns accessor for the portfolio. If the return series is not provided, it is resolved based on the <code>use_asset_returns</code> flag and other parameters.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>returns</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Return Series or DataFrame.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns title=vectorbtpro.portfolio.base.Portfolio.get_returns>Portfolio.get_returns</a> or <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_returns title=vectorbtpro.portfolio.base.Portfolio.get_asset_returns>Portfolio.get_asset_returns</a> if not provided.</p> </dd> <dt><strong><code>use_asset_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to use asset returns instead of portfolio returns.</dd> <dt><strong><code>bm_returns</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Benchmark returns or a flag to resolve benchmark returns.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_bm_returns title=vectorbtpro.portfolio.base.Portfolio.get_bm_returns>Portfolio.get_bm_returns</a> if not provided.</p> </dd> <dt><strong><code>log_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to compute logarithmic returns.</dd> <dt><strong><code>daily_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to convert computed returns to daily returns.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>freq</code></strong> :&ensp;<code>Optional[FrequencyLike]</code></dt> <dd> <p>Frequency of the index (e.g., "daily", "15 min", "index_mean").</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.freq title=vectorbtpro.base.wrapping.ArrayWrapper.freq>ArrayWrapper.freq</a> if not provided. See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/datetime_/#vectorbtpro.utils.datetime_.infer_index_freq title=vectorbtpro.utils.datetime_.infer_index_freq>infer_index_freq</a>.</p> </dd> <dt><strong><code>year_freq</code></strong> :&ensp;<code>Optional[FrequencyLike]</code></dt> <dd> <p>Year frequency for annualization (e.g., "252 days", "auto").</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.year_freq title=vectorbtpro.portfolio.base.Portfolio.year_freq>Portfolio.year_freq</a> if not provided.</p> </dd> <dt><strong><code>defaults</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Dictionary of default parameters.</p> <p>Merges with <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.returns_acc_defaults title=vectorbtpro.portfolio.base.Portfolio.returns_acc_defaults>Portfolio.returns_acc_defaults</a>.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor title=vectorbtpro.returns.accessors.ReturnsAccessor>ReturnsAccessor</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>ReturnsAccessor</code></dt> <dd>Instance of <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor title=vectorbtpro.returns.accessors.ReturnsAccessor>ReturnsAccessor</a>.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio>get_sharpe_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-115-1><a id=__codelineno-115-1 name=__codelineno-115-1 href=#__codelineno-115-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_sharpe_ratio</span><span class=p>(</span>
</span><span id=__span-115-2><a id=__codelineno-115-2 name=__codelineno-115-2 href=#__codelineno-115-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-115-3><a id=__codelineno-115-3 name=__codelineno-115-3 href=#__codelineno-115-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-4><a id=__codelineno-115-4 name=__codelineno-115-4 href=#__codelineno-115-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-115-5><a id=__codelineno-115-5 name=__codelineno-115-5 href=#__codelineno-115-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-6><a id=__codelineno-115-6 name=__codelineno-115-6 href=#__codelineno-115-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-115-7><a id=__codelineno-115-7 name=__codelineno-115-7 href=#__codelineno-115-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-115-8><a id=__codelineno-115-8 name=__codelineno-115-8 href=#__codelineno-115-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-9><a id=__codelineno-115-9 name=__codelineno-115-9 href=#__codelineno-115-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-10><a id=__codelineno-115-10 name=__codelineno-115-10 href=#__codelineno-115-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-115-11><a id=__codelineno-115-11 name=__codelineno-115-11 href=#__codelineno-115-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-12><a id=__codelineno-115-12 name=__codelineno-115-12 href=#__codelineno-115-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-13><a id=__codelineno-115-13 name=__codelineno-115-13 href=#__codelineno-115-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-14><a id=__codelineno-115-14 name=__codelineno-115-14 href=#__codelineno-115-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-15><a id=__codelineno-115-15 name=__codelineno-115-15 href=#__codelineno-115-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-16><a id=__codelineno-115-16 name=__codelineno-115-16 href=#__codelineno-115-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-17><a id=__codelineno-115-17 name=__codelineno-115-17 href=#__codelineno-115-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-115-18><a id=__codelineno-115-18 name=__codelineno-115-18 href=#__codelineno-115-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-115-19><a id=__codelineno-115-19 name=__codelineno-115-19 href=#__codelineno-115-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.sharpe_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.sharpe_ratio>ReturnsAccessor.sharpe_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio_std>get_sharpe_ratio_std <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio_std title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-116-1><a id=__codelineno-116-1 name=__codelineno-116-1 href=#__codelineno-116-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_sharpe_ratio_std</span><span class=p>(</span>
</span><span id=__span-116-2><a id=__codelineno-116-2 name=__codelineno-116-2 href=#__codelineno-116-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-116-3><a id=__codelineno-116-3 name=__codelineno-116-3 href=#__codelineno-116-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-4><a id=__codelineno-116-4 name=__codelineno-116-4 href=#__codelineno-116-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-116-5><a id=__codelineno-116-5 name=__codelineno-116-5 href=#__codelineno-116-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-6><a id=__codelineno-116-6 name=__codelineno-116-6 href=#__codelineno-116-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-116-7><a id=__codelineno-116-7 name=__codelineno-116-7 href=#__codelineno-116-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-116-8><a id=__codelineno-116-8 name=__codelineno-116-8 href=#__codelineno-116-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-9><a id=__codelineno-116-9 name=__codelineno-116-9 href=#__codelineno-116-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-10><a id=__codelineno-116-10 name=__codelineno-116-10 href=#__codelineno-116-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-116-11><a id=__codelineno-116-11 name=__codelineno-116-11 href=#__codelineno-116-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-12><a id=__codelineno-116-12 name=__codelineno-116-12 href=#__codelineno-116-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-13><a id=__codelineno-116-13 name=__codelineno-116-13 href=#__codelineno-116-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-14><a id=__codelineno-116-14 name=__codelineno-116-14 href=#__codelineno-116-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-15><a id=__codelineno-116-15 name=__codelineno-116-15 href=#__codelineno-116-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-16><a id=__codelineno-116-16 name=__codelineno-116-16 href=#__codelineno-116-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-17><a id=__codelineno-116-17 name=__codelineno-116-17 href=#__codelineno-116-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-116-18><a id=__codelineno-116-18 name=__codelineno-116-18 href=#__codelineno-116-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-116-19><a id=__codelineno-116-19 name=__codelineno-116-19 href=#__codelineno-116-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.sharpe_ratio_std title=vectorbtpro.returns.accessors.ReturnsAccessor.sharpe_ratio_std>ReturnsAccessor.sharpe_ratio_std</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_short_view>get_short_view <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6176-L6242 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_short_view title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-117-1><a id=__codelineno-117-1 name=__codelineno-117-1 href=#__codelineno-117-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_short_view</span><span class=p>(</span>
</span><span id=__span-117-2><a id=__codelineno-117-2 name=__codelineno-117-2 href=#__codelineno-117-2></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-117-3><a id=__codelineno-117-3 name=__codelineno-117-3 href=#__codelineno-117-3></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-117-4><a id=__codelineno-117-4 name=__codelineno-117-4 href=#__codelineno-117-4></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-117-5><a id=__codelineno-117-5 name=__codelineno-117-5 href=#__codelineno-117-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-117-6><a id=__codelineno-117-6 name=__codelineno-117-6 href=#__codelineno-117-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-117-7><a id=__codelineno-117-7 name=__codelineno-117-7 href=#__codelineno-117-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-117-8><a id=__codelineno-117-8 name=__codelineno-117-8 href=#__codelineno-117-8></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-117-9><a id=__codelineno-117-9 name=__codelineno-117-9 href=#__codelineno-117-9></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-117-10><a id=__codelineno-117-10 name=__codelineno-117-10 href=#__codelineno-117-10></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-117-11><a id=__codelineno-117-11 name=__codelineno-117-11 href=#__codelineno-117-11></a><span class=p>)</span>
</span></code></pre></div> <p>Get view of portfolio with short positions only.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <code>Portfolio._init_position</code> if not provided.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Defaults to <code>Portfolio._init_price</code> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/utils/config/#vectorbtpro.utils.config.Configured.replace title=vectorbtpro.portfolio.base.Portfolio.replace>Configured.replace</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a></dt> <dd>Portfolio view containing only short positions, with non-short positions set to zero and price values updated accordingly.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_signals>get_signals <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6902-L7016 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_signals title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-118-1><a id=__codelineno-118-1 name=__codelineno-118-1 href=#__codelineno-118-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_signals</span><span class=p>(</span>
</span><span id=__span-118-2><a id=__codelineno-118-2 name=__codelineno-118-2 href=#__codelineno-118-2></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-118-3><a id=__codelineno-118-3 name=__codelineno-118-3 href=#__codelineno-118-3></a>    <span class=n>entry_trades</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-118-4><a id=__codelineno-118-4 name=__codelineno-118-4 href=#__codelineno-118-4></a>    <span class=n>exit_trades</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-118-5><a id=__codelineno-118-5 name=__codelineno-118-5 href=#__codelineno-118-5></a>    <span class=n>idx_arr</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-118-6><a id=__codelineno-118-6 name=__codelineno-118-6 href=#__codelineno-118-6></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-118-7><a id=__codelineno-118-7 name=__codelineno-118-7 href=#__codelineno-118-7></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-118-8><a id=__codelineno-118-8 name=__codelineno-118-8 href=#__codelineno-118-8></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-118-9><a id=__codelineno-118-9 name=__codelineno-118-9 href=#__codelineno-118-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-118-10><a id=__codelineno-118-10 name=__codelineno-118-10 href=#__codelineno-118-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-118-11><a id=__codelineno-118-11 name=__codelineno-118-11 href=#__codelineno-118-11></a><span class=p>)</span>
</span></code></pre></div> <p>Return signals for long and short entries and exits.</p> <p>Compute boolean signals indicating the occurrence of long entry orders, long exit orders, short entry orders, and short exit orders. Signals are computed per group if grouping is enabled. Pass <code>group_by=False</code> to disable grouping.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>entry_trades</code></strong> :&ensp;<code>Optional[EntryTrades]</code></dt> <dd> <p>Instance containing entry trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_entry_trades title=vectorbtpro.portfolio.base.Portfolio.get_entry_trades>Portfolio.get_entry_trades</a> if not provided.</p> </dd> <dt><strong><code>exit_trades</code></strong> :&ensp;<code>Optional[ExitTrades]</code></dt> <dd> <p>Instance containing exit trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_exit_trades title=vectorbtpro.portfolio.base.Portfolio.get_exit_trades>Portfolio.get_exit_trades</a> if not provided.</p> </dd> <dt><strong><code>idx_arr</code></strong> :&ensp;<code>Union[None, str, Array1d]</code></dt> <dd> <p>Array of row indices or field name for retrieving row indices.</p> <p>If a string, it is used with <a href=https://vectorbt.pro/pvt_41531c19/api/records/base/#vectorbtpro.records.base.Records.map_field title=vectorbtpro.records.base.Records.map_field>Records.map_field</a>; otherwise, with <a href=https://vectorbt.pro/pvt_41531c19/api/records/base/#vectorbtpro.records.base.Records.map_array title=vectorbtpro.records.base.Records.map_array>Records.map_array</a>.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Tuple[SeriesFrame, SeriesFrame, SeriesFrame, SeriesFrame]</code></dt> <dd> <p>Signals for long entries, long exits, short entries, and short exits.</p> </dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_sortino_ratio>get_sortino_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_sortino_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-119-1><a id=__codelineno-119-1 name=__codelineno-119-1 href=#__codelineno-119-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_sortino_ratio</span><span class=p>(</span>
</span><span id=__span-119-2><a id=__codelineno-119-2 name=__codelineno-119-2 href=#__codelineno-119-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-119-3><a id=__codelineno-119-3 name=__codelineno-119-3 href=#__codelineno-119-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-4><a id=__codelineno-119-4 name=__codelineno-119-4 href=#__codelineno-119-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-119-5><a id=__codelineno-119-5 name=__codelineno-119-5 href=#__codelineno-119-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-6><a id=__codelineno-119-6 name=__codelineno-119-6 href=#__codelineno-119-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-119-7><a id=__codelineno-119-7 name=__codelineno-119-7 href=#__codelineno-119-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-119-8><a id=__codelineno-119-8 name=__codelineno-119-8 href=#__codelineno-119-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-9><a id=__codelineno-119-9 name=__codelineno-119-9 href=#__codelineno-119-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-10><a id=__codelineno-119-10 name=__codelineno-119-10 href=#__codelineno-119-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-119-11><a id=__codelineno-119-11 name=__codelineno-119-11 href=#__codelineno-119-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-12><a id=__codelineno-119-12 name=__codelineno-119-12 href=#__codelineno-119-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-13><a id=__codelineno-119-13 name=__codelineno-119-13 href=#__codelineno-119-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-14><a id=__codelineno-119-14 name=__codelineno-119-14 href=#__codelineno-119-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-15><a id=__codelineno-119-15 name=__codelineno-119-15 href=#__codelineno-119-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-16><a id=__codelineno-119-16 name=__codelineno-119-16 href=#__codelineno-119-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-17><a id=__codelineno-119-17 name=__codelineno-119-17 href=#__codelineno-119-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-119-18><a id=__codelineno-119-18 name=__codelineno-119-18 href=#__codelineno-119-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-119-19><a id=__codelineno-119-19 name=__codelineno-119-19 href=#__codelineno-119-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.sortino_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.sortino_ratio>ReturnsAccessor.sortino_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_tail_ratio>get_tail_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_tail_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-120-1><a id=__codelineno-120-1 name=__codelineno-120-1 href=#__codelineno-120-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_tail_ratio</span><span class=p>(</span>
</span><span id=__span-120-2><a id=__codelineno-120-2 name=__codelineno-120-2 href=#__codelineno-120-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-120-3><a id=__codelineno-120-3 name=__codelineno-120-3 href=#__codelineno-120-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-4><a id=__codelineno-120-4 name=__codelineno-120-4 href=#__codelineno-120-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-120-5><a id=__codelineno-120-5 name=__codelineno-120-5 href=#__codelineno-120-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-6><a id=__codelineno-120-6 name=__codelineno-120-6 href=#__codelineno-120-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-120-7><a id=__codelineno-120-7 name=__codelineno-120-7 href=#__codelineno-120-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-120-8><a id=__codelineno-120-8 name=__codelineno-120-8 href=#__codelineno-120-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-9><a id=__codelineno-120-9 name=__codelineno-120-9 href=#__codelineno-120-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-10><a id=__codelineno-120-10 name=__codelineno-120-10 href=#__codelineno-120-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-120-11><a id=__codelineno-120-11 name=__codelineno-120-11 href=#__codelineno-120-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-12><a id=__codelineno-120-12 name=__codelineno-120-12 href=#__codelineno-120-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-13><a id=__codelineno-120-13 name=__codelineno-120-13 href=#__codelineno-120-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-14><a id=__codelineno-120-14 name=__codelineno-120-14 href=#__codelineno-120-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-15><a id=__codelineno-120-15 name=__codelineno-120-15 href=#__codelineno-120-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-16><a id=__codelineno-120-16 name=__codelineno-120-16 href=#__codelineno-120-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-17><a id=__codelineno-120-17 name=__codelineno-120-17 href=#__codelineno-120-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-120-18><a id=__codelineno-120-18 name=__codelineno-120-18 href=#__codelineno-120-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-120-19><a id=__codelineno-120-19 name=__codelineno-120-19 href=#__codelineno-120-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.tail_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.tail_ratio>ReturnsAccessor.tail_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_total_cash_deposits>get_total_cash_deposits <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L7853-L7929 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_total_cash_deposits title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-121-1><a id=__codelineno-121-1 name=__codelineno-121-1 href=#__codelineno-121-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_total_cash_deposits</span><span class=p>(</span>
</span><span id=__span-121-2><a id=__codelineno-121-2 name=__codelineno-121-2 href=#__codelineno-121-2></a>    <span class=n>cash_deposits_raw</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-121-3><a id=__codelineno-121-3 name=__codelineno-121-3 href=#__codelineno-121-3></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-121-4><a id=__codelineno-121-4 name=__codelineno-121-4 href=#__codelineno-121-4></a>    <span class=n>split_shared</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-121-5><a id=__codelineno-121-5 name=__codelineno-121-5 href=#__codelineno-121-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-121-6><a id=__codelineno-121-6 name=__codelineno-121-6 href=#__codelineno-121-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-121-7><a id=__codelineno-121-7 name=__codelineno-121-7 href=#__codelineno-121-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-121-8><a id=__codelineno-121-8 name=__codelineno-121-8 href=#__codelineno-121-8></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-121-9><a id=__codelineno-121-9 name=__codelineno-121-9 href=#__codelineno-121-9></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-121-10><a id=__codelineno-121-10 name=__codelineno-121-10 href=#__codelineno-121-10></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-121-11><a id=__codelineno-121-11 name=__codelineno-121-11 href=#__codelineno-121-11></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-121-12><a id=__codelineno-121-12 name=__codelineno-121-12 href=#__codelineno-121-12></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-121-13><a id=__codelineno-121-13 name=__codelineno-121-13 href=#__codelineno-121-13></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-121-14><a id=__codelineno-121-14 name=__codelineno-121-14 href=#__codelineno-121-14></a><span class=p>)</span>
</span></code></pre></div> <p>Get total cash deposit series per column or group.</p> <p>Aggregates cash deposit data across columns or groups by summing the individual cash deposits.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>cash_deposits_raw</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Raw cash deposit values.</p> <p>Defaults to <code>Portfolio._cash_deposits</code> if not provided.</p> </dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>Optional[bool]</code></dt> <dd> <p>Flag indicating whether cash is shared among assets of the same group.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.cash_sharing title=vectorbtpro.portfolio.base.Portfolio.cash_sharing>Portfolio.cash_sharing</a> if not provided.</p> </dd> <dt><strong><code>split_shared</code></strong> :&ensp;<code>bool</code></dt> <dd>Whether to split shared cash equally among columns in a group.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> if not provided.</p> <p>If False, weights are ignored.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>ArrayLike</code></dt> <dd>Total cash deposit series aggregated over columns.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_total_cash_earnings>get_total_cash_earnings <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8036-L8102 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_total_cash_earnings title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-122-1><a id=__codelineno-122-1 name=__codelineno-122-1 href=#__codelineno-122-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_total_cash_earnings</span><span class=p>(</span>
</span><span id=__span-122-2><a id=__codelineno-122-2 name=__codelineno-122-2 href=#__codelineno-122-2></a>    <span class=n>cash_earnings_raw</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-122-3><a id=__codelineno-122-3 name=__codelineno-122-3 href=#__codelineno-122-3></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-122-4><a id=__codelineno-122-4 name=__codelineno-122-4 href=#__codelineno-122-4></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-122-5><a id=__codelineno-122-5 name=__codelineno-122-5 href=#__codelineno-122-5></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-122-6><a id=__codelineno-122-6 name=__codelineno-122-6 href=#__codelineno-122-6></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-122-7><a id=__codelineno-122-7 name=__codelineno-122-7 href=#__codelineno-122-7></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-122-8><a id=__codelineno-122-8 name=__codelineno-122-8 href=#__codelineno-122-8></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-122-9><a id=__codelineno-122-9 name=__codelineno-122-9 href=#__codelineno-122-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-122-10><a id=__codelineno-122-10 name=__codelineno-122-10 href=#__codelineno-122-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-122-11><a id=__codelineno-122-11 name=__codelineno-122-11 href=#__codelineno-122-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-122-12><a id=__codelineno-122-12 name=__codelineno-122-12 href=#__codelineno-122-12></a><span class=p>)</span>
</span></code></pre></div> <p>Get total cash earnings series aggregated per column or group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>cash_earnings_raw</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Raw cash earnings data.</p> <p>Defaults to <code>Portfolio._cash_earnings</code> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> if not provided.</p> <p>If False, weights are ignored.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>ArrayLike</code></dt> <dd>Wrapped total cash earnings aggregated per column or group.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_total_market_return>get_total_market_return <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10232-L10320 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_total_market_return title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-123-1><a id=__codelineno-123-1 name=__codelineno-123-1 href=#__codelineno-123-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_total_market_return</span><span class=p>(</span>
</span><span id=__span-123-2><a id=__codelineno-123-2 name=__codelineno-123-2 href=#__codelineno-123-2></a>    <span class=n>input_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-123-3><a id=__codelineno-123-3 name=__codelineno-123-3 href=#__codelineno-123-3></a>    <span class=n>market_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-123-4><a id=__codelineno-123-4 name=__codelineno-123-4 href=#__codelineno-123-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-123-5><a id=__codelineno-123-5 name=__codelineno-123-5 href=#__codelineno-123-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-123-6><a id=__codelineno-123-6 name=__codelineno-123-6 href=#__codelineno-123-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-123-7><a id=__codelineno-123-7 name=__codelineno-123-7 href=#__codelineno-123-7></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-123-8><a id=__codelineno-123-8 name=__codelineno-123-8 href=#__codelineno-123-8></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-123-9><a id=__codelineno-123-9 name=__codelineno-123-9 href=#__codelineno-123-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-123-10><a id=__codelineno-123-10 name=__codelineno-123-10 href=#__codelineno-123-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-123-11><a id=__codelineno-123-11 name=__codelineno-123-11 href=#__codelineno-123-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-123-12><a id=__codelineno-123-12 name=__codelineno-123-12 href=#__codelineno-123-12></a><span class=p>)</span>
</span></code></pre></div> <p>Return total market return.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>init_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_value title=vectorbtpro.portfolio.base.Portfolio.get_init_value>Portfolio.get_init_value</a> if not provided.</p> </dd> <dt><strong><code>market_value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Market value series used for computing returns.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_market_value title=vectorbtpro.portfolio.base.Portfolio.get_market_value>Portfolio.get_market_value</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>MaybeSeries</code></dt> <dd>Total market return as a reduced value.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.total_market_return_nb title=vectorbtpro.portfolio.nb.analysis.total_market_return_nb>total_market_return_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_total_profit>get_total_profit <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L9304-L9445 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_total_profit title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-124-1><a id=__codelineno-124-1 name=__codelineno-124-1 href=#__codelineno-124-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_total_profit</span><span class=p>(</span>
</span><span id=__span-124-2><a id=__codelineno-124-2 name=__codelineno-124-2 href=#__codelineno-124-2></a>    <span class=n>close</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-3><a id=__codelineno-124-3 name=__codelineno-124-3 href=#__codelineno-124-3></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-4><a id=__codelineno-124-4 name=__codelineno-124-4 href=#__codelineno-124-4></a>    <span class=n>init_position</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-5><a id=__codelineno-124-5 name=__codelineno-124-5 href=#__codelineno-124-5></a>    <span class=n>init_price</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-6><a id=__codelineno-124-6 name=__codelineno-124-6 href=#__codelineno-124-6></a>    <span class=n>cash_earnings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-7><a id=__codelineno-124-7 name=__codelineno-124-7 href=#__codelineno-124-7></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-8><a id=__codelineno-124-8 name=__codelineno-124-8 href=#__codelineno-124-8></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-9><a id=__codelineno-124-9 name=__codelineno-124-9 href=#__codelineno-124-9></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-124-10><a id=__codelineno-124-10 name=__codelineno-124-10 href=#__codelineno-124-10></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-11><a id=__codelineno-124-11 name=__codelineno-124-11 href=#__codelineno-124-11></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-12><a id=__codelineno-124-12 name=__codelineno-124-12 href=#__codelineno-124-12></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-13><a id=__codelineno-124-13 name=__codelineno-124-13 href=#__codelineno-124-13></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-124-14><a id=__codelineno-124-14 name=__codelineno-124-14 href=#__codelineno-124-14></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-124-15><a id=__codelineno-124-15 name=__codelineno-124-15 href=#__codelineno-124-15></a><span class=p>)</span>
</span></code></pre></div> <p>Return total profit per column or group.</p> <p>Compute the total profit from order records using an efficient calculation pathway. For instance-level calls, if various inputs are not provided, they are derived using shortcut attributes.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>close</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Price series (close prices) used for profit calculation.</p> <p>If not provided, uses <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.filled_close title=vectorbtpro.portfolio.base.Portfolio.filled_close>Portfolio.filled_close</a> if available; otherwise, uses <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.close title=vectorbtpro.portfolio.base.Portfolio.close>Portfolio.close</a>.</p> </dd> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>init_position</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position title=vectorbtpro.portfolio.base.Portfolio.get_init_position>Portfolio.get_init_position</a> with <code>keep_flex=True</code> or 0 if not provided.</p> </dd> <dt><strong><code>init_price</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Initial position price.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_price title=vectorbtpro.portfolio.base.Portfolio.get_init_price>Portfolio.get_init_price</a> with <code>keep_flex=True</code> or NaN if not provided.</p> </dd> <dt><strong><code>cash_earnings</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Cash earnings or losses at the end of each bar.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_earnings title=vectorbtpro.portfolio.base.Portfolio.get_cash_earnings>Portfolio.get_cash_earnings</a> with <code>keep_flex=True</code> and <code>group_by=False</code> or 0 if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>MaybeSeries</code></dt> <dd>Total profit calculated from order records.</dd> </dl> <p><strong>See</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.total_profit_nb title=vectorbtpro.portfolio.nb.analysis.total_profit_nb>total_profit_nb</a> regardless of grouping.</li> <li><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.total_profit_grouped_nb title=vectorbtpro.portfolio.nb.analysis.total_profit_grouped_nb>total_profit_grouped_nb</a> if grouping is enabled.</li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_total_return>get_total_return <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L9528-L9605 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_total_return title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-125-1><a id=__codelineno-125-1 name=__codelineno-125-1 href=#__codelineno-125-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_total_return</span><span class=p>(</span>
</span><span id=__span-125-2><a id=__codelineno-125-2 name=__codelineno-125-2 href=#__codelineno-125-2></a>    <span class=n>input_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-125-3><a id=__codelineno-125-3 name=__codelineno-125-3 href=#__codelineno-125-3></a>    <span class=n>total_profit</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-125-4><a id=__codelineno-125-4 name=__codelineno-125-4 href=#__codelineno-125-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-125-5><a id=__codelineno-125-5 name=__codelineno-125-5 href=#__codelineno-125-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-125-6><a id=__codelineno-125-6 name=__codelineno-125-6 href=#__codelineno-125-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-125-7><a id=__codelineno-125-7 name=__codelineno-125-7 href=#__codelineno-125-7></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-125-8><a id=__codelineno-125-8 name=__codelineno-125-8 href=#__codelineno-125-8></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-125-9><a id=__codelineno-125-9 name=__codelineno-125-9 href=#__codelineno-125-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-125-10><a id=__codelineno-125-10 name=__codelineno-125-10 href=#__codelineno-125-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-125-11><a id=__codelineno-125-11 name=__codelineno-125-11 href=#__codelineno-125-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-125-12><a id=__codelineno-125-12 name=__codelineno-125-12 href=#__codelineno-125-12></a><span class=p>)</span>
</span></code></pre></div> <p>Return total return per column or group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>input_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio or input value used for calculation.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_input_value title=vectorbtpro.portfolio.base.Portfolio.get_input_value>Portfolio.get_input_value</a> if not provided.</p> </dd> <dt><strong><code>total_profit</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Total profit to be added to the input value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_total_profit title=vectorbtpro.portfolio.base.Portfolio.get_total_profit>Portfolio.get_total_profit</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>MaybeSeries</code></dt> <dd>Wrapped total return computed as the total profit divided by the input value.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_trade_history>get_trade_history <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6787-L6900 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_trade_history title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-126-1><a id=__codelineno-126-1 name=__codelineno-126-1 href=#__codelineno-126-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_trade_history</span><span class=p>(</span>
</span><span id=__span-126-2><a id=__codelineno-126-2 name=__codelineno-126-2 href=#__codelineno-126-2></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-126-3><a id=__codelineno-126-3 name=__codelineno-126-3 href=#__codelineno-126-3></a>    <span class=n>entry_trades</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-126-4><a id=__codelineno-126-4 name=__codelineno-126-4 href=#__codelineno-126-4></a>    <span class=n>exit_trades</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-126-5><a id=__codelineno-126-5 name=__codelineno-126-5 href=#__codelineno-126-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-126-6><a id=__codelineno-126-6 name=__codelineno-126-6 href=#__codelineno-126-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-126-7><a id=__codelineno-126-7 name=__codelineno-126-7 href=#__codelineno-126-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-126-8><a id=__codelineno-126-8 name=__codelineno-126-8 href=#__codelineno-126-8></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-126-9><a id=__codelineno-126-9 name=__codelineno-126-9 href=#__codelineno-126-9></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-126-10><a id=__codelineno-126-10 name=__codelineno-126-10 href=#__codelineno-126-10></a><span class=p>)</span>
</span></code></pre></div> <p>Return a readable DataFrame merging order history with entry and exit trade records.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>entry_trades</code></strong> :&ensp;<code>Optional[EntryTrades]</code></dt> <dd> <p>Instance containing entry trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_entry_trades title=vectorbtpro.portfolio.base.Portfolio.get_entry_trades>Portfolio.get_entry_trades</a> if not provided.</p> </dd> <dt><strong><code>exit_trades</code></strong> :&ensp;<code>Optional[ExitTrades]</code></dt> <dd> <p>Instance containing exit trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_exit_trades title=vectorbtpro.portfolio.base.Portfolio.get_exit_trades>Portfolio.get_exit_trades</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>DataFrame</code></dt> <dd>Readable DataFrame merging order history with entry and exit trade records.</dd> </dl> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The P&amp;L and return aggregated across the DataFrame may not match the actual total P&amp;L and return, as the DataFrame annotates entry and exit orders with performance relative to their respective trade types. For accurate total statistics, aggregate only statistics of a single trade type. Additionally, entry orders include open statistics, whereas exit orders do not.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_trades>get_trades <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6717-L6785 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_trades title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-127-1><a id=__codelineno-127-1 name=__codelineno-127-1 href=#__codelineno-127-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_trades</span><span class=p>(</span>
</span><span id=__span-127-2><a id=__codelineno-127-2 name=__codelineno-127-2 href=#__codelineno-127-2></a>    <span class=n>trades_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-127-3><a id=__codelineno-127-3 name=__codelineno-127-3 href=#__codelineno-127-3></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-127-4><a id=__codelineno-127-4 name=__codelineno-127-4 href=#__codelineno-127-4></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-127-5><a id=__codelineno-127-5 name=__codelineno-127-5 href=#__codelineno-127-5></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-127-6><a id=__codelineno-127-6 name=__codelineno-127-6 href=#__codelineno-127-6></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-127-7><a id=__codelineno-127-7 name=__codelineno-127-7 href=#__codelineno-127-7></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-127-8><a id=__codelineno-127-8 name=__codelineno-127-8 href=#__codelineno-127-8></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-127-9><a id=__codelineno-127-9 name=__codelineno-127-9 href=#__codelineno-127-9></a><span class=p>)</span>
</span></code></pre></div> <p>Return trade or position records based on the portfolio's trades type.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>trades_type</code></strong> :&ensp;<code>Optional[Union[str, int]]</code></dt> <dd> <p>Type of trades to retrieve.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.TradesType title=vectorbtpro.portfolio.enums.TradesType>TradesType</a> if provided as a string.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.trades_type title=vectorbtpro.portfolio.base.Portfolio.trades_type>Portfolio.trades_type</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_entry_trades title=vectorbtpro.portfolio.base.Portfolio.get_entry_trades>Portfolio.get_entry_trades</a>, <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_exit_trades title=vectorbtpro.portfolio.base.Portfolio.get_exit_trades>Portfolio.get_exit_trades</a>, or <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_positions title=vectorbtpro.portfolio.base.Portfolio.get_positions>Portfolio.get_positions</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Trades</code></dt> <dd>Trade or position records corresponding to the specified trades type.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_up_capture_ratio>get_up_capture_ratio <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_up_capture_ratio title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-128-1><a id=__codelineno-128-1 name=__codelineno-128-1 href=#__codelineno-128-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_up_capture_ratio</span><span class=p>(</span>
</span><span id=__span-128-2><a id=__codelineno-128-2 name=__codelineno-128-2 href=#__codelineno-128-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-128-3><a id=__codelineno-128-3 name=__codelineno-128-3 href=#__codelineno-128-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-4><a id=__codelineno-128-4 name=__codelineno-128-4 href=#__codelineno-128-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-128-5><a id=__codelineno-128-5 name=__codelineno-128-5 href=#__codelineno-128-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-6><a id=__codelineno-128-6 name=__codelineno-128-6 href=#__codelineno-128-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-128-7><a id=__codelineno-128-7 name=__codelineno-128-7 href=#__codelineno-128-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-128-8><a id=__codelineno-128-8 name=__codelineno-128-8 href=#__codelineno-128-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-9><a id=__codelineno-128-9 name=__codelineno-128-9 href=#__codelineno-128-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-10><a id=__codelineno-128-10 name=__codelineno-128-10 href=#__codelineno-128-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-128-11><a id=__codelineno-128-11 name=__codelineno-128-11 href=#__codelineno-128-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-12><a id=__codelineno-128-12 name=__codelineno-128-12 href=#__codelineno-128-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-13><a id=__codelineno-128-13 name=__codelineno-128-13 href=#__codelineno-128-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-14><a id=__codelineno-128-14 name=__codelineno-128-14 href=#__codelineno-128-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-15><a id=__codelineno-128-15 name=__codelineno-128-15 href=#__codelineno-128-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-16><a id=__codelineno-128-16 name=__codelineno-128-16 href=#__codelineno-128-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-17><a id=__codelineno-128-17 name=__codelineno-128-17 href=#__codelineno-128-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-128-18><a id=__codelineno-128-18 name=__codelineno-128-18 href=#__codelineno-128-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-128-19><a id=__codelineno-128-19 name=__codelineno-128-19 href=#__codelineno-128-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.up_capture_ratio title=vectorbtpro.returns.accessors.ReturnsAccessor.up_capture_ratio>ReturnsAccessor.up_capture_ratio</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_value>get_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L8884-L8977 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-129-1><a id=__codelineno-129-1 name=__codelineno-129-1 href=#__codelineno-129-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_value</span><span class=p>(</span>
</span><span id=__span-129-2><a id=__codelineno-129-2 name=__codelineno-129-2 href=#__codelineno-129-2></a>    <span class=n>cash</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-129-3><a id=__codelineno-129-3 name=__codelineno-129-3 href=#__codelineno-129-3></a>    <span class=n>asset_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-129-4><a id=__codelineno-129-4 name=__codelineno-129-4 href=#__codelineno-129-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-129-5><a id=__codelineno-129-5 name=__codelineno-129-5 href=#__codelineno-129-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-129-6><a id=__codelineno-129-6 name=__codelineno-129-6 href=#__codelineno-129-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-129-7><a id=__codelineno-129-7 name=__codelineno-129-7 href=#__codelineno-129-7></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-129-8><a id=__codelineno-129-8 name=__codelineno-129-8 href=#__codelineno-129-8></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-129-9><a id=__codelineno-129-9 name=__codelineno-129-9 href=#__codelineno-129-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-129-10><a id=__codelineno-129-10 name=__codelineno-129-10 href=#__codelineno-129-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-129-11><a id=__codelineno-129-11 name=__codelineno-129-11 href=#__codelineno-129-11></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-129-12><a id=__codelineno-129-12 name=__codelineno-129-12 href=#__codelineno-129-12></a><span class=p>)</span>
</span></code></pre></div> <p>Get portfolio value series per column or group.</p> <p>Calculates the portfolio value series for each asset or group based on the provided cash flows and asset values. By default, each asset's portfolio value is computed independently with the initial cash balance and positions representing the entire group. This functionality is useful for generating returns and comparing assets within the same group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>cash</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Cash balance data.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash title=vectorbtpro.portfolio.base.Portfolio.get_cash>Portfolio.get_cash</a> if not provided.</p> </dd> <dt><strong><code>asset_value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset value series for computation.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_value title=vectorbtpro.portfolio.base.Portfolio.get_asset_value>Portfolio.get_asset_value</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>Computed portfolio value series.</dd> </dl> <p><strong>See</strong></p> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/nb/analysis/#vectorbtpro.portfolio.nb.analysis.value_nb title=vectorbtpro.portfolio.nb.analysis.value_nb>value_nb</a></p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_value_at_risk>get_value_at_risk <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L47-L88 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_value_at_risk title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-130-1><a id=__codelineno-130-1 name=__codelineno-130-1 href=#__codelineno-130-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_value_at_risk</span><span class=p>(</span>
</span><span id=__span-130-2><a id=__codelineno-130-2 name=__codelineno-130-2 href=#__codelineno-130-2></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-130-3><a id=__codelineno-130-3 name=__codelineno-130-3 href=#__codelineno-130-3></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-4><a id=__codelineno-130-4 name=__codelineno-130-4 href=#__codelineno-130-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-130-5><a id=__codelineno-130-5 name=__codelineno-130-5 href=#__codelineno-130-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-6><a id=__codelineno-130-6 name=__codelineno-130-6 href=#__codelineno-130-6></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-130-7><a id=__codelineno-130-7 name=__codelineno-130-7 href=#__codelineno-130-7></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-130-8><a id=__codelineno-130-8 name=__codelineno-130-8 href=#__codelineno-130-8></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-9><a id=__codelineno-130-9 name=__codelineno-130-9 href=#__codelineno-130-9></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-10><a id=__codelineno-130-10 name=__codelineno-130-10 href=#__codelineno-130-10></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-130-11><a id=__codelineno-130-11 name=__codelineno-130-11 href=#__codelineno-130-11></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-12><a id=__codelineno-130-12 name=__codelineno-130-12 href=#__codelineno-130-12></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-13><a id=__codelineno-130-13 name=__codelineno-130-13 href=#__codelineno-130-13></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-14><a id=__codelineno-130-14 name=__codelineno-130-14 href=#__codelineno-130-14></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-15><a id=__codelineno-130-15 name=__codelineno-130-15 href=#__codelineno-130-15></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-16><a id=__codelineno-130-16 name=__codelineno-130-16 href=#__codelineno-130-16></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-17><a id=__codelineno-130-17 name=__codelineno-130-17 href=#__codelineno-130-17></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-130-18><a id=__codelineno-130-18 name=__codelineno-130-18 href=#__codelineno-130-18></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-130-19><a id=__codelineno-130-19 name=__codelineno-130-19 href=#__codelineno-130-19></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.value_at_risk title=vectorbtpro.returns.accessors.ReturnsAccessor.value_at_risk>ReturnsAccessor.value_at_risk</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.get_weights>get_weights <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6011-L6046 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.get_weights title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-131-1><a id=__codelineno-131-1 name=__codelineno-131-1 href=#__codelineno-131-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>get_weights</span><span class=p>(</span>
</span><span id=__span-131-2><a id=__codelineno-131-2 name=__codelineno-131-2 href=#__codelineno-131-2></a>    <span class=n>weights</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-131-3><a id=__codelineno-131-3 name=__codelineno-131-3 href=#__codelineno-131-3></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-131-4><a id=__codelineno-131-4 name=__codelineno-131-4 href=#__codelineno-131-4></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-131-5><a id=__codelineno-131-5 name=__codelineno-131-5 href=#__codelineno-131-5></a><span class=p>)</span>
</span></code></pre></div> <p>Get asset weights.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>weights</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Asset weights to apply.</p> <p>Defaults to <code>Portfolio._weights</code> if not provided.</p> <p>If None or False, the function returns None.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Union[None, ArrayLike, Series]</code></dt> <dd>Wrapped asset weights, or None if weights are not provided.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.gross_exposure>gross_exposure <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.gross_exposure title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_gross_exposure title=vectorbtpro.portfolio.base.Portfolio.get_gross_exposure>Portfolio.get_gross_exposure</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.high>high <span class=dobjtype>custom_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5863-L5873 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.high title="Permanent link">&para;</a></h3> <p>High price of each bar.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[SeriesFrame]</code></dt> <dd>SeriesFrame containing the high prices for each bar, or None if high price data is missing.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.high_flex>high_flex <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5812-L5823 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.high_flex title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.high title=vectorbtpro.portfolio.base.Portfolio.high>Portfolio.high</a> returned in a format that supports flexible indexing.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[ArrayLike]</code></dt> <dd>High price data in a flexible format, or None if not specified.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.in_output_config>in_output_config <span class=dobjtype>property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L1626-L1643 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.in_output_config title="Permanent link">&para;</a></h3> <p>In-place output configuration of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-132-1><a id=__codelineno-132-1 name=__codelineno-132-1 href=#__codelineno-132-1></a><span class=n>HybridConfig</span><span class=p>(</span>
</span><span id=__span-132-2><a id=__codelineno-132-2 name=__codelineno-132-2 href=#__codelineno-132-2></a>    <span class=n>cash</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-132-3><a id=__codelineno-132-3 name=__codelineno-132-3 href=#__codelineno-132-3></a>        <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;cash_sharing&#39;</span>
</span><span id=__span-132-4><a id=__codelineno-132-4 name=__codelineno-132-4 href=#__codelineno-132-4></a>    <span class=p>),</span>
</span><span id=__span-132-5><a id=__codelineno-132-5 name=__codelineno-132-5 href=#__codelineno-132-5></a>    <span class=n>position</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-132-6><a id=__codelineno-132-6 name=__codelineno-132-6 href=#__codelineno-132-6></a>        <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;columns&#39;</span>
</span><span id=__span-132-7><a id=__codelineno-132-7 name=__codelineno-132-7 href=#__codelineno-132-7></a>    <span class=p>),</span>
</span><span id=__span-132-8><a id=__codelineno-132-8 name=__codelineno-132-8 href=#__codelineno-132-8></a>    <span class=n>debt</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-132-9><a id=__codelineno-132-9 name=__codelineno-132-9 href=#__codelineno-132-9></a>        <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;columns&#39;</span>
</span><span id=__span-132-10><a id=__codelineno-132-10 name=__codelineno-132-10 href=#__codelineno-132-10></a>    <span class=p>),</span>
</span><span id=__span-132-11><a id=__codelineno-132-11 name=__codelineno-132-11 href=#__codelineno-132-11></a>    <span class=n>locked_cash</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-132-12><a id=__codelineno-132-12 name=__codelineno-132-12 href=#__codelineno-132-12></a>        <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;columns&#39;</span>
</span><span id=__span-132-13><a id=__codelineno-132-13 name=__codelineno-132-13 href=#__codelineno-132-13></a>    <span class=p>),</span>
</span><span id=__span-132-14><a id=__codelineno-132-14 name=__codelineno-132-14 href=#__codelineno-132-14></a>    <span class=n>free_cash</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-132-15><a id=__codelineno-132-15 name=__codelineno-132-15 href=#__codelineno-132-15></a>        <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;cash_sharing&#39;</span>
</span><span id=__span-132-16><a id=__codelineno-132-16 name=__codelineno-132-16 href=#__codelineno-132-16></a>    <span class=p>),</span>
</span><span id=__span-132-17><a id=__codelineno-132-17 name=__codelineno-132-17 href=#__codelineno-132-17></a>    <span class=n>returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-132-18><a id=__codelineno-132-18 name=__codelineno-132-18 href=#__codelineno-132-18></a>        <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;cash_sharing&#39;</span>
</span><span id=__span-132-19><a id=__codelineno-132-19 name=__codelineno-132-19 href=#__codelineno-132-19></a>    <span class=p>)</span>
</span><span id=__span-132-20><a id=__codelineno-132-20 name=__codelineno-132-20 href=#__codelineno-132-20></a><span class=p>)</span>
</span></code></pre></div> <p><strong>Returns</strong></p> <dl> <dt><code>Config</code></dt> <dd> <p>Hybrid-copied in-place output configuration from <code>Portfolio._in_output_config</code>.</p> <p>Changing this instance's configuration does not affect the class-level configuration.</p> </dd> </dl> <div class="admonition note"> <p class=admonition-title>Note</p> <p>To modify in_outputs, change the configuration in-place, override this property, or assign a new value to <code>Portfolio._in_output_config</code>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.in_outputs>in_outputs <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5619-L5626 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.in_outputs title="Permanent link">&para;</a></h3> <p>Named tuple with in-place output objects.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[NamedTuple]</code></dt> <dd>Named tuple containing additional in-place output objects, or None if not set.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func>in_outputs_indexing_func <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L2191-L2243 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-133-1><a id=__codelineno-133-1 name=__codelineno-133-1 href=#__codelineno-133-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>in_outputs_indexing_func</span><span class=p>(</span>
</span><span id=__span-133-2><a id=__codelineno-133-2 name=__codelineno-133-2 href=#__codelineno-133-2></a>    <span class=n>wrapper_meta</span><span class=p>,</span>
</span><span id=__span-133-3><a id=__codelineno-133-3 name=__codelineno-133-3 href=#__codelineno-133-3></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-133-4><a id=__codelineno-133-4 name=__codelineno-133-4 href=#__codelineno-133-4></a><span class=p>)</span>
</span></code></pre></div> <p>Perform indexing on <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a>.</p> <p>Processes each field in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> by determining the field's configuration from attribute options, parsed field options via <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.parse_field_options title=vectorbtpro.portfolio.base.Portfolio.parse_field_options>Portfolio.parse_field_options</a>, and the indexing configuration in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_output_config title=vectorbtpro.portfolio.base.Portfolio.in_output_config>Portfolio.in_output_config</a>. Each field is then indexed using the <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.index_obj title=vectorbtpro.portfolio.base.Portfolio.index_obj>Portfolio.index_obj</a> method.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>wrapper_meta</code></strong> :&ensp;<code>dict</code></dt> <dd>Metadata from the indexing operation on the wrapper.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.index_obj title=vectorbtpro.portfolio.base.Portfolio.index_obj>Portfolio.index_obj</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[NamedTuple]</code></dt> <dd>New named tuple with the indexed in-place output fields, or None if <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> is None.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.index_obj>index_obj <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L2029-L2189 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.index_obj title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-134-1><a id=__codelineno-134-1 name=__codelineno-134-1 href=#__codelineno-134-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>index_obj</span><span class=p>(</span>
</span><span id=__span-134-2><a id=__codelineno-134-2 name=__codelineno-134-2 href=#__codelineno-134-2></a>    <span class=n>obj</span><span class=p>,</span>
</span><span id=__span-134-3><a id=__codelineno-134-3 name=__codelineno-134-3 href=#__codelineno-134-3></a>    <span class=n>wrapper_meta</span><span class=p>,</span>
</span><span id=__span-134-4><a id=__codelineno-134-4 name=__codelineno-134-4 href=#__codelineno-134-4></a>    <span class=n>obj_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-134-5><a id=__codelineno-134-5 name=__codelineno-134-5 href=#__codelineno-134-5></a>    <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;columns_or_groups&#39;</span><span class=p>,</span>
</span><span id=__span-134-6><a id=__codelineno-134-6 name=__codelineno-134-6 href=#__codelineno-134-6></a>    <span class=n>obj_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-134-7><a id=__codelineno-134-7 name=__codelineno-134-7 href=#__codelineno-134-7></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-134-8><a id=__codelineno-134-8 name=__codelineno-134-8 href=#__codelineno-134-8></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-134-9><a id=__codelineno-134-9 name=__codelineno-134-9 href=#__codelineno-134-9></a>    <span class=n>indexing_func</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-134-10><a id=__codelineno-134-10 name=__codelineno-134-10 href=#__codelineno-134-10></a>    <span class=n>force_indexing</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-134-11><a id=__codelineno-134-11 name=__codelineno-134-11 href=#__codelineno-134-11></a>    <span class=n>silence_warnings</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-134-12><a id=__codelineno-134-12 name=__codelineno-134-12 href=#__codelineno-134-12></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-134-13><a id=__codelineno-134-13 name=__codelineno-134-13 href=#__codelineno-134-13></a><span class=p>)</span>
</span></code></pre></div> <p>Perform indexing on an object.</p> <p>Indexes an object based on the provided metadata, type, and grouping parameters. If the object is None, a boolean, or an empty array, it is returned as-is.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>obj</code></strong> :&ensp;<code>Any</code></dt> <dd>Object to index.</dd> <dt><strong><code>wrapper_meta</code></strong> :&ensp;<code>dict</code></dt> <dd>Metadata from the indexing operation on the wrapper.</dd> <dt><strong><code>obj_name</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd>Name of the object.</dd> <dt><strong><code>grouping</code></strong> :&ensp;<code>str</code></dt> <dd> <p>Grouping strategy.</p> <p>Supported options include "columns_or_groups", "columns", "groups", and "cash_sharing".</p> </dd> <dt><strong><code>obj_type</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Type of the object.</p> <p>Supported options include "records", "array", and "red_array".</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>indexing_func</code></strong> :&ensp;<code>Optional[Callable]</code></dt> <dd> <p>Custom indexing function that must accept <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>, the object, wrapper_meta, and the remaining arguments, including <code>**kwargs</code>.</p> <p>If unused, leave as None.</p> </dd> <dt><strong><code>force_indexing</code></strong> :&ensp;<code>bool</code></dt> <dd>Indicates if indexing should be forced, raising an error if it cannot be applied.</dd> <dt><strong><code>silence_warnings</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to suppress warning messages.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <code>indexing_func</code>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Any</code></dt> <dd>Resulting indexed object.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.indexing_func>indexing_func <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L2245-L2411 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.indexing_func title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-135-1><a id=__codelineno-135-1 name=__codelineno-135-1 href=#__codelineno-135-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>indexing_func</span><span class=p>(</span>
</span><span id=__span-135-2><a id=__codelineno-135-2 name=__codelineno-135-2 href=#__codelineno-135-2></a>    <span class=o>*</span><span class=n>args</span><span class=p>,</span>
</span><span id=__span-135-3><a id=__codelineno-135-3 name=__codelineno-135-3 href=#__codelineno-135-3></a>    <span class=n>in_output_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-135-4><a id=__codelineno-135-4 name=__codelineno-135-4 href=#__codelineno-135-4></a>    <span class=n>wrapper_meta</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-135-5><a id=__codelineno-135-5 name=__codelineno-135-5 href=#__codelineno-135-5></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-135-6><a id=__codelineno-135-6 name=__codelineno-135-6 href=#__codelineno-135-6></a><span class=p>)</span>
</span></code></pre></div> <p>Perform indexing on the Portfolio.</p> <p>In-place outputs are indexed using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func title=vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func>Portfolio.in_outputs_indexing_func</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>*args</code></strong></dt> <dd>Positional arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.indexing_func_meta title=vectorbtpro.base.wrapping.ArrayWrapper.indexing_func_meta>ArrayWrapper.indexing_func_meta</a>.</dd> <dt><strong><code>in_output_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for indexing in-place outputs.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func title=vectorbtpro.portfolio.base.Portfolio.in_outputs_indexing_func>Portfolio.in_outputs_indexing_func</a>.</p> </dd> <dt><strong><code>wrapper_meta</code></strong> :&ensp;<code>DictLike</code></dt> <dd>Metadata from the indexing operation on the wrapper.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.indexing_func_meta title=vectorbtpro.base.wrapping.ArrayWrapper.indexing_func_meta>ArrayWrapper.indexing_func_meta</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a></dt> <dd>Updated Portfolio instance after indexing.</dd> </dl> <p><strong>Overridden methods</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.indexing_func title=vectorbtpro.base.wrapping.Wrapping.indexing_func>Wrapping.indexing_func</a></li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.information_ratio>information_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.information_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_information_ratio title=vectorbtpro.portfolio.base.Portfolio.get_information_ratio>Portfolio.get_information_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.init_cash>init_cash <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.init_cash title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_cash title=vectorbtpro.portfolio.base.Portfolio.get_init_cash>Portfolio.get_init_cash</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.init_position>init_position <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.init_position title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position title=vectorbtpro.portfolio.base.Portfolio.get_init_position>Portfolio.get_init_position</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.init_position_value>init_position_value <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.init_position_value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_position_value title=vectorbtpro.portfolio.base.Portfolio.get_init_position_value>Portfolio.get_init_position_value</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.init_price>init_price <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.init_price title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_price title=vectorbtpro.portfolio.base.Portfolio.get_init_price>Portfolio.get_init_price</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.init_value>init_value <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.init_value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_value title=vectorbtpro.portfolio.base.Portfolio.get_init_value>Portfolio.get_init_value</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.input_value>input_value <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.input_value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_input_value title=vectorbtpro.portfolio.base.Portfolio.get_input_value>Portfolio.get_input_value</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.locked_cash>locked_cash <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.locked_cash title="Permanent link">&para;</a></h3> <p><code>Portfolio.None</code> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.log_records>log_records <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6377-L6384 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.log_records title="Permanent link">&para;</a></h3> <p>Structured NumPy array of log records.</p> <p><strong>Returns</strong></p> <dl> <dt><code>RecordArray</code></dt> <dd>Structured array containing log records.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.log_returns>log_returns <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.log_returns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns title=vectorbtpro.portfolio.base.Portfolio.get_returns>Portfolio.get_returns</a> with arguments <code>{'log_returns': True}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.logs>logs <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.logs title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_logs title=vectorbtpro.portfolio.base.Portfolio.get_logs>Portfolio.get_logs</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.logs_cls>logs_cls <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5692-L5703 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.logs_cls title="Permanent link">&para;</a></h3> <p>Log records wrapper class.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Type</code></dt> <dd> <p>Class used to wrap log records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/logs/#vectorbtpro.portfolio.logs.Logs title=vectorbtpro.portfolio.logs.Logs>Logs</a> if not explicitly specified.</p> </dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.long_allocations>long_allocations <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.long_allocations title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_allocations title=vectorbtpro.portfolio.base.Portfolio.get_allocations>Portfolio.get_allocations</a> with arguments <code>{'direction': 'longonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.long_asset_flow>long_asset_flow <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.long_asset_flow title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_flow title=vectorbtpro.portfolio.base.Portfolio.get_asset_flow>Portfolio.get_asset_flow</a> with arguments <code>{'direction': 'longonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.long_asset_value>long_asset_value <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.long_asset_value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_value title=vectorbtpro.portfolio.base.Portfolio.get_asset_value>Portfolio.get_asset_value</a> with arguments <code>{'direction': 'longonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.long_assets>long_assets <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.long_assets title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_assets title=vectorbtpro.portfolio.base.Portfolio.get_assets>Portfolio.get_assets</a> with arguments <code>{'direction': 'longonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.long_gross_exposure>long_gross_exposure <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.long_gross_exposure title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_gross_exposure title=vectorbtpro.portfolio.base.Portfolio.get_gross_exposure>Portfolio.get_gross_exposure</a> with arguments <code>{'direction': 'longonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.long_position_coverage>long_position_coverage <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.long_position_coverage title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_position_coverage title=vectorbtpro.portfolio.base.Portfolio.get_position_coverage>Portfolio.get_position_coverage</a> with arguments <code>{'direction': 'longonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.long_position_mask>long_position_mask <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.long_position_mask title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_position_mask title=vectorbtpro.portfolio.base.Portfolio.get_position_mask>Portfolio.get_position_mask</a> with arguments <code>{'direction': 'longonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.long_view>long_view <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.long_view title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_long_view title=vectorbtpro.portfolio.base.Portfolio.get_long_view>Portfolio.get_long_view</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.low>low <span class=dobjtype>custom_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5875-L5885 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.low title="Permanent link">&para;</a></h3> <p>Low price of each bar.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[SeriesFrame]</code></dt> <dd>SeriesFrame of the low prices for each bar, or None if low price data is not provided.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.low_flex>low_flex <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5825-L5836 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.low_flex title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.low title=vectorbtpro.portfolio.base.Portfolio.low>Portfolio.low</a> returned in a format that supports flexible indexing.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[ArrayLike]</code></dt> <dd>Low price data in a flexible format, or None if not available.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.market_returns>market_returns <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.market_returns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_market_returns title=vectorbtpro.portfolio.base.Portfolio.get_market_returns>Portfolio.get_market_returns</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.market_value>market_value <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.market_value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_market_value title=vectorbtpro.portfolio.base.Portfolio.get_market_value>Portfolio.get_market_value</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.matches_field_options>matches_field_options <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L1698-L1761 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.matches_field_options title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-136-1><a id=__codelineno-136-1 name=__codelineno-136-1 href=#__codelineno-136-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>matches_field_options</span><span class=p>(</span>
</span><span id=__span-136-2><a id=__codelineno-136-2 name=__codelineno-136-2 href=#__codelineno-136-2></a>    <span class=n>options</span><span class=p>,</span>
</span><span id=__span-136-3><a id=__codelineno-136-3 name=__codelineno-136-3 href=#__codelineno-136-3></a>    <span class=n>obj_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-136-4><a id=__codelineno-136-4 name=__codelineno-136-4 href=#__codelineno-136-4></a>    <span class=n>group_by_aware</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-136-5><a id=__codelineno-136-5 name=__codelineno-136-5 href=#__codelineno-136-5></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-136-6><a id=__codelineno-136-6 name=__codelineno-136-6 href=#__codelineno-136-6></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-136-7><a id=__codelineno-136-7 name=__codelineno-136-7 href=#__codelineno-136-7></a><span class=p>)</span>
</span></code></pre></div> <p>Determine if a field's options meet the required criteria.</p> <p>This method checks whether the field's parsed options match the expected object type and grouping configuration. The evaluation also considers the portfolio's current grouping state and cash sharing setting. If an option is absent from the provided options, it is assumed to satisfy the requirement.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>options</code></strong> :&ensp;<code>Kwargs</code></dt> <dd>Dictionary of parsed field options.</dd> <dt><strong><code>obj_type</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Type of the object.</p> <p>Supported options include "records", "array", and "red_array".</p> </dd> <dt><strong><code>group_by_aware</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to account for grouping awareness.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>bool</code></dt> <dd>True if the field options satisfy the requirements; otherwise, False.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.max_drawdown>max_drawdown <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.max_drawdown title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_max_drawdown title=vectorbtpro.portfolio.base.Portfolio.get_max_drawdown>Portfolio.get_max_drawdown</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.metrics>metrics <span class=dobjtype>property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11060-L11062 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.metrics title="Permanent link">&para;</a></h3> <p>Metrics configuration for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</p> <p>This property returns a copy of <code>Portfolio._metrics</code> created during instance initialization. Modifications to the returned configuration do not affect the class-level settings.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-137-1><a id=__codelineno-137-1 name=__codelineno-137-1 href=#__codelineno-137-1></a><span class=n>HybridConfig</span><span class=p>(</span>
</span><span id=__span-137-2><a id=__codelineno-137-2 name=__codelineno-137-2 href=#__codelineno-137-2></a>    <span class=n>start_index</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-3><a id=__codelineno-137-3 name=__codelineno-137-3 href=#__codelineno-137-3></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Start Index&#39;</span><span class=p>,</span>
</span><span id=__span-137-4><a id=__codelineno-137-4 name=__codelineno-137-4 href=#__codelineno-137-4></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;sim_start_index&#39;</span><span class=p>,</span>
</span><span id=__span-137-5><a id=__codelineno-137-5 name=__codelineno-137-5 href=#__codelineno-137-5></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;wrapper&#39;</span>
</span><span id=__span-137-6><a id=__codelineno-137-6 name=__codelineno-137-6 href=#__codelineno-137-6></a>    <span class=p>),</span>
</span><span id=__span-137-7><a id=__codelineno-137-7 name=__codelineno-137-7 href=#__codelineno-137-7></a>    <span class=n>end_index</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-8><a id=__codelineno-137-8 name=__codelineno-137-8 href=#__codelineno-137-8></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;End Index&#39;</span><span class=p>,</span>
</span><span id=__span-137-9><a id=__codelineno-137-9 name=__codelineno-137-9 href=#__codelineno-137-9></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;sim_end_index&#39;</span><span class=p>,</span>
</span><span id=__span-137-10><a id=__codelineno-137-10 name=__codelineno-137-10 href=#__codelineno-137-10></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;wrapper&#39;</span>
</span><span id=__span-137-11><a id=__codelineno-137-11 name=__codelineno-137-11 href=#__codelineno-137-11></a>    <span class=p>),</span>
</span><span id=__span-137-12><a id=__codelineno-137-12 name=__codelineno-137-12 href=#__codelineno-137-12></a>    <span class=n>total_duration</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-13><a id=__codelineno-137-13 name=__codelineno-137-13 href=#__codelineno-137-13></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Total Duration&#39;</span><span class=p>,</span>
</span><span id=__span-137-14><a id=__codelineno-137-14 name=__codelineno-137-14 href=#__codelineno-137-14></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;sim_duration&#39;</span><span class=p>,</span>
</span><span id=__span-137-15><a id=__codelineno-137-15 name=__codelineno-137-15 href=#__codelineno-137-15></a>        <span class=n>apply_to_timedelta</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-16><a id=__codelineno-137-16 name=__codelineno-137-16 href=#__codelineno-137-16></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;wrapper&#39;</span>
</span><span id=__span-137-17><a id=__codelineno-137-17 name=__codelineno-137-17 href=#__codelineno-137-17></a>    <span class=p>),</span>
</span><span id=__span-137-18><a id=__codelineno-137-18 name=__codelineno-137-18 href=#__codelineno-137-18></a>    <span class=n>start_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-19><a id=__codelineno-137-19 name=__codelineno-137-19 href=#__codelineno-137-19></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Start Value&#39;</span><span class=p>,</span>
</span><span id=__span-137-20><a id=__codelineno-137-20 name=__codelineno-137-20 href=#__codelineno-137-20></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;init_value&#39;</span><span class=p>,</span>
</span><span id=__span-137-21><a id=__codelineno-137-21 name=__codelineno-137-21 href=#__codelineno-137-21></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-22><a id=__codelineno-137-22 name=__codelineno-137-22 href=#__codelineno-137-22></a>    <span class=p>),</span>
</span><span id=__span-137-23><a id=__codelineno-137-23 name=__codelineno-137-23 href=#__codelineno-137-23></a>    <span class=n>min_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-24><a id=__codelineno-137-24 name=__codelineno-137-24 href=#__codelineno-137-24></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Min Value&#39;</span><span class=p>,</span>
</span><span id=__span-137-25><a id=__codelineno-137-25 name=__codelineno-137-25 href=#__codelineno-137-25></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;value.vbt.min&#39;</span><span class=p>,</span>
</span><span id=__span-137-26><a id=__codelineno-137-26 name=__codelineno-137-26 href=#__codelineno-137-26></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-27><a id=__codelineno-137-27 name=__codelineno-137-27 href=#__codelineno-137-27></a>    <span class=p>),</span>
</span><span id=__span-137-28><a id=__codelineno-137-28 name=__codelineno-137-28 href=#__codelineno-137-28></a>    <span class=n>max_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-29><a id=__codelineno-137-29 name=__codelineno-137-29 href=#__codelineno-137-29></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Max Value&#39;</span><span class=p>,</span>
</span><span id=__span-137-30><a id=__codelineno-137-30 name=__codelineno-137-30 href=#__codelineno-137-30></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;value.vbt.max&#39;</span><span class=p>,</span>
</span><span id=__span-137-31><a id=__codelineno-137-31 name=__codelineno-137-31 href=#__codelineno-137-31></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-32><a id=__codelineno-137-32 name=__codelineno-137-32 href=#__codelineno-137-32></a>    <span class=p>),</span>
</span><span id=__span-137-33><a id=__codelineno-137-33 name=__codelineno-137-33 href=#__codelineno-137-33></a>    <span class=n>end_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-34><a id=__codelineno-137-34 name=__codelineno-137-34 href=#__codelineno-137-34></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;End Value&#39;</span><span class=p>,</span>
</span><span id=__span-137-35><a id=__codelineno-137-35 name=__codelineno-137-35 href=#__codelineno-137-35></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;final_value&#39;</span><span class=p>,</span>
</span><span id=__span-137-36><a id=__codelineno-137-36 name=__codelineno-137-36 href=#__codelineno-137-36></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-37><a id=__codelineno-137-37 name=__codelineno-137-37 href=#__codelineno-137-37></a>    <span class=p>),</span>
</span><span id=__span-137-38><a id=__codelineno-137-38 name=__codelineno-137-38 href=#__codelineno-137-38></a>    <span class=n>cash_deposits</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-39><a id=__codelineno-137-39 name=__codelineno-137-39 href=#__codelineno-137-39></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Total Cash Deposits&#39;</span><span class=p>,</span>
</span><span id=__span-137-40><a id=__codelineno-137-40 name=__codelineno-137-40 href=#__codelineno-137-40></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;total_cash_deposits&#39;</span><span class=p>,</span>
</span><span id=__span-137-41><a id=__codelineno-137-41 name=__codelineno-137-41 href=#__codelineno-137-41></a>        <span class=n>check_has_cash_deposits</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-42><a id=__codelineno-137-42 name=__codelineno-137-42 href=#__codelineno-137-42></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-43><a id=__codelineno-137-43 name=__codelineno-137-43 href=#__codelineno-137-43></a>    <span class=p>),</span>
</span><span id=__span-137-44><a id=__codelineno-137-44 name=__codelineno-137-44 href=#__codelineno-137-44></a>    <span class=n>cash_earnings</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-45><a id=__codelineno-137-45 name=__codelineno-137-45 href=#__codelineno-137-45></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Total Cash Earnings&#39;</span><span class=p>,</span>
</span><span id=__span-137-46><a id=__codelineno-137-46 name=__codelineno-137-46 href=#__codelineno-137-46></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;total_cash_earnings&#39;</span><span class=p>,</span>
</span><span id=__span-137-47><a id=__codelineno-137-47 name=__codelineno-137-47 href=#__codelineno-137-47></a>        <span class=n>check_has_cash_earnings</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-48><a id=__codelineno-137-48 name=__codelineno-137-48 href=#__codelineno-137-48></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-49><a id=__codelineno-137-49 name=__codelineno-137-49 href=#__codelineno-137-49></a>    <span class=p>),</span>
</span><span id=__span-137-50><a id=__codelineno-137-50 name=__codelineno-137-50 href=#__codelineno-137-50></a>    <span class=n>total_return</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-51><a id=__codelineno-137-51 name=__codelineno-137-51 href=#__codelineno-137-51></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Total Return [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-52><a id=__codelineno-137-52 name=__codelineno-137-52 href=#__codelineno-137-52></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;total_return&#39;</span><span class=p>,</span>
</span><span id=__span-137-53><a id=__codelineno-137-53 name=__codelineno-137-53 href=#__codelineno-137-53></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-54><a id=__codelineno-137-54 name=__codelineno-137-54 href=#__codelineno-137-54></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-55><a id=__codelineno-137-55 name=__codelineno-137-55 href=#__codelineno-137-55></a>    <span class=p>),</span>
</span><span id=__span-137-56><a id=__codelineno-137-56 name=__codelineno-137-56 href=#__codelineno-137-56></a>    <span class=n>bm_return</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-57><a id=__codelineno-137-57 name=__codelineno-137-57 href=#__codelineno-137-57></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Benchmark Return [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-58><a id=__codelineno-137-58 name=__codelineno-137-58 href=#__codelineno-137-58></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;bm_returns.vbt.returns.total&#39;</span><span class=p>,</span>
</span><span id=__span-137-59><a id=__codelineno-137-59 name=__codelineno-137-59 href=#__codelineno-137-59></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-60><a id=__codelineno-137-60 name=__codelineno-137-60 href=#__codelineno-137-60></a>        <span class=n>check_has_bm_returns</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-61><a id=__codelineno-137-61 name=__codelineno-137-61 href=#__codelineno-137-61></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-62><a id=__codelineno-137-62 name=__codelineno-137-62 href=#__codelineno-137-62></a>    <span class=p>),</span>
</span><span id=__span-137-63><a id=__codelineno-137-63 name=__codelineno-137-63 href=#__codelineno-137-63></a>    <span class=n>total_time_exposure</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-64><a id=__codelineno-137-64 name=__codelineno-137-64 href=#__codelineno-137-64></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Position Coverage [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-65><a id=__codelineno-137-65 name=__codelineno-137-65 href=#__codelineno-137-65></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;position_coverage&#39;</span><span class=p>,</span>
</span><span id=__span-137-66><a id=__codelineno-137-66 name=__codelineno-137-66 href=#__codelineno-137-66></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-67><a id=__codelineno-137-67 name=__codelineno-137-67 href=#__codelineno-137-67></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-68><a id=__codelineno-137-68 name=__codelineno-137-68 href=#__codelineno-137-68></a>    <span class=p>),</span>
</span><span id=__span-137-69><a id=__codelineno-137-69 name=__codelineno-137-69 href=#__codelineno-137-69></a>    <span class=n>max_gross_exposure</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-70><a id=__codelineno-137-70 name=__codelineno-137-70 href=#__codelineno-137-70></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Max Gross Exposure [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-71><a id=__codelineno-137-71 name=__codelineno-137-71 href=#__codelineno-137-71></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;gross_exposure.vbt.max&#39;</span><span class=p>,</span>
</span><span id=__span-137-72><a id=__codelineno-137-72 name=__codelineno-137-72 href=#__codelineno-137-72></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-73><a id=__codelineno-137-73 name=__codelineno-137-73 href=#__codelineno-137-73></a>        <span class=n>tags</span><span class=o>=</span><span class=s1>&#39;portfolio&#39;</span>
</span><span id=__span-137-74><a id=__codelineno-137-74 name=__codelineno-137-74 href=#__codelineno-137-74></a>    <span class=p>),</span>
</span><span id=__span-137-75><a id=__codelineno-137-75 name=__codelineno-137-75 href=#__codelineno-137-75></a>    <span class=n>max_dd</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-76><a id=__codelineno-137-76 name=__codelineno-137-76 href=#__codelineno-137-76></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Max Drawdown [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-77><a id=__codelineno-137-77 name=__codelineno-137-77 href=#__codelineno-137-77></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;drawdowns.max_drawdown&#39;</span><span class=p>,</span>
</span><span id=__span-137-78><a id=__codelineno-137-78 name=__codelineno-137-78 href=#__codelineno-137-78></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-79><a id=__codelineno-137-79 name=__codelineno-137-79 href=#__codelineno-137-79></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-137-80><a id=__codelineno-137-80 name=__codelineno-137-80 href=#__codelineno-137-80></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-137-81><a id=__codelineno-137-81 name=__codelineno-137-81 href=#__codelineno-137-81></a>            <span class=s1>&#39;drawdowns&#39;</span>
</span><span id=__span-137-82><a id=__codelineno-137-82 name=__codelineno-137-82 href=#__codelineno-137-82></a>        <span class=p>]</span>
</span><span id=__span-137-83><a id=__codelineno-137-83 name=__codelineno-137-83 href=#__codelineno-137-83></a>    <span class=p>),</span>
</span><span id=__span-137-84><a id=__codelineno-137-84 name=__codelineno-137-84 href=#__codelineno-137-84></a>    <span class=n>max_dd_duration</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-85><a id=__codelineno-137-85 name=__codelineno-137-85 href=#__codelineno-137-85></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Max Drawdown Duration&#39;</span><span class=p>,</span>
</span><span id=__span-137-86><a id=__codelineno-137-86 name=__codelineno-137-86 href=#__codelineno-137-86></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;drawdowns.max_duration&#39;</span><span class=p>,</span>
</span><span id=__span-137-87><a id=__codelineno-137-87 name=__codelineno-137-87 href=#__codelineno-137-87></a>        <span class=n>fill_wrap_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-88><a id=__codelineno-137-88 name=__codelineno-137-88 href=#__codelineno-137-88></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-137-89><a id=__codelineno-137-89 name=__codelineno-137-89 href=#__codelineno-137-89></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-137-90><a id=__codelineno-137-90 name=__codelineno-137-90 href=#__codelineno-137-90></a>            <span class=s1>&#39;drawdowns&#39;</span><span class=p>,</span>
</span><span id=__span-137-91><a id=__codelineno-137-91 name=__codelineno-137-91 href=#__codelineno-137-91></a>            <span class=s1>&#39;duration&#39;</span>
</span><span id=__span-137-92><a id=__codelineno-137-92 name=__codelineno-137-92 href=#__codelineno-137-92></a>        <span class=p>]</span>
</span><span id=__span-137-93><a id=__codelineno-137-93 name=__codelineno-137-93 href=#__codelineno-137-93></a>    <span class=p>),</span>
</span><span id=__span-137-94><a id=__codelineno-137-94 name=__codelineno-137-94 href=#__codelineno-137-94></a>    <span class=n>total_orders</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-95><a id=__codelineno-137-95 name=__codelineno-137-95 href=#__codelineno-137-95></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Total Orders&#39;</span><span class=p>,</span>
</span><span id=__span-137-96><a id=__codelineno-137-96 name=__codelineno-137-96 href=#__codelineno-137-96></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;orders.count&#39;</span><span class=p>,</span>
</span><span id=__span-137-97><a id=__codelineno-137-97 name=__codelineno-137-97 href=#__codelineno-137-97></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-137-98><a id=__codelineno-137-98 name=__codelineno-137-98 href=#__codelineno-137-98></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-137-99><a id=__codelineno-137-99 name=__codelineno-137-99 href=#__codelineno-137-99></a>            <span class=s1>&#39;orders&#39;</span>
</span><span id=__span-137-100><a id=__codelineno-137-100 name=__codelineno-137-100 href=#__codelineno-137-100></a>        <span class=p>]</span>
</span><span id=__span-137-101><a id=__codelineno-137-101 name=__codelineno-137-101 href=#__codelineno-137-101></a>    <span class=p>),</span>
</span><span id=__span-137-102><a id=__codelineno-137-102 name=__codelineno-137-102 href=#__codelineno-137-102></a>    <span class=n>total_fees_paid</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-103><a id=__codelineno-137-103 name=__codelineno-137-103 href=#__codelineno-137-103></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Total Fees Paid&#39;</span><span class=p>,</span>
</span><span id=__span-137-104><a id=__codelineno-137-104 name=__codelineno-137-104 href=#__codelineno-137-104></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;orders.fees.sum&#39;</span><span class=p>,</span>
</span><span id=__span-137-105><a id=__codelineno-137-105 name=__codelineno-137-105 href=#__codelineno-137-105></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-137-106><a id=__codelineno-137-106 name=__codelineno-137-106 href=#__codelineno-137-106></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-137-107><a id=__codelineno-137-107 name=__codelineno-137-107 href=#__codelineno-137-107></a>            <span class=s1>&#39;orders&#39;</span>
</span><span id=__span-137-108><a id=__codelineno-137-108 name=__codelineno-137-108 href=#__codelineno-137-108></a>        <span class=p>]</span>
</span><span id=__span-137-109><a id=__codelineno-137-109 name=__codelineno-137-109 href=#__codelineno-137-109></a>    <span class=p>),</span>
</span><span id=__span-137-110><a id=__codelineno-137-110 name=__codelineno-137-110 href=#__codelineno-137-110></a>    <span class=n>total_trades</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-111><a id=__codelineno-137-111 name=__codelineno-137-111 href=#__codelineno-137-111></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Total Trades&#39;</span><span class=p>,</span>
</span><span id=__span-137-112><a id=__codelineno-137-112 name=__codelineno-137-112 href=#__codelineno-137-112></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.count&#39;</span><span class=p>,</span>
</span><span id=__span-137-113><a id=__codelineno-137-113 name=__codelineno-137-113 href=#__codelineno-137-113></a>        <span class=n>incl_open</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-114><a id=__codelineno-137-114 name=__codelineno-137-114 href=#__codelineno-137-114></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-137-115><a id=__codelineno-137-115 name=__codelineno-137-115 href=#__codelineno-137-115></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-137-116><a id=__codelineno-137-116 name=__codelineno-137-116 href=#__codelineno-137-116></a>            <span class=s1>&#39;trades&#39;</span>
</span><span id=__span-137-117><a id=__codelineno-137-117 name=__codelineno-137-117 href=#__codelineno-137-117></a>        <span class=p>]</span>
</span><span id=__span-137-118><a id=__codelineno-137-118 name=__codelineno-137-118 href=#__codelineno-137-118></a>    <span class=p>),</span>
</span><span id=__span-137-119><a id=__codelineno-137-119 name=__codelineno-137-119 href=#__codelineno-137-119></a>    <span class=n>win_rate</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-120><a id=__codelineno-137-120 name=__codelineno-137-120 href=#__codelineno-137-120></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Win Rate [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-121><a id=__codelineno-137-121 name=__codelineno-137-121 href=#__codelineno-137-121></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.win_rate&#39;</span><span class=p>,</span>
</span><span id=__span-137-122><a id=__codelineno-137-122 name=__codelineno-137-122 href=#__codelineno-137-122></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-123><a id=__codelineno-137-123 name=__codelineno-137-123 href=#__codelineno-137-123></a>        <span class=n>tags</span><span class=o>=</span><span class=n>RepEval</span><span class=p>(</span>
</span><span id=__span-137-124><a id=__codelineno-137-124 name=__codelineno-137-124 href=#__codelineno-137-124></a>            <span class=n>template</span><span class=o>=</span><span class=s2>&quot;[&#39;portfolio&#39;, &#39;trades&#39;, *incl_open_tags]&quot;</span><span class=p>,</span>
</span><span id=__span-137-125><a id=__codelineno-137-125 name=__codelineno-137-125 href=#__codelineno-137-125></a>            <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-126><a id=__codelineno-137-126 name=__codelineno-137-126 href=#__codelineno-137-126></a>            <span class=n>strict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-127><a id=__codelineno-137-127 name=__codelineno-137-127 href=#__codelineno-137-127></a>            <span class=n>context_merge_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-128><a id=__codelineno-137-128 name=__codelineno-137-128 href=#__codelineno-137-128></a>            <span class=n>eval_id</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-137-129><a id=__codelineno-137-129 name=__codelineno-137-129 href=#__codelineno-137-129></a>        <span class=p>)</span>
</span><span id=__span-137-130><a id=__codelineno-137-130 name=__codelineno-137-130 href=#__codelineno-137-130></a>    <span class=p>),</span>
</span><span id=__span-137-131><a id=__codelineno-137-131 name=__codelineno-137-131 href=#__codelineno-137-131></a>    <span class=n>best_trade</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-132><a id=__codelineno-137-132 name=__codelineno-137-132 href=#__codelineno-137-132></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Best Trade [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-133><a id=__codelineno-137-133 name=__codelineno-137-133 href=#__codelineno-137-133></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.returns.max&#39;</span><span class=p>,</span>
</span><span id=__span-137-134><a id=__codelineno-137-134 name=__codelineno-137-134 href=#__codelineno-137-134></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-135><a id=__codelineno-137-135 name=__codelineno-137-135 href=#__codelineno-137-135></a>        <span class=n>tags</span><span class=o>=</span><span class=n>RepEval</span><span class=p>(</span>
</span><span id=__span-137-136><a id=__codelineno-137-136 name=__codelineno-137-136 href=#__codelineno-137-136></a>            <span class=n>template</span><span class=o>=</span><span class=s2>&quot;[&#39;portfolio&#39;, &#39;trades&#39;, *incl_open_tags]&quot;</span><span class=p>,</span>
</span><span id=__span-137-137><a id=__codelineno-137-137 name=__codelineno-137-137 href=#__codelineno-137-137></a>            <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-138><a id=__codelineno-137-138 name=__codelineno-137-138 href=#__codelineno-137-138></a>            <span class=n>strict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-139><a id=__codelineno-137-139 name=__codelineno-137-139 href=#__codelineno-137-139></a>            <span class=n>context_merge_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-140><a id=__codelineno-137-140 name=__codelineno-137-140 href=#__codelineno-137-140></a>            <span class=n>eval_id</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-137-141><a id=__codelineno-137-141 name=__codelineno-137-141 href=#__codelineno-137-141></a>        <span class=p>)</span>
</span><span id=__span-137-142><a id=__codelineno-137-142 name=__codelineno-137-142 href=#__codelineno-137-142></a>    <span class=p>),</span>
</span><span id=__span-137-143><a id=__codelineno-137-143 name=__codelineno-137-143 href=#__codelineno-137-143></a>    <span class=n>worst_trade</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-144><a id=__codelineno-137-144 name=__codelineno-137-144 href=#__codelineno-137-144></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Worst Trade [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-145><a id=__codelineno-137-145 name=__codelineno-137-145 href=#__codelineno-137-145></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.returns.min&#39;</span><span class=p>,</span>
</span><span id=__span-137-146><a id=__codelineno-137-146 name=__codelineno-137-146 href=#__codelineno-137-146></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-147><a id=__codelineno-137-147 name=__codelineno-137-147 href=#__codelineno-137-147></a>        <span class=n>tags</span><span class=o>=</span><span class=n>RepEval</span><span class=p>(</span>
</span><span id=__span-137-148><a id=__codelineno-137-148 name=__codelineno-137-148 href=#__codelineno-137-148></a>            <span class=n>template</span><span class=o>=</span><span class=s2>&quot;[&#39;portfolio&#39;, &#39;trades&#39;, *incl_open_tags]&quot;</span><span class=p>,</span>
</span><span id=__span-137-149><a id=__codelineno-137-149 name=__codelineno-137-149 href=#__codelineno-137-149></a>            <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-150><a id=__codelineno-137-150 name=__codelineno-137-150 href=#__codelineno-137-150></a>            <span class=n>strict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-151><a id=__codelineno-137-151 name=__codelineno-137-151 href=#__codelineno-137-151></a>            <span class=n>context_merge_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-152><a id=__codelineno-137-152 name=__codelineno-137-152 href=#__codelineno-137-152></a>            <span class=n>eval_id</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-137-153><a id=__codelineno-137-153 name=__codelineno-137-153 href=#__codelineno-137-153></a>        <span class=p>)</span>
</span><span id=__span-137-154><a id=__codelineno-137-154 name=__codelineno-137-154 href=#__codelineno-137-154></a>    <span class=p>),</span>
</span><span id=__span-137-155><a id=__codelineno-137-155 name=__codelineno-137-155 href=#__codelineno-137-155></a>    <span class=n>avg_winning_trade</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-156><a id=__codelineno-137-156 name=__codelineno-137-156 href=#__codelineno-137-156></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Avg Winning Trade [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-157><a id=__codelineno-137-157 name=__codelineno-137-157 href=#__codelineno-137-157></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.winning.returns.mean&#39;</span><span class=p>,</span>
</span><span id=__span-137-158><a id=__codelineno-137-158 name=__codelineno-137-158 href=#__codelineno-137-158></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-159><a id=__codelineno-137-159 name=__codelineno-137-159 href=#__codelineno-137-159></a>        <span class=n>tags</span><span class=o>=</span><span class=n>RepEval</span><span class=p>(</span>
</span><span id=__span-137-160><a id=__codelineno-137-160 name=__codelineno-137-160 href=#__codelineno-137-160></a>            <span class=n>template</span><span class=o>=</span><span class=s2>&quot;[&#39;portfolio&#39;, &#39;trades&#39;, *incl_open_tags, &#39;winning&#39;]&quot;</span><span class=p>,</span>
</span><span id=__span-137-161><a id=__codelineno-137-161 name=__codelineno-137-161 href=#__codelineno-137-161></a>            <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-162><a id=__codelineno-137-162 name=__codelineno-137-162 href=#__codelineno-137-162></a>            <span class=n>strict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-163><a id=__codelineno-137-163 name=__codelineno-137-163 href=#__codelineno-137-163></a>            <span class=n>context_merge_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-164><a id=__codelineno-137-164 name=__codelineno-137-164 href=#__codelineno-137-164></a>            <span class=n>eval_id</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-137-165><a id=__codelineno-137-165 name=__codelineno-137-165 href=#__codelineno-137-165></a>        <span class=p>)</span>
</span><span id=__span-137-166><a id=__codelineno-137-166 name=__codelineno-137-166 href=#__codelineno-137-166></a>    <span class=p>),</span>
</span><span id=__span-137-167><a id=__codelineno-137-167 name=__codelineno-137-167 href=#__codelineno-137-167></a>    <span class=n>avg_losing_trade</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-168><a id=__codelineno-137-168 name=__codelineno-137-168 href=#__codelineno-137-168></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Avg Losing Trade [%]&#39;</span><span class=p>,</span>
</span><span id=__span-137-169><a id=__codelineno-137-169 name=__codelineno-137-169 href=#__codelineno-137-169></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.losing.returns.mean&#39;</span><span class=p>,</span>
</span><span id=__span-137-170><a id=__codelineno-137-170 name=__codelineno-137-170 href=#__codelineno-137-170></a>        <span class=n>post_calc_func</span><span class=o>=&lt;</span><span class=n>function</span> <span class=n>Portfolio</span><span class=o>.&lt;</span><span class=k>lambda</span><span class=o>&gt;&gt;</span><span class=p>,</span>
</span><span id=__span-137-171><a id=__codelineno-137-171 name=__codelineno-137-171 href=#__codelineno-137-171></a>        <span class=n>tags</span><span class=o>=</span><span class=n>RepEval</span><span class=p>(</span>
</span><span id=__span-137-172><a id=__codelineno-137-172 name=__codelineno-137-172 href=#__codelineno-137-172></a>            <span class=n>template</span><span class=o>=</span><span class=s2>&quot;[&#39;portfolio&#39;, &#39;trades&#39;, *incl_open_tags, &#39;losing&#39;]&quot;</span><span class=p>,</span>
</span><span id=__span-137-173><a id=__codelineno-137-173 name=__codelineno-137-173 href=#__codelineno-137-173></a>            <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-174><a id=__codelineno-137-174 name=__codelineno-137-174 href=#__codelineno-137-174></a>            <span class=n>strict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-175><a id=__codelineno-137-175 name=__codelineno-137-175 href=#__codelineno-137-175></a>            <span class=n>context_merge_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-176><a id=__codelineno-137-176 name=__codelineno-137-176 href=#__codelineno-137-176></a>            <span class=n>eval_id</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-137-177><a id=__codelineno-137-177 name=__codelineno-137-177 href=#__codelineno-137-177></a>        <span class=p>)</span>
</span><span id=__span-137-178><a id=__codelineno-137-178 name=__codelineno-137-178 href=#__codelineno-137-178></a>    <span class=p>),</span>
</span><span id=__span-137-179><a id=__codelineno-137-179 name=__codelineno-137-179 href=#__codelineno-137-179></a>    <span class=n>avg_winning_trade_duration</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-180><a id=__codelineno-137-180 name=__codelineno-137-180 href=#__codelineno-137-180></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Avg Winning Trade Duration&#39;</span><span class=p>,</span>
</span><span id=__span-137-181><a id=__codelineno-137-181 name=__codelineno-137-181 href=#__codelineno-137-181></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.winning.duration.mean&#39;</span><span class=p>,</span>
</span><span id=__span-137-182><a id=__codelineno-137-182 name=__codelineno-137-182 href=#__codelineno-137-182></a>        <span class=n>apply_to_timedelta</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-183><a id=__codelineno-137-183 name=__codelineno-137-183 href=#__codelineno-137-183></a>        <span class=n>tags</span><span class=o>=</span><span class=n>RepEval</span><span class=p>(</span>
</span><span id=__span-137-184><a id=__codelineno-137-184 name=__codelineno-137-184 href=#__codelineno-137-184></a>            <span class=n>template</span><span class=o>=</span><span class=s2>&quot;[&#39;portfolio&#39;, &#39;trades&#39;, *incl_open_tags, &#39;winning&#39;, &#39;duration&#39;]&quot;</span><span class=p>,</span>
</span><span id=__span-137-185><a id=__codelineno-137-185 name=__codelineno-137-185 href=#__codelineno-137-185></a>            <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-186><a id=__codelineno-137-186 name=__codelineno-137-186 href=#__codelineno-137-186></a>            <span class=n>strict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-187><a id=__codelineno-137-187 name=__codelineno-137-187 href=#__codelineno-137-187></a>            <span class=n>context_merge_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-188><a id=__codelineno-137-188 name=__codelineno-137-188 href=#__codelineno-137-188></a>            <span class=n>eval_id</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-137-189><a id=__codelineno-137-189 name=__codelineno-137-189 href=#__codelineno-137-189></a>        <span class=p>)</span>
</span><span id=__span-137-190><a id=__codelineno-137-190 name=__codelineno-137-190 href=#__codelineno-137-190></a>    <span class=p>),</span>
</span><span id=__span-137-191><a id=__codelineno-137-191 name=__codelineno-137-191 href=#__codelineno-137-191></a>    <span class=n>avg_losing_trade_duration</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-192><a id=__codelineno-137-192 name=__codelineno-137-192 href=#__codelineno-137-192></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Avg Losing Trade Duration&#39;</span><span class=p>,</span>
</span><span id=__span-137-193><a id=__codelineno-137-193 name=__codelineno-137-193 href=#__codelineno-137-193></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.losing.duration.mean&#39;</span><span class=p>,</span>
</span><span id=__span-137-194><a id=__codelineno-137-194 name=__codelineno-137-194 href=#__codelineno-137-194></a>        <span class=n>apply_to_timedelta</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-195><a id=__codelineno-137-195 name=__codelineno-137-195 href=#__codelineno-137-195></a>        <span class=n>tags</span><span class=o>=</span><span class=n>RepEval</span><span class=p>(</span>
</span><span id=__span-137-196><a id=__codelineno-137-196 name=__codelineno-137-196 href=#__codelineno-137-196></a>            <span class=n>template</span><span class=o>=</span><span class=s2>&quot;[&#39;portfolio&#39;, &#39;trades&#39;, *incl_open_tags, &#39;losing&#39;, &#39;duration&#39;]&quot;</span><span class=p>,</span>
</span><span id=__span-137-197><a id=__codelineno-137-197 name=__codelineno-137-197 href=#__codelineno-137-197></a>            <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-198><a id=__codelineno-137-198 name=__codelineno-137-198 href=#__codelineno-137-198></a>            <span class=n>strict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-199><a id=__codelineno-137-199 name=__codelineno-137-199 href=#__codelineno-137-199></a>            <span class=n>context_merge_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-200><a id=__codelineno-137-200 name=__codelineno-137-200 href=#__codelineno-137-200></a>            <span class=n>eval_id</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-137-201><a id=__codelineno-137-201 name=__codelineno-137-201 href=#__codelineno-137-201></a>        <span class=p>)</span>
</span><span id=__span-137-202><a id=__codelineno-137-202 name=__codelineno-137-202 href=#__codelineno-137-202></a>    <span class=p>),</span>
</span><span id=__span-137-203><a id=__codelineno-137-203 name=__codelineno-137-203 href=#__codelineno-137-203></a>    <span class=n>profit_factor</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-204><a id=__codelineno-137-204 name=__codelineno-137-204 href=#__codelineno-137-204></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Profit Factor&#39;</span><span class=p>,</span>
</span><span id=__span-137-205><a id=__codelineno-137-205 name=__codelineno-137-205 href=#__codelineno-137-205></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.profit_factor&#39;</span><span class=p>,</span>
</span><span id=__span-137-206><a id=__codelineno-137-206 name=__codelineno-137-206 href=#__codelineno-137-206></a>        <span class=n>tags</span><span class=o>=</span><span class=n>RepEval</span><span class=p>(</span>
</span><span id=__span-137-207><a id=__codelineno-137-207 name=__codelineno-137-207 href=#__codelineno-137-207></a>            <span class=n>template</span><span class=o>=</span><span class=s2>&quot;[&#39;portfolio&#39;, &#39;trades&#39;, *incl_open_tags]&quot;</span><span class=p>,</span>
</span><span id=__span-137-208><a id=__codelineno-137-208 name=__codelineno-137-208 href=#__codelineno-137-208></a>            <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-209><a id=__codelineno-137-209 name=__codelineno-137-209 href=#__codelineno-137-209></a>            <span class=n>strict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-210><a id=__codelineno-137-210 name=__codelineno-137-210 href=#__codelineno-137-210></a>            <span class=n>context_merge_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-211><a id=__codelineno-137-211 name=__codelineno-137-211 href=#__codelineno-137-211></a>            <span class=n>eval_id</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-137-212><a id=__codelineno-137-212 name=__codelineno-137-212 href=#__codelineno-137-212></a>        <span class=p>)</span>
</span><span id=__span-137-213><a id=__codelineno-137-213 name=__codelineno-137-213 href=#__codelineno-137-213></a>    <span class=p>),</span>
</span><span id=__span-137-214><a id=__codelineno-137-214 name=__codelineno-137-214 href=#__codelineno-137-214></a>    <span class=n>expectancy</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-215><a id=__codelineno-137-215 name=__codelineno-137-215 href=#__codelineno-137-215></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Expectancy&#39;</span><span class=p>,</span>
</span><span id=__span-137-216><a id=__codelineno-137-216 name=__codelineno-137-216 href=#__codelineno-137-216></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;trades.expectancy&#39;</span><span class=p>,</span>
</span><span id=__span-137-217><a id=__codelineno-137-217 name=__codelineno-137-217 href=#__codelineno-137-217></a>        <span class=n>tags</span><span class=o>=</span><span class=n>RepEval</span><span class=p>(</span>
</span><span id=__span-137-218><a id=__codelineno-137-218 name=__codelineno-137-218 href=#__codelineno-137-218></a>            <span class=n>template</span><span class=o>=</span><span class=s2>&quot;[&#39;portfolio&#39;, &#39;trades&#39;, *incl_open_tags]&quot;</span><span class=p>,</span>
</span><span id=__span-137-219><a id=__codelineno-137-219 name=__codelineno-137-219 href=#__codelineno-137-219></a>            <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-220><a id=__codelineno-137-220 name=__codelineno-137-220 href=#__codelineno-137-220></a>            <span class=n>strict</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-221><a id=__codelineno-137-221 name=__codelineno-137-221 href=#__codelineno-137-221></a>            <span class=n>context_merge_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-137-222><a id=__codelineno-137-222 name=__codelineno-137-222 href=#__codelineno-137-222></a>            <span class=n>eval_id</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-137-223><a id=__codelineno-137-223 name=__codelineno-137-223 href=#__codelineno-137-223></a>        <span class=p>)</span>
</span><span id=__span-137-224><a id=__codelineno-137-224 name=__codelineno-137-224 href=#__codelineno-137-224></a>    <span class=p>),</span>
</span><span id=__span-137-225><a id=__codelineno-137-225 name=__codelineno-137-225 href=#__codelineno-137-225></a>    <span class=n>sharpe_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-226><a id=__codelineno-137-226 name=__codelineno-137-226 href=#__codelineno-137-226></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Sharpe Ratio&#39;</span><span class=p>,</span>
</span><span id=__span-137-227><a id=__codelineno-137-227 name=__codelineno-137-227 href=#__codelineno-137-227></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;returns_acc.sharpe_ratio&#39;</span><span class=p>,</span>
</span><span id=__span-137-228><a id=__codelineno-137-228 name=__codelineno-137-228 href=#__codelineno-137-228></a>        <span class=n>check_has_freq</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-229><a id=__codelineno-137-229 name=__codelineno-137-229 href=#__codelineno-137-229></a>        <span class=n>check_has_year_freq</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-230><a id=__codelineno-137-230 name=__codelineno-137-230 href=#__codelineno-137-230></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-137-231><a id=__codelineno-137-231 name=__codelineno-137-231 href=#__codelineno-137-231></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-137-232><a id=__codelineno-137-232 name=__codelineno-137-232 href=#__codelineno-137-232></a>            <span class=s1>&#39;returns&#39;</span>
</span><span id=__span-137-233><a id=__codelineno-137-233 name=__codelineno-137-233 href=#__codelineno-137-233></a>        <span class=p>]</span>
</span><span id=__span-137-234><a id=__codelineno-137-234 name=__codelineno-137-234 href=#__codelineno-137-234></a>    <span class=p>),</span>
</span><span id=__span-137-235><a id=__codelineno-137-235 name=__codelineno-137-235 href=#__codelineno-137-235></a>    <span class=n>calmar_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-236><a id=__codelineno-137-236 name=__codelineno-137-236 href=#__codelineno-137-236></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Calmar Ratio&#39;</span><span class=p>,</span>
</span><span id=__span-137-237><a id=__codelineno-137-237 name=__codelineno-137-237 href=#__codelineno-137-237></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;returns_acc.calmar_ratio&#39;</span><span class=p>,</span>
</span><span id=__span-137-238><a id=__codelineno-137-238 name=__codelineno-137-238 href=#__codelineno-137-238></a>        <span class=n>check_has_freq</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-239><a id=__codelineno-137-239 name=__codelineno-137-239 href=#__codelineno-137-239></a>        <span class=n>check_has_year_freq</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-240><a id=__codelineno-137-240 name=__codelineno-137-240 href=#__codelineno-137-240></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-137-241><a id=__codelineno-137-241 name=__codelineno-137-241 href=#__codelineno-137-241></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-137-242><a id=__codelineno-137-242 name=__codelineno-137-242 href=#__codelineno-137-242></a>            <span class=s1>&#39;returns&#39;</span>
</span><span id=__span-137-243><a id=__codelineno-137-243 name=__codelineno-137-243 href=#__codelineno-137-243></a>        <span class=p>]</span>
</span><span id=__span-137-244><a id=__codelineno-137-244 name=__codelineno-137-244 href=#__codelineno-137-244></a>    <span class=p>),</span>
</span><span id=__span-137-245><a id=__codelineno-137-245 name=__codelineno-137-245 href=#__codelineno-137-245></a>    <span class=n>omega_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-246><a id=__codelineno-137-246 name=__codelineno-137-246 href=#__codelineno-137-246></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Omega Ratio&#39;</span><span class=p>,</span>
</span><span id=__span-137-247><a id=__codelineno-137-247 name=__codelineno-137-247 href=#__codelineno-137-247></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;returns_acc.omega_ratio&#39;</span><span class=p>,</span>
</span><span id=__span-137-248><a id=__codelineno-137-248 name=__codelineno-137-248 href=#__codelineno-137-248></a>        <span class=n>check_has_freq</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-249><a id=__codelineno-137-249 name=__codelineno-137-249 href=#__codelineno-137-249></a>        <span class=n>check_has_year_freq</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-250><a id=__codelineno-137-250 name=__codelineno-137-250 href=#__codelineno-137-250></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-137-251><a id=__codelineno-137-251 name=__codelineno-137-251 href=#__codelineno-137-251></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-137-252><a id=__codelineno-137-252 name=__codelineno-137-252 href=#__codelineno-137-252></a>            <span class=s1>&#39;returns&#39;</span>
</span><span id=__span-137-253><a id=__codelineno-137-253 name=__codelineno-137-253 href=#__codelineno-137-253></a>        <span class=p>]</span>
</span><span id=__span-137-254><a id=__codelineno-137-254 name=__codelineno-137-254 href=#__codelineno-137-254></a>    <span class=p>),</span>
</span><span id=__span-137-255><a id=__codelineno-137-255 name=__codelineno-137-255 href=#__codelineno-137-255></a>    <span class=n>sortino_ratio</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-137-256><a id=__codelineno-137-256 name=__codelineno-137-256 href=#__codelineno-137-256></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Sortino Ratio&#39;</span><span class=p>,</span>
</span><span id=__span-137-257><a id=__codelineno-137-257 name=__codelineno-137-257 href=#__codelineno-137-257></a>        <span class=n>calc_func</span><span class=o>=</span><span class=s1>&#39;returns_acc.sortino_ratio&#39;</span><span class=p>,</span>
</span><span id=__span-137-258><a id=__codelineno-137-258 name=__codelineno-137-258 href=#__codelineno-137-258></a>        <span class=n>check_has_freq</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-259><a id=__codelineno-137-259 name=__codelineno-137-259 href=#__codelineno-137-259></a>        <span class=n>check_has_year_freq</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-137-260><a id=__codelineno-137-260 name=__codelineno-137-260 href=#__codelineno-137-260></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-137-261><a id=__codelineno-137-261 name=__codelineno-137-261 href=#__codelineno-137-261></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-137-262><a id=__codelineno-137-262 name=__codelineno-137-262 href=#__codelineno-137-262></a>            <span class=s1>&#39;returns&#39;</span>
</span><span id=__span-137-263><a id=__codelineno-137-263 name=__codelineno-137-263 href=#__codelineno-137-263></a>        <span class=p>]</span>
</span><span id=__span-137-264><a id=__codelineno-137-264 name=__codelineno-137-264 href=#__codelineno-137-264></a>    <span class=p>)</span>
</span><span id=__span-137-265><a id=__codelineno-137-265 name=__codelineno-137-265 href=#__codelineno-137-265></a><span class=p>)</span>
</span></code></pre></div> <p>To modify the metrics, change the configuration in-place, override this property, or assign a new value to the instance variable <code>Portfolio._metrics</code>.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Config</code></dt> <dd>Copy of the metrics configuration for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.net_exposure>net_exposure <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.net_exposure title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_net_exposure title=vectorbtpro.portfolio.base.Portfolio.get_net_exposure>Portfolio.get_net_exposure</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.omega_ratio>omega_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.omega_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_omega_ratio title=vectorbtpro.portfolio.base.Portfolio.get_omega_ratio>Portfolio.get_omega_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.open>open <span class=dobjtype>custom_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5851-L5861 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.open title="Permanent link">&para;</a></h3> <p>Open price of each bar.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[SeriesFrame]</code></dt> <dd>SeriesFrame containing the open prices for each bar, or None if open price data is not provided.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.open_flex>open_flex <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5799-L5810 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.open_flex title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.open title=vectorbtpro.portfolio.base.Portfolio.open>Portfolio.open</a> returned in a format that supports flexible indexing.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[ArrayLike]</code></dt> <dd>Open price data in a flexible format, or None if not provided.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.order_records>order_records <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L6246-L6253 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.order_records title="Permanent link">&para;</a></h3> <p>Structured NumPy array of order records.</p> <p><strong>Returns</strong></p> <dl> <dt><code>RecordArray</code></dt> <dd>Structured array containing order records.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.orders>orders <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.orders title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.orders_cls>orders_cls <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5679-L5690 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.orders_cls title="Permanent link">&para;</a></h3> <p>Order records wrapper class.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Type</code></dt> <dd> <p>Class used to wrap order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/orders/#vectorbtpro.portfolio.orders.Orders title=vectorbtpro.portfolio.orders.Orders>Orders</a> if not explicitly set.</p> </dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.override_in_output_config_doc>override_in_output_config_doc <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L13207-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.override_in_output_config_doc title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-138-1><a id=__codelineno-138-1 name=__codelineno-138-1 href=#__codelineno-138-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>override_in_output_config_doc</span><span class=p>(</span>
</span><span id=__span-138-2><a id=__codelineno-138-2 name=__codelineno-138-2 href=#__codelineno-138-2></a>    <span class=n>__pdoc__</span><span class=p>,</span>
</span><span id=__span-138-3><a id=__codelineno-138-3 name=__codelineno-138-3 href=#__codelineno-138-3></a>    <span class=n>source_cls</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-138-4><a id=__codelineno-138-4 name=__codelineno-138-4 href=#__codelineno-138-4></a><span class=p>)</span>
</span></code></pre></div> <p>Override the in-place output configuration documentation in the <code>__pdoc__</code> dictionary.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>__pdoc__</code></strong> :&ensp;<code>dict</code></dt> <dd>Dictionary mapping objects to their documentation strings.</dd> <dt><strong><code>source_cls</code></strong> :&ensp;<code>Optional[type]</code></dt> <dd> <p>Source class providing the original configuration.</p> <p>If None, <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> is used.</p> </dd> </dl> <p><strong>Returns</strong></p> <p>None</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.parse_field_options>parse_field_options <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L1645-L1696 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.parse_field_options title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-139-1><a id=__codelineno-139-1 name=__codelineno-139-1 href=#__codelineno-139-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>parse_field_options</span><span class=p>(</span>
</span><span id=__span-139-2><a id=__codelineno-139-2 name=__codelineno-139-2 href=#__codelineno-139-2></a>    <span class=n>field</span>
</span><span id=__span-139-3><a id=__codelineno-139-3 name=__codelineno-139-3 href=#__codelineno-139-3></a><span class=p>)</span>
</span></code></pre></div> <p>Parse options from a field name.</p> <p>Extracts suffixes from the field name to determine the grouping and object type, and returns a cleaned field name.</p> <p>Suffixes for grouping:</p> <ul> <li><code>_cs</code>: per group if cash sharing is enabled, otherwise per column.</li> <li><code>_pcg</code>: per group if grouped, otherwise per column.</li> <li><code>_pg</code>: per group.</li> <li><code>_pc</code>: per column.</li> <li><code>_records</code>: records.</li> </ul> <p>Suffixes for object type:</p> <ul> <li><code>_2d</code>: element per timestamp and column or group (time series).</li> <li><code>_1d</code>: element per column or group (reduced time series).</li> </ul> <p><strong>Args</strong></p> <dl> <dt><strong><code>field</code></strong> :&ensp;<code>str</code></dt> <dd>Field identifier.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Kwargs</code></dt> <dd> <p>Dictionary with the following keys:</p> <ul> <li><code>obj_type</code>: Detected object type if applicable.</li> <li><code>grouping</code>: Detected grouping option if applicable.</li> <li><code>field</code>: Cleaned field name.</li> </ul> </dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot>plot <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L122-L928 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-140-1><a id=__codelineno-140-1 name=__codelineno-140-1 href=#__codelineno-140-1></a><span class=n>PlotsBuilderMixin</span><span class=o>.</span><span class=n>plots</span><span class=p>(</span>
</span><span id=__span-140-2><a id=__codelineno-140-2 name=__codelineno-140-2 href=#__codelineno-140-2></a>    <span class=n>subplots</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-3><a id=__codelineno-140-3 name=__codelineno-140-3 href=#__codelineno-140-3></a>    <span class=n>tags</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-4><a id=__codelineno-140-4 name=__codelineno-140-4 href=#__codelineno-140-4></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-5><a id=__codelineno-140-5 name=__codelineno-140-5 href=#__codelineno-140-5></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-6><a id=__codelineno-140-6 name=__codelineno-140-6 href=#__codelineno-140-6></a>    <span class=n>per_column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-7><a id=__codelineno-140-7 name=__codelineno-140-7 href=#__codelineno-140-7></a>    <span class=n>split_columns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-8><a id=__codelineno-140-8 name=__codelineno-140-8 href=#__codelineno-140-8></a>    <span class=n>silence_warnings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-9><a id=__codelineno-140-9 name=__codelineno-140-9 href=#__codelineno-140-9></a>    <span class=n>template_context</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-10><a id=__codelineno-140-10 name=__codelineno-140-10 href=#__codelineno-140-10></a>    <span class=n>settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-11><a id=__codelineno-140-11 name=__codelineno-140-11 href=#__codelineno-140-11></a>    <span class=n>filters</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-12><a id=__codelineno-140-12 name=__codelineno-140-12 href=#__codelineno-140-12></a>    <span class=n>subplot_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-13><a id=__codelineno-140-13 name=__codelineno-140-13 href=#__codelineno-140-13></a>    <span class=n>show_titles</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-14><a id=__codelineno-140-14 name=__codelineno-140-14 href=#__codelineno-140-14></a>    <span class=n>show_legend</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-15><a id=__codelineno-140-15 name=__codelineno-140-15 href=#__codelineno-140-15></a>    <span class=n>show_column_label</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-16><a id=__codelineno-140-16 name=__codelineno-140-16 href=#__codelineno-140-16></a>    <span class=n>hide_id_labels</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-17><a id=__codelineno-140-17 name=__codelineno-140-17 href=#__codelineno-140-17></a>    <span class=n>group_id_labels</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-18><a id=__codelineno-140-18 name=__codelineno-140-18 href=#__codelineno-140-18></a>    <span class=n>make_subplots_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-19><a id=__codelineno-140-19 name=__codelineno-140-19 href=#__codelineno-140-19></a>    <span class=n>fig</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-140-20><a id=__codelineno-140-20 name=__codelineno-140-20 href=#__codelineno-140-20></a>    <span class=o>**</span><span class=n>layout_kwargs</span>
</span><span id=__span-140-21><a id=__codelineno-140-21 name=__codelineno-140-21 href=#__codelineno-140-21></a><span class=p>)</span>
</span></code></pre></div> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.PlotsBuilderMixin.plots title=vectorbtpro.generic.plots_builder.PlotsBuilderMixin.plots>PlotsBuilderMixin.plots</a>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_allocations>plot_allocations <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L12944-L13031 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_allocations title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-141-1><a id=__codelineno-141-1 name=__codelineno-141-1 href=#__codelineno-141-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_allocations</span><span class=p>(</span>
</span><span id=__span-141-2><a id=__codelineno-141-2 name=__codelineno-141-2 href=#__codelineno-141-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-141-3><a id=__codelineno-141-3 name=__codelineno-141-3 href=#__codelineno-141-3></a>    <span class=n>allocations</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-141-4><a id=__codelineno-141-4 name=__codelineno-141-4 href=#__codelineno-141-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-141-5><a id=__codelineno-141-5 name=__codelineno-141-5 href=#__codelineno-141-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-141-6><a id=__codelineno-141-6 name=__codelineno-141-6 href=#__codelineno-141-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-141-7><a id=__codelineno-141-7 name=__codelineno-141-7 href=#__codelineno-141-7></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-141-8><a id=__codelineno-141-8 name=__codelineno-141-8 href=#__codelineno-141-8></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-141-9><a id=__codelineno-141-9 name=__codelineno-141-9 href=#__codelineno-141-9></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-141-10><a id=__codelineno-141-10 name=__codelineno-141-10 href=#__codelineno-141-10></a>    <span class=n>line_shape</span><span class=o>=</span><span class=s1>&#39;hv&#39;</span><span class=p>,</span>
</span><span id=__span-141-11><a id=__codelineno-141-11 name=__codelineno-141-11 href=#__codelineno-141-11></a>    <span class=n>line_visible</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-141-12><a id=__codelineno-141-12 name=__codelineno-141-12 href=#__codelineno-141-12></a>    <span class=n>colorway</span><span class=o>=</span><span class=s1>&#39;Vivid&#39;</span><span class=p>,</span>
</span><span id=__span-141-13><a id=__codelineno-141-13 name=__codelineno-141-13 href=#__codelineno-141-13></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-141-14><a id=__codelineno-141-14 name=__codelineno-141-14 href=#__codelineno-141-14></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-141-15><a id=__codelineno-141-15 name=__codelineno-141-15 href=#__codelineno-141-15></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-141-16><a id=__codelineno-141-16 name=__codelineno-141-16 href=#__codelineno-141-16></a><span class=p>)</span>
</span></code></pre></div> <p>Plot allocations for a specified group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>allocations</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Allocation data.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_allocations title=vectorbtpro.portfolio.base.Portfolio.get_allocations>Portfolio.get_allocations</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>line_shape</code></strong> :&ensp;<code>str</code></dt> <dd>Shape of the plot line (e.g. "hv").</dd> <dt><strong><code>line_visible</code></strong> :&ensp;<code>bool</code></dt> <dd>Determines if plot lines are visible.</dd> <dt><strong><code>colorway</code></strong> :&ensp;<code>Union[None, str, Sequence[str]]</code></dt> <dd>Name of a built-in qualitative color palette or a sequence of colors.</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.areaplot title=vectorbtpro.generic.accessors.GenericAccessor.areaplot>GenericAccessor.areaplot</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure instance representing the allocations plot.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_asset_flow>plot_asset_flow <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11844-L11962 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_asset_flow title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-142-1><a id=__codelineno-142-1 name=__codelineno-142-1 href=#__codelineno-142-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_asset_flow</span><span class=p>(</span>
</span><span id=__span-142-2><a id=__codelineno-142-2 name=__codelineno-142-2 href=#__codelineno-142-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-142-3><a id=__codelineno-142-3 name=__codelineno-142-3 href=#__codelineno-142-3></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-142-4><a id=__codelineno-142-4 name=__codelineno-142-4 href=#__codelineno-142-4></a>    <span class=n>asset_flow</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-142-5><a id=__codelineno-142-5 name=__codelineno-142-5 href=#__codelineno-142-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-142-6><a id=__codelineno-142-6 name=__codelineno-142-6 href=#__codelineno-142-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-142-7><a id=__codelineno-142-7 name=__codelineno-142-7 href=#__codelineno-142-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-142-8><a id=__codelineno-142-8 name=__codelineno-142-8 href=#__codelineno-142-8></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-142-9><a id=__codelineno-142-9 name=__codelineno-142-9 href=#__codelineno-142-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-142-10><a id=__codelineno-142-10 name=__codelineno-142-10 href=#__codelineno-142-10></a>    <span class=n>line_shape</span><span class=o>=</span><span class=s1>&#39;hv&#39;</span><span class=p>,</span>
</span><span id=__span-142-11><a id=__codelineno-142-11 name=__codelineno-142-11 href=#__codelineno-142-11></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-142-12><a id=__codelineno-142-12 name=__codelineno-142-12 href=#__codelineno-142-12></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-142-13><a id=__codelineno-142-13 name=__codelineno-142-13 href=#__codelineno-142-13></a>    <span class=n>hline_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-142-14><a id=__codelineno-142-14 name=__codelineno-142-14 href=#__codelineno-142-14></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-142-15><a id=__codelineno-142-15 name=__codelineno-142-15 href=#__codelineno-142-15></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column of asset flow.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Direction filter for asset flow.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>asset_flow</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset flow data.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_flow title=vectorbtpro.portfolio.base.Portfolio.get_asset_flow>Portfolio.get_asset_flow</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>line_shape</code></strong> :&ensp;<code>str</code></dt> <dd>Shape of the plot line (e.g. "hv").</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>hline_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for the horizontal line.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.plot title=vectorbtpro.generic.accessors.GenericAccessor.plot>GenericAccessor.plot</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure object with the depicted asset flow.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_asset_value>plot_asset_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L12093-L12225 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_asset_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-143-1><a id=__codelineno-143-1 name=__codelineno-143-1 href=#__codelineno-143-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_asset_value</span><span class=p>(</span>
</span><span id=__span-143-2><a id=__codelineno-143-2 name=__codelineno-143-2 href=#__codelineno-143-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-143-3><a id=__codelineno-143-3 name=__codelineno-143-3 href=#__codelineno-143-3></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-143-4><a id=__codelineno-143-4 name=__codelineno-143-4 href=#__codelineno-143-4></a>    <span class=n>asset_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-143-5><a id=__codelineno-143-5 name=__codelineno-143-5 href=#__codelineno-143-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-143-6><a id=__codelineno-143-6 name=__codelineno-143-6 href=#__codelineno-143-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-143-7><a id=__codelineno-143-7 name=__codelineno-143-7 href=#__codelineno-143-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-143-8><a id=__codelineno-143-8 name=__codelineno-143-8 href=#__codelineno-143-8></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-143-9><a id=__codelineno-143-9 name=__codelineno-143-9 href=#__codelineno-143-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-143-10><a id=__codelineno-143-10 name=__codelineno-143-10 href=#__codelineno-143-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-143-11><a id=__codelineno-143-11 name=__codelineno-143-11 href=#__codelineno-143-11></a>    <span class=n>line_shape</span><span class=o>=</span><span class=s1>&#39;hv&#39;</span><span class=p>,</span>
</span><span id=__span-143-12><a id=__codelineno-143-12 name=__codelineno-143-12 href=#__codelineno-143-12></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-143-13><a id=__codelineno-143-13 name=__codelineno-143-13 href=#__codelineno-143-13></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-143-14><a id=__codelineno-143-14 name=__codelineno-143-14 href=#__codelineno-143-14></a>    <span class=n>hline_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-143-15><a id=__codelineno-143-15 name=__codelineno-143-15 href=#__codelineno-143-15></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-143-16><a id=__codelineno-143-16 name=__codelineno-143-16 href=#__codelineno-143-16></a><span class=p>)</span>
</span></code></pre></div> <p>Plot asset value data for a single column or a group of columns.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Direction indicator for asset value data (e.g. "both").</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>asset_value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset value data to plot.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_value title=vectorbtpro.portfolio.base.Portfolio.get_asset_value>Portfolio.get_asset_value</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>line_shape</code></strong> :&ensp;<code>str</code></dt> <dd>Shape of the plot line (e.g. "hv").</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>hline_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for the horizontal line.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.plot_against title=vectorbtpro.generic.accessors.GenericSRAccessor.plot_against>GenericAccessor.plot_against</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure object with the plotted asset value data.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_assets>plot_assets <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11964-L12091 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_assets title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-144-1><a id=__codelineno-144-1 name=__codelineno-144-1 href=#__codelineno-144-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_assets</span><span class=p>(</span>
</span><span id=__span-144-2><a id=__codelineno-144-2 name=__codelineno-144-2 href=#__codelineno-144-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-144-3><a id=__codelineno-144-3 name=__codelineno-144-3 href=#__codelineno-144-3></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-144-4><a id=__codelineno-144-4 name=__codelineno-144-4 href=#__codelineno-144-4></a>    <span class=n>assets</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-144-5><a id=__codelineno-144-5 name=__codelineno-144-5 href=#__codelineno-144-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-144-6><a id=__codelineno-144-6 name=__codelineno-144-6 href=#__codelineno-144-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-144-7><a id=__codelineno-144-7 name=__codelineno-144-7 href=#__codelineno-144-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-144-8><a id=__codelineno-144-8 name=__codelineno-144-8 href=#__codelineno-144-8></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-144-9><a id=__codelineno-144-9 name=__codelineno-144-9 href=#__codelineno-144-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-144-10><a id=__codelineno-144-10 name=__codelineno-144-10 href=#__codelineno-144-10></a>    <span class=n>line_shape</span><span class=o>=</span><span class=s1>&#39;hv&#39;</span><span class=p>,</span>
</span><span id=__span-144-11><a id=__codelineno-144-11 name=__codelineno-144-11 href=#__codelineno-144-11></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-144-12><a id=__codelineno-144-12 name=__codelineno-144-12 href=#__codelineno-144-12></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-144-13><a id=__codelineno-144-13 name=__codelineno-144-13 href=#__codelineno-144-13></a>    <span class=n>hline_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-144-14><a id=__codelineno-144-14 name=__codelineno-144-14 href=#__codelineno-144-14></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-144-15><a id=__codelineno-144-15 name=__codelineno-144-15 href=#__codelineno-144-15></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column of asset data.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Asset direction indicator (e.g. "both").</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>assets</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Asset positions.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_assets title=vectorbtpro.portfolio.base.Portfolio.get_assets>Portfolio.get_assets</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>line_shape</code></strong> :&ensp;<code>str</code></dt> <dd>Shape of the plot line (e.g. "hv").</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>hline_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for the horizontal line.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.plot_against title=vectorbtpro.generic.accessors.GenericSRAccessor.plot_against>GenericAccessor.plot_against</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure object with the plotted asset data.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_cash>plot_cash <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11697-L11842 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_cash title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-145-1><a id=__codelineno-145-1 name=__codelineno-145-1 href=#__codelineno-145-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_cash</span><span class=p>(</span>
</span><span id=__span-145-2><a id=__codelineno-145-2 name=__codelineno-145-2 href=#__codelineno-145-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-3><a id=__codelineno-145-3 name=__codelineno-145-3 href=#__codelineno-145-3></a>    <span class=n>free</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-145-4><a id=__codelineno-145-4 name=__codelineno-145-4 href=#__codelineno-145-4></a>    <span class=n>init_cash</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-5><a id=__codelineno-145-5 name=__codelineno-145-5 href=#__codelineno-145-5></a>    <span class=n>cash</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-6><a id=__codelineno-145-6 name=__codelineno-145-6 href=#__codelineno-145-6></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-7><a id=__codelineno-145-7 name=__codelineno-145-7 href=#__codelineno-145-7></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-8><a id=__codelineno-145-8 name=__codelineno-145-8 href=#__codelineno-145-8></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-145-9><a id=__codelineno-145-9 name=__codelineno-145-9 href=#__codelineno-145-9></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-145-10><a id=__codelineno-145-10 name=__codelineno-145-10 href=#__codelineno-145-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-11><a id=__codelineno-145-11 name=__codelineno-145-11 href=#__codelineno-145-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-12><a id=__codelineno-145-12 name=__codelineno-145-12 href=#__codelineno-145-12></a>    <span class=n>line_shape</span><span class=o>=</span><span class=s1>&#39;hv&#39;</span><span class=p>,</span>
</span><span id=__span-145-13><a id=__codelineno-145-13 name=__codelineno-145-13 href=#__codelineno-145-13></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-14><a id=__codelineno-145-14 name=__codelineno-145-14 href=#__codelineno-145-14></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-15><a id=__codelineno-145-15 name=__codelineno-145-15 href=#__codelineno-145-15></a>    <span class=n>hline_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-145-16><a id=__codelineno-145-16 name=__codelineno-145-16 href=#__codelineno-145-16></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-145-17><a id=__codelineno-145-17 name=__codelineno-145-17 href=#__codelineno-145-17></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column or group of cash balance.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column or group to plot.</dd> <dt><strong><code>free</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to use free cash flow.</dd> <dt><strong><code>init_cash</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial cash balance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_cash title=vectorbtpro.portfolio.base.Portfolio.get_init_cash>Portfolio.get_init_cash</a> if not provided.</p> </dd> <dt><strong><code>cash</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Cash balance data.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash title=vectorbtpro.portfolio.base.Portfolio.get_cash>Portfolio.get_cash</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>line_shape</code></strong> :&ensp;<code>str</code></dt> <dd>Shape of the plot line (e.g. "hv").</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>hline_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for the horizontal line.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.plot_against title=vectorbtpro.generic.accessors.GenericSRAccessor.plot_against>GenericAccessor.plot_against</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure object with the depicted cash balance.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_cash_flow>plot_cash_flow <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11572-L11695 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_cash_flow title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-146-1><a id=__codelineno-146-1 name=__codelineno-146-1 href=#__codelineno-146-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_cash_flow</span><span class=p>(</span>
</span><span id=__span-146-2><a id=__codelineno-146-2 name=__codelineno-146-2 href=#__codelineno-146-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-146-3><a id=__codelineno-146-3 name=__codelineno-146-3 href=#__codelineno-146-3></a>    <span class=n>free</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-146-4><a id=__codelineno-146-4 name=__codelineno-146-4 href=#__codelineno-146-4></a>    <span class=n>cash_flow</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-146-5><a id=__codelineno-146-5 name=__codelineno-146-5 href=#__codelineno-146-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-146-6><a id=__codelineno-146-6 name=__codelineno-146-6 href=#__codelineno-146-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-146-7><a id=__codelineno-146-7 name=__codelineno-146-7 href=#__codelineno-146-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-146-8><a id=__codelineno-146-8 name=__codelineno-146-8 href=#__codelineno-146-8></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-146-9><a id=__codelineno-146-9 name=__codelineno-146-9 href=#__codelineno-146-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-146-10><a id=__codelineno-146-10 name=__codelineno-146-10 href=#__codelineno-146-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-146-11><a id=__codelineno-146-11 name=__codelineno-146-11 href=#__codelineno-146-11></a>    <span class=n>line_shape</span><span class=o>=</span><span class=s1>&#39;hv&#39;</span><span class=p>,</span>
</span><span id=__span-146-12><a id=__codelineno-146-12 name=__codelineno-146-12 href=#__codelineno-146-12></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-146-13><a id=__codelineno-146-13 name=__codelineno-146-13 href=#__codelineno-146-13></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-146-14><a id=__codelineno-146-14 name=__codelineno-146-14 href=#__codelineno-146-14></a>    <span class=n>hline_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-146-15><a id=__codelineno-146-15 name=__codelineno-146-15 href=#__codelineno-146-15></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-146-16><a id=__codelineno-146-16 name=__codelineno-146-16 href=#__codelineno-146-16></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column or group of cash flow.</p> <p>Keyword arguments are passed to <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.plot title=vectorbtpro.generic.accessors.GenericAccessor.plot>GenericAccessor.plot</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column or group to plot.</dd> <dt><strong><code>free</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to use free cash flow.</dd> <dt><strong><code>cash_flow</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Cash flow series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_cash_flow title=vectorbtpro.portfolio.base.Portfolio.get_cash_flow>Portfolio.get_cash_flow</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>line_shape</code></strong> :&ensp;<code>str</code></dt> <dd>Shape of the plot line (e.g. "hv").</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>hline_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for the horizontal line.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <code>GenericAccessor.plot</code>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure with the plotted cash flow.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_cumulative_returns>plot_cumulative_returns <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L12366-L12457 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_cumulative_returns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-147-1><a id=__codelineno-147-1 name=__codelineno-147-1 href=#__codelineno-147-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_cumulative_returns</span><span class=p>(</span>
</span><span id=__span-147-2><a id=__codelineno-147-2 name=__codelineno-147-2 href=#__codelineno-147-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-147-3><a id=__codelineno-147-3 name=__codelineno-147-3 href=#__codelineno-147-3></a>    <span class=n>returns_acc</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-147-4><a id=__codelineno-147-4 name=__codelineno-147-4 href=#__codelineno-147-4></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-147-5><a id=__codelineno-147-5 name=__codelineno-147-5 href=#__codelineno-147-5></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-147-6><a id=__codelineno-147-6 name=__codelineno-147-6 href=#__codelineno-147-6></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-147-7><a id=__codelineno-147-7 name=__codelineno-147-7 href=#__codelineno-147-7></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-147-8><a id=__codelineno-147-8 name=__codelineno-147-8 href=#__codelineno-147-8></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-147-9><a id=__codelineno-147-9 name=__codelineno-147-9 href=#__codelineno-147-9></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-147-10><a id=__codelineno-147-10 name=__codelineno-147-10 href=#__codelineno-147-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-147-11><a id=__codelineno-147-11 name=__codelineno-147-11 href=#__codelineno-147-11></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-147-12><a id=__codelineno-147-12 name=__codelineno-147-12 href=#__codelineno-147-12></a>    <span class=n>pct_scale</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-147-13><a id=__codelineno-147-13 name=__codelineno-147-13 href=#__codelineno-147-13></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-147-14><a id=__codelineno-147-14 name=__codelineno-147-14 href=#__codelineno-147-14></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column or group of cumulative returns.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>returns_acc</code></strong> :&ensp;<code>Optional[ReturnsAccessor]</code></dt> <dd> <p>Returns accessor instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns_acc title=vectorbtpro.portfolio.base.Portfolio.get_returns_acc>Portfolio.get_returns_acc</a> if not provided.</p> </dd> <dt><strong><code>use_asset_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to use asset returns instead of portfolio returns.</dd> <dt><strong><code>bm_returns</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Benchmark returns or a flag to resolve benchmark returns.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_bm_returns title=vectorbtpro.portfolio.base.Portfolio.get_bm_returns>Portfolio.get_bm_returns</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>pct_scale</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to display the y-axis on a percentage scale.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor.plot_cumulative title=vectorbtpro.returns.accessors.ReturnsSRAccessor.plot_cumulative>ReturnsAccessor.plot_cumulative</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure displaying cumulative returns.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_drawdowns>plot_drawdowns <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L12459-L12540 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_drawdowns title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-148-1><a id=__codelineno-148-1 name=__codelineno-148-1 href=#__codelineno-148-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_drawdowns</span><span class=p>(</span>
</span><span id=__span-148-2><a id=__codelineno-148-2 name=__codelineno-148-2 href=#__codelineno-148-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-148-3><a id=__codelineno-148-3 name=__codelineno-148-3 href=#__codelineno-148-3></a>    <span class=n>drawdowns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-148-4><a id=__codelineno-148-4 name=__codelineno-148-4 href=#__codelineno-148-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-148-5><a id=__codelineno-148-5 name=__codelineno-148-5 href=#__codelineno-148-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-148-6><a id=__codelineno-148-6 name=__codelineno-148-6 href=#__codelineno-148-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-148-7><a id=__codelineno-148-7 name=__codelineno-148-7 href=#__codelineno-148-7></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-148-8><a id=__codelineno-148-8 name=__codelineno-148-8 href=#__codelineno-148-8></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-148-9><a id=__codelineno-148-9 name=__codelineno-148-9 href=#__codelineno-148-9></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-148-10><a id=__codelineno-148-10 name=__codelineno-148-10 href=#__codelineno-148-10></a>    <span class=n>xref</span><span class=o>=</span><span class=s1>&#39;x&#39;</span><span class=p>,</span>
</span><span id=__span-148-11><a id=__codelineno-148-11 name=__codelineno-148-11 href=#__codelineno-148-11></a>    <span class=n>yref</span><span class=o>=</span><span class=s1>&#39;y&#39;</span><span class=p>,</span>
</span><span id=__span-148-12><a id=__codelineno-148-12 name=__codelineno-148-12 href=#__codelineno-148-12></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-148-13><a id=__codelineno-148-13 name=__codelineno-148-13 href=#__codelineno-148-13></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column or group of drawdowns.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>drawdowns</code></strong> :&ensp;<code>Optional[Drawdowns]</code></dt> <dd> <p>Instance containing drawdown records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_drawdowns title=vectorbtpro.portfolio.base.Portfolio.get_drawdowns>Portfolio.get_drawdowns</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>xref</code></strong> :&ensp;<code>str</code></dt> <dd>Reference for the x-axis (e.g., "x", "x2").</dd> <dt><strong><code>yref</code></strong> :&ensp;<code>str</code></dt> <dd>Reference for the y-axis (e.g., "y", "y2").</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/drawdowns/#vectorbtpro.generic.drawdowns.Drawdowns.plot title=vectorbtpro.generic.drawdowns.Drawdowns.plot>Drawdowns.plot</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure displaying the plotted drawdowns.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_gross_exposure>plot_gross_exposure <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L12680-L12813 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_gross_exposure title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-149-1><a id=__codelineno-149-1 name=__codelineno-149-1 href=#__codelineno-149-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_gross_exposure</span><span class=p>(</span>
</span><span id=__span-149-2><a id=__codelineno-149-2 name=__codelineno-149-2 href=#__codelineno-149-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-149-3><a id=__codelineno-149-3 name=__codelineno-149-3 href=#__codelineno-149-3></a>    <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;both&#39;</span><span class=p>,</span>
</span><span id=__span-149-4><a id=__codelineno-149-4 name=__codelineno-149-4 href=#__codelineno-149-4></a>    <span class=n>gross_exposure</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-149-5><a id=__codelineno-149-5 name=__codelineno-149-5 href=#__codelineno-149-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-149-6><a id=__codelineno-149-6 name=__codelineno-149-6 href=#__codelineno-149-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-149-7><a id=__codelineno-149-7 name=__codelineno-149-7 href=#__codelineno-149-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-149-8><a id=__codelineno-149-8 name=__codelineno-149-8 href=#__codelineno-149-8></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-149-9><a id=__codelineno-149-9 name=__codelineno-149-9 href=#__codelineno-149-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-149-10><a id=__codelineno-149-10 name=__codelineno-149-10 href=#__codelineno-149-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-149-11><a id=__codelineno-149-11 name=__codelineno-149-11 href=#__codelineno-149-11></a>    <span class=n>line_shape</span><span class=o>=</span><span class=s1>&#39;hv&#39;</span><span class=p>,</span>
</span><span id=__span-149-12><a id=__codelineno-149-12 name=__codelineno-149-12 href=#__codelineno-149-12></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-149-13><a id=__codelineno-149-13 name=__codelineno-149-13 href=#__codelineno-149-13></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-149-14><a id=__codelineno-149-14 name=__codelineno-149-14 href=#__codelineno-149-14></a>    <span class=n>hline_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-149-15><a id=__codelineno-149-15 name=__codelineno-149-15 href=#__codelineno-149-15></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-149-16><a id=__codelineno-149-16 name=__codelineno-149-16 href=#__codelineno-149-16></a><span class=p>)</span>
</span></code></pre></div> <p>Plot gross exposure for a specified column or group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column or group to plot.</dd> <dt><strong><code>direction</code></strong> :&ensp;<code>Union[str, int]</code></dt> <dd> <p>Indicator for the exposure direction (e.g., "both" for combined exposure).</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.Direction title=vectorbtpro.portfolio.enums.Direction>Direction</a> if provided as a string.</p> </dd> <dt><strong><code>gross_exposure</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Gross exposure data series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_gross_exposure title=vectorbtpro.portfolio.base.Portfolio.get_gross_exposure>Portfolio.get_gross_exposure</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>line_shape</code></strong> :&ensp;<code>str</code></dt> <dd>Shape of the plot line (e.g. "hv").</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>hline_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for the horizontal line.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.plot_against title=vectorbtpro.generic.accessors.GenericSRAccessor.plot_against>GenericAccessor.plot_against</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure object containing the gross exposure plot.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_net_exposure>plot_net_exposure <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L12815-L12942 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_net_exposure title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-150-1><a id=__codelineno-150-1 name=__codelineno-150-1 href=#__codelineno-150-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_net_exposure</span><span class=p>(</span>
</span><span id=__span-150-2><a id=__codelineno-150-2 name=__codelineno-150-2 href=#__codelineno-150-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-150-3><a id=__codelineno-150-3 name=__codelineno-150-3 href=#__codelineno-150-3></a>    <span class=n>net_exposure</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-150-4><a id=__codelineno-150-4 name=__codelineno-150-4 href=#__codelineno-150-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-150-5><a id=__codelineno-150-5 name=__codelineno-150-5 href=#__codelineno-150-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-150-6><a id=__codelineno-150-6 name=__codelineno-150-6 href=#__codelineno-150-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-150-7><a id=__codelineno-150-7 name=__codelineno-150-7 href=#__codelineno-150-7></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-150-8><a id=__codelineno-150-8 name=__codelineno-150-8 href=#__codelineno-150-8></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-150-9><a id=__codelineno-150-9 name=__codelineno-150-9 href=#__codelineno-150-9></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-150-10><a id=__codelineno-150-10 name=__codelineno-150-10 href=#__codelineno-150-10></a>    <span class=n>line_shape</span><span class=o>=</span><span class=s1>&#39;hv&#39;</span><span class=p>,</span>
</span><span id=__span-150-11><a id=__codelineno-150-11 name=__codelineno-150-11 href=#__codelineno-150-11></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-150-12><a id=__codelineno-150-12 name=__codelineno-150-12 href=#__codelineno-150-12></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-150-13><a id=__codelineno-150-13 name=__codelineno-150-13 href=#__codelineno-150-13></a>    <span class=n>hline_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-150-14><a id=__codelineno-150-14 name=__codelineno-150-14 href=#__codelineno-150-14></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-150-15><a id=__codelineno-150-15 name=__codelineno-150-15 href=#__codelineno-150-15></a><span class=p>)</span>
</span></code></pre></div> <p>Plot net exposure for a specified column or group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column or group to plot.</dd> <dt><strong><code>net_exposure</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Net exposure data.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_net_exposure title=vectorbtpro.portfolio.base.Portfolio.get_net_exposure>Portfolio.get_net_exposure</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>line_shape</code></strong> :&ensp;<code>str</code></dt> <dd>Shape of the plot line (e.g. "hv").</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>hline_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for the horizontal line.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.plot_against title=vectorbtpro.generic.accessors.GenericSRAccessor.plot_against>GenericAccessor.plot_against</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure instance representing the net exposure plot.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_orders>plot_orders <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11155-L11221 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_orders title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-151-1><a id=__codelineno-151-1 name=__codelineno-151-1 href=#__codelineno-151-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_orders</span><span class=p>(</span>
</span><span id=__span-151-2><a id=__codelineno-151-2 name=__codelineno-151-2 href=#__codelineno-151-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-151-3><a id=__codelineno-151-3 name=__codelineno-151-3 href=#__codelineno-151-3></a>    <span class=n>orders</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-151-4><a id=__codelineno-151-4 name=__codelineno-151-4 href=#__codelineno-151-4></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-151-5><a id=__codelineno-151-5 name=__codelineno-151-5 href=#__codelineno-151-5></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-151-6><a id=__codelineno-151-6 name=__codelineno-151-6 href=#__codelineno-151-6></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-151-7><a id=__codelineno-151-7 name=__codelineno-151-7 href=#__codelineno-151-7></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-151-8><a id=__codelineno-151-8 name=__codelineno-151-8 href=#__codelineno-151-8></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-151-9><a id=__codelineno-151-9 name=__codelineno-151-9 href=#__codelineno-151-9></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-151-10><a id=__codelineno-151-10 name=__codelineno-151-10 href=#__codelineno-151-10></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-151-11><a id=__codelineno-151-11 name=__codelineno-151-11 href=#__codelineno-151-11></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-151-12><a id=__codelineno-151-12 name=__codelineno-151-12 href=#__codelineno-151-12></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column of orders.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>orders</code></strong> :&ensp;<code>Optional[Orders]</code></dt> <dd> <p>Instance containing order records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_orders title=vectorbtpro.portfolio.base.Portfolio.get_orders>Portfolio.get_orders</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/orders/#vectorbtpro.portfolio.orders.Orders.plot title=vectorbtpro.portfolio.orders.Orders.plot>Orders.plot</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Plotly figure with the orders plot.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_trade_pnl>plot_trade_pnl <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11290-L11357 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_trade_pnl title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-152-1><a id=__codelineno-152-1 name=__codelineno-152-1 href=#__codelineno-152-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_trade_pnl</span><span class=p>(</span>
</span><span id=__span-152-2><a id=__codelineno-152-2 name=__codelineno-152-2 href=#__codelineno-152-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-152-3><a id=__codelineno-152-3 name=__codelineno-152-3 href=#__codelineno-152-3></a>    <span class=n>trades</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-152-4><a id=__codelineno-152-4 name=__codelineno-152-4 href=#__codelineno-152-4></a>    <span class=n>trades_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-152-5><a id=__codelineno-152-5 name=__codelineno-152-5 href=#__codelineno-152-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-152-6><a id=__codelineno-152-6 name=__codelineno-152-6 href=#__codelineno-152-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-152-7><a id=__codelineno-152-7 name=__codelineno-152-7 href=#__codelineno-152-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-152-8><a id=__codelineno-152-8 name=__codelineno-152-8 href=#__codelineno-152-8></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-152-9><a id=__codelineno-152-9 name=__codelineno-152-9 href=#__codelineno-152-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-152-10><a id=__codelineno-152-10 name=__codelineno-152-10 href=#__codelineno-152-10></a>    <span class=n>pct_scale</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-152-11><a id=__codelineno-152-11 name=__codelineno-152-11 href=#__codelineno-152-11></a>    <span class=n>xref</span><span class=o>=</span><span class=s1>&#39;x&#39;</span><span class=p>,</span>
</span><span id=__span-152-12><a id=__codelineno-152-12 name=__codelineno-152-12 href=#__codelineno-152-12></a>    <span class=n>yref</span><span class=o>=</span><span class=s1>&#39;y&#39;</span><span class=p>,</span>
</span><span id=__span-152-13><a id=__codelineno-152-13 name=__codelineno-152-13 href=#__codelineno-152-13></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-152-14><a id=__codelineno-152-14 name=__codelineno-152-14 href=#__codelineno-152-14></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column of trade P&amp;L.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>trades</code></strong> :&ensp;<code>Optional[Drawdowns]</code></dt> <dd> <p>Instance containing trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_trades title=vectorbtpro.portfolio.base.Portfolio.get_trades>Portfolio.get_trades</a> if not provided.</p> </dd> <dt><strong><code>trades_type</code></strong> :&ensp;<code>Optional[Union[str, int]]</code></dt> <dd> <p>Type of trades to retrieve.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.TradesType title=vectorbtpro.portfolio.enums.TradesType>TradesType</a> if provided as a string.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.trades_type title=vectorbtpro.portfolio.base.Portfolio.trades_type>Portfolio.trades_type</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>pct_scale</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to display the y-axis on a percentage scale.</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>str</code></dt> <dd>Reference for the x-axis (e.g., "x", "x2").</dd> <dt><strong><code>yref</code></strong> :&ensp;<code>str</code></dt> <dd>Reference for the y-axis (e.g., "y", "y2").</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.Trades.plot_pnl title=vectorbtpro.portfolio.trades.Trades.plot_pnl>Trades.plot_pnl</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Plotly figure with the trade P&amp;L plot.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_trade_signals>plot_trade_signals <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11359-L11570 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_trade_signals title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-153-1><a id=__codelineno-153-1 name=__codelineno-153-1 href=#__codelineno-153-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_trade_signals</span><span class=p>(</span>
</span><span id=__span-153-2><a id=__codelineno-153-2 name=__codelineno-153-2 href=#__codelineno-153-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-3><a id=__codelineno-153-3 name=__codelineno-153-3 href=#__codelineno-153-3></a>    <span class=n>entry_trades</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-4><a id=__codelineno-153-4 name=__codelineno-153-4 href=#__codelineno-153-4></a>    <span class=n>exit_trades</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-5><a id=__codelineno-153-5 name=__codelineno-153-5 href=#__codelineno-153-5></a>    <span class=n>positions</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-6><a id=__codelineno-153-6 name=__codelineno-153-6 href=#__codelineno-153-6></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-7><a id=__codelineno-153-7 name=__codelineno-153-7 href=#__codelineno-153-7></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-8><a id=__codelineno-153-8 name=__codelineno-153-8 href=#__codelineno-153-8></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-153-9><a id=__codelineno-153-9 name=__codelineno-153-9 href=#__codelineno-153-9></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-153-10><a id=__codelineno-153-10 name=__codelineno-153-10 href=#__codelineno-153-10></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-11><a id=__codelineno-153-11 name=__codelineno-153-11 href=#__codelineno-153-11></a>    <span class=n>plot_positions</span><span class=o>=</span><span class=s1>&#39;zones&#39;</span><span class=p>,</span>
</span><span id=__span-153-12><a id=__codelineno-153-12 name=__codelineno-153-12 href=#__codelineno-153-12></a>    <span class=n>long_entry_trace_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-13><a id=__codelineno-153-13 name=__codelineno-153-13 href=#__codelineno-153-13></a>    <span class=n>short_entry_trace_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-14><a id=__codelineno-153-14 name=__codelineno-153-14 href=#__codelineno-153-14></a>    <span class=n>long_exit_trace_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-15><a id=__codelineno-153-15 name=__codelineno-153-15 href=#__codelineno-153-15></a>    <span class=n>short_exit_trace_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-16><a id=__codelineno-153-16 name=__codelineno-153-16 href=#__codelineno-153-16></a>    <span class=n>long_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-17><a id=__codelineno-153-17 name=__codelineno-153-17 href=#__codelineno-153-17></a>    <span class=n>short_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-18><a id=__codelineno-153-18 name=__codelineno-153-18 href=#__codelineno-153-18></a>    <span class=n>add_trace_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-19><a id=__codelineno-153-19 name=__codelineno-153-19 href=#__codelineno-153-19></a>    <span class=n>fig</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-20><a id=__codelineno-153-20 name=__codelineno-153-20 href=#__codelineno-153-20></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-21><a id=__codelineno-153-21 name=__codelineno-153-21 href=#__codelineno-153-21></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-153-22><a id=__codelineno-153-22 name=__codelineno-153-22 href=#__codelineno-153-22></a>    <span class=o>**</span><span class=n>layout_kwargs</span>
</span><span id=__span-153-23><a id=__codelineno-153-23 name=__codelineno-153-23 href=#__codelineno-153-23></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column or group of trade signals.</p> <p>Markers and shapes are colored by trade direction (green = long, red = short).</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>entry_trades</code></strong> :&ensp;<code>Optional[EntryTrades]</code></dt> <dd> <p>Instance containing entry trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_entry_trades title=vectorbtpro.portfolio.base.Portfolio.get_entry_trades>Portfolio.get_entry_trades</a> if not provided.</p> </dd> <dt><strong><code>exit_trades</code></strong> :&ensp;<code>Optional[ExitTrades]</code></dt> <dd> <p>Instance containing exit trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_exit_trades title=vectorbtpro.portfolio.base.Portfolio.get_exit_trades>Portfolio.get_exit_trades</a> if not provided.</p> </dd> <dt><strong><code>positions</code></strong> :&ensp;<code>Optional[Positions]</code></dt> <dd> <p>Instance containing position records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_positions title=vectorbtpro.portfolio.base.Portfolio.get_positions>Portfolio.get_positions</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>plot_positions</code></strong> :&ensp;<code>Union[bool, str]</code></dt> <dd> <p>Determines how to plot positions.</p> <p>Valid options:</p> <ul> <li>"zones" or True</li> <li>"lines"</li> </ul> </dd> <dt><strong><code>long_entry_trace_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>plotly.graph_objects.Scatter</code> for long entry markers.</dd> <dt><strong><code>short_entry_trace_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>plotly.graph_objects.Scatter</code> for short entry markers.</dd> <dt><strong><code>long_exit_trace_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>plotly.graph_objects.Scatter</code> for long exit markers.</dd> <dt><strong><code>short_exit_trace_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>plotly.graph_objects.Scatter</code> for short exit markers.</dd> <dt><strong><code>long_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for long position shapes.</dd> <dt><strong><code>short_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for short position shapes.</dd> <dt><strong><code>add_trace_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_trace</code> for each trace; for example, <code>dict(row=1, col=1)</code>.</dd> <dt><strong><code>fig</code></strong> :&ensp;<code>Optional[BaseFigure]</code></dt> <dd>Figure to update; if None, a new figure is created.</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>**layout_kwargs</code></strong></dt> <dd>Keyword arguments for <code>fig.update_layout</code>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure with plotted trade signals.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_trades>plot_trades <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11223-L11288 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_trades title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-154-1><a id=__codelineno-154-1 name=__codelineno-154-1 href=#__codelineno-154-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_trades</span><span class=p>(</span>
</span><span id=__span-154-2><a id=__codelineno-154-2 name=__codelineno-154-2 href=#__codelineno-154-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-154-3><a id=__codelineno-154-3 name=__codelineno-154-3 href=#__codelineno-154-3></a>    <span class=n>trades</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-154-4><a id=__codelineno-154-4 name=__codelineno-154-4 href=#__codelineno-154-4></a>    <span class=n>trades_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-154-5><a id=__codelineno-154-5 name=__codelineno-154-5 href=#__codelineno-154-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-154-6><a id=__codelineno-154-6 name=__codelineno-154-6 href=#__codelineno-154-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-154-7><a id=__codelineno-154-7 name=__codelineno-154-7 href=#__codelineno-154-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-154-8><a id=__codelineno-154-8 name=__codelineno-154-8 href=#__codelineno-154-8></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-154-9><a id=__codelineno-154-9 name=__codelineno-154-9 href=#__codelineno-154-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-154-10><a id=__codelineno-154-10 name=__codelineno-154-10 href=#__codelineno-154-10></a>    <span class=n>xref</span><span class=o>=</span><span class=s1>&#39;x&#39;</span><span class=p>,</span>
</span><span id=__span-154-11><a id=__codelineno-154-11 name=__codelineno-154-11 href=#__codelineno-154-11></a>    <span class=n>yref</span><span class=o>=</span><span class=s1>&#39;y&#39;</span><span class=p>,</span>
</span><span id=__span-154-12><a id=__codelineno-154-12 name=__codelineno-154-12 href=#__codelineno-154-12></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-154-13><a id=__codelineno-154-13 name=__codelineno-154-13 href=#__codelineno-154-13></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column of trades.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column to plot.</dd> <dt><strong><code>trades</code></strong> :&ensp;<code>Optional[Drawdowns]</code></dt> <dd> <p>Instance containing trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_trades title=vectorbtpro.portfolio.base.Portfolio.get_trades>Portfolio.get_trades</a> if not provided.</p> </dd> <dt><strong><code>trades_type</code></strong> :&ensp;<code>Optional[Union[str, int]]</code></dt> <dd> <p>Type of trades to retrieve.</p> <p>Mapped using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.TradesType title=vectorbtpro.portfolio.enums.TradesType>TradesType</a> if provided as a string.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.trades_type title=vectorbtpro.portfolio.base.Portfolio.trades_type>Portfolio.trades_type</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>xref</code></strong> :&ensp;<code>str</code></dt> <dd>Reference for the x-axis (e.g., "x", "x2").</dd> <dt><strong><code>yref</code></strong> :&ensp;<code>str</code></dt> <dd>Reference for the y-axis (e.g., "y", "y2").</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.Trades.plot title=vectorbtpro.portfolio.trades.Trades.plot>Trades.plot</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Plotly figure with the trades plot.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_underwater>plot_underwater <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L12542-L12678 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_underwater title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-155-1><a id=__codelineno-155-1 name=__codelineno-155-1 href=#__codelineno-155-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_underwater</span><span class=p>(</span>
</span><span id=__span-155-2><a id=__codelineno-155-2 name=__codelineno-155-2 href=#__codelineno-155-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-155-3><a id=__codelineno-155-3 name=__codelineno-155-3 href=#__codelineno-155-3></a>    <span class=n>init_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-155-4><a id=__codelineno-155-4 name=__codelineno-155-4 href=#__codelineno-155-4></a>    <span class=n>returns_acc</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-155-5><a id=__codelineno-155-5 name=__codelineno-155-5 href=#__codelineno-155-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-155-6><a id=__codelineno-155-6 name=__codelineno-155-6 href=#__codelineno-155-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-155-7><a id=__codelineno-155-7 name=__codelineno-155-7 href=#__codelineno-155-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-155-8><a id=__codelineno-155-8 name=__codelineno-155-8 href=#__codelineno-155-8></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-155-9><a id=__codelineno-155-9 name=__codelineno-155-9 href=#__codelineno-155-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-155-10><a id=__codelineno-155-10 name=__codelineno-155-10 href=#__codelineno-155-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-155-11><a id=__codelineno-155-11 name=__codelineno-155-11 href=#__codelineno-155-11></a>    <span class=n>pct_scale</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-155-12><a id=__codelineno-155-12 name=__codelineno-155-12 href=#__codelineno-155-12></a>    <span class=n>xref</span><span class=o>=</span><span class=s1>&#39;x&#39;</span><span class=p>,</span>
</span><span id=__span-155-13><a id=__codelineno-155-13 name=__codelineno-155-13 href=#__codelineno-155-13></a>    <span class=n>yref</span><span class=o>=</span><span class=s1>&#39;y&#39;</span><span class=p>,</span>
</span><span id=__span-155-14><a id=__codelineno-155-14 name=__codelineno-155-14 href=#__codelineno-155-14></a>    <span class=n>hline_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-155-15><a id=__codelineno-155-15 name=__codelineno-155-15 href=#__codelineno-155-15></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-155-16><a id=__codelineno-155-16 name=__codelineno-155-16 href=#__codelineno-155-16></a><span class=p>)</span>
</span></code></pre></div> <p>Plot underwater for a specified column or group.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column or group to plot.</dd> <dt><strong><code>init_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_value title=vectorbtpro.portfolio.base.Portfolio.get_init_value>Portfolio.get_init_value</a> if not provided.</p> </dd> <dt><strong><code>returns_acc</code></strong> :&ensp;<code>Optional[ReturnsAccessor]</code></dt> <dd> <p>Returns accessor instance to compute drawdowns.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns_acc title=vectorbtpro.portfolio.base.Portfolio.get_returns_acc>Portfolio.get_returns_acc</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>pct_scale</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to display the y-axis on a percentage scale.</dd> <dt><strong><code>xref</code></strong> :&ensp;<code>str</code></dt> <dd>Reference for the x-axis (e.g., "x", "x2").</dd> <dt><strong><code>yref</code></strong> :&ensp;<code>str</code></dt> <dd>Reference for the y-axis (e.g., "y", "y2").</dd> <dt><strong><code>hline_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for the horizontal line.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.plot title=vectorbtpro.generic.accessors.GenericAccessor.plot>GenericAccessor.plot</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure object containing the underwater plot.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plot_value>plot_value <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L12227-L12364 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plot_value title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-156-1><a id=__codelineno-156-1 name=__codelineno-156-1 href=#__codelineno-156-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>plot_value</span><span class=p>(</span>
</span><span id=__span-156-2><a id=__codelineno-156-2 name=__codelineno-156-2 href=#__codelineno-156-2></a>    <span class=n>column</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-3><a id=__codelineno-156-3 name=__codelineno-156-3 href=#__codelineno-156-3></a>    <span class=n>init_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-4><a id=__codelineno-156-4 name=__codelineno-156-4 href=#__codelineno-156-4></a>    <span class=n>value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-5><a id=__codelineno-156-5 name=__codelineno-156-5 href=#__codelineno-156-5></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-6><a id=__codelineno-156-6 name=__codelineno-156-6 href=#__codelineno-156-6></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-7><a id=__codelineno-156-7 name=__codelineno-156-7 href=#__codelineno-156-7></a>    <span class=n>rec_sim_range</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-156-8><a id=__codelineno-156-8 name=__codelineno-156-8 href=#__codelineno-156-8></a>    <span class=n>fit_sim_range</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-156-9><a id=__codelineno-156-9 name=__codelineno-156-9 href=#__codelineno-156-9></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-10><a id=__codelineno-156-10 name=__codelineno-156-10 href=#__codelineno-156-10></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-11><a id=__codelineno-156-11 name=__codelineno-156-11 href=#__codelineno-156-11></a>    <span class=n>xref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-12><a id=__codelineno-156-12 name=__codelineno-156-12 href=#__codelineno-156-12></a>    <span class=n>yref</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-13><a id=__codelineno-156-13 name=__codelineno-156-13 href=#__codelineno-156-13></a>    <span class=n>hline_shape_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-156-14><a id=__codelineno-156-14 name=__codelineno-156-14 href=#__codelineno-156-14></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-156-15><a id=__codelineno-156-15 name=__codelineno-156-15 href=#__codelineno-156-15></a><span class=p>)</span>
</span></code></pre></div> <p>Plot one column or group of value.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>column</code></strong> :&ensp;<code>Optional[Column]</code></dt> <dd>Identifier of the column or group to plot.</dd> <dt><strong><code>init_value</code></strong> :&ensp;<code>Optional[MaybeSeries]</code></dt> <dd> <p>Initial portfolio value.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_init_value title=vectorbtpro.portfolio.base.Portfolio.get_init_value>Portfolio.get_init_value</a> if not provided.</p> </dd> <dt><strong><code>value</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Portfolio value series.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_value title=vectorbtpro.portfolio.base.Portfolio.get_value>Portfolio.get_value</a> if not provided.</p> </dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>Start index of the simulation range.</dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd>End index of the simulation range.</dd> <dt><strong><code>rec_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to apply the simulation range recursively.</dd> <dt><strong><code>fit_sim_range</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to fit the figure to the simulation range.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>xref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the x-axis (e.g., "x", "x2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>yref</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Reference for the y-axis (e.g., "y", "y2").</p> <p>If None, it is inferred from the figure.</p> </dd> <dt><strong><code>hline_shape_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments for <code>fig.add_shape</code> for the horizontal line.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.plot_against title=vectorbtpro.generic.accessors.GenericSRAccessor.plot_against>GenericAccessor.plot_against</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>BaseFigure</code></dt> <dd>Figure displaying the plotted value.</dd> </dl> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For default settings, see <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.plotting title=vectorbtpro._settings.plotting>plotting</a>.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.plots_defaults>plots_defaults <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L13033-L13051 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.plots_defaults title="Permanent link">&para;</a></h3> <p>Default configuration for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.PlotsBuilderMixin.plots title=vectorbtpro.portfolio.base.Portfolio.plots>PlotsBuilderMixin.plots</a>.</p> <p>Merges the defaults from <a href=https://vectorbt.pro/pvt_41531c19/api/generic/plots_builder/#vectorbtpro.generic.plots_builder.PlotsBuilderMixin.plots_defaults title=vectorbtpro.generic.plots_builder.PlotsBuilderMixin.plots_defaults>PlotsBuilderMixin.plots_defaults</a> with the <code>plots</code> configuration from <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.portfolio title=vectorbtpro._settings.portfolio>portfolio</a>.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Kwargs</code></dt> <dd>Dictionary containing the default configuration for the plots builder.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.position>position <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.position title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_assets title=vectorbtpro.portfolio.base.Portfolio.get_assets>Portfolio.get_assets</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.position_coverage>position_coverage <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.position_coverage title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_position_coverage title=vectorbtpro.portfolio.base.Portfolio.get_position_coverage>Portfolio.get_position_coverage</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.position_entry_price>position_entry_price <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.position_entry_price title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_position_entry_price title=vectorbtpro.portfolio.base.Portfolio.get_position_entry_price>Portfolio.get_position_entry_price</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.position_exit_price>position_exit_price <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.position_exit_price title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_position_exit_price title=vectorbtpro.portfolio.base.Portfolio.get_position_exit_price>Portfolio.get_position_exit_price</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.position_mask>position_mask <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.position_mask title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_position_mask title=vectorbtpro.portfolio.base.Portfolio.get_position_mask>Portfolio.get_position_mask</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.positions>positions <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.positions title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_positions title=vectorbtpro.portfolio.base.Portfolio.get_positions>Portfolio.get_positions</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.positions_cls>positions_cls <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5744-L5755 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.positions_cls title="Permanent link">&para;</a></h3> <p>Position records wrapper class.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Type</code></dt> <dd> <p>Class used to represent position records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.Positions title=vectorbtpro.portfolio.trades.Positions>Positions</a> if not explicitly configured.</p> </dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.post_resolve_attr>post_resolve_attr <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10764-L10782 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.post_resolve_attr title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-157-1><a id=__codelineno-157-1 name=__codelineno-157-1 href=#__codelineno-157-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>post_resolve_attr</span><span class=p>(</span>
</span><span id=__span-157-2><a id=__codelineno-157-2 name=__codelineno-157-2 href=#__codelineno-157-2></a>    <span class=n>attr</span><span class=p>,</span>
</span><span id=__span-157-3><a id=__codelineno-157-3 name=__codelineno-157-3 href=#__codelineno-157-3></a>    <span class=n>out</span><span class=p>,</span>
</span><span id=__span-157-4><a id=__codelineno-157-4 name=__codelineno-157-4 href=#__codelineno-157-4></a>    <span class=n>final_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-157-5><a id=__codelineno-157-5 name=__codelineno-157-5 href=#__codelineno-157-5></a><span class=p>)</span>
</span></code></pre></div> <p>Post-process a resolved attribute value.</p> <p>If <code>final_kwargs</code> contains the key <code>incl_open</code> set to False and <code>out</code> is an instance of <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.Trades title=vectorbtpro.portfolio.trades.Trades>Trades</a>, only closed trades are returned.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>attr</code></strong> :&ensp;<code>str</code></dt> <dd>Attribute name being processed.</dd> <dt><strong><code>out</code></strong> :&ensp;<code>Any</code></dt> <dd>Resolved attribute value.</dd> <dt><strong><code>final_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments that may include <code>incl_open</code> to control the inclusion of open trades.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>str</code></dt> <dd>Post-processed attribute value.</dd> </dl> <p><strong>Overridden methods</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/attr_/#vectorbtpro.utils.attr_.AttrResolverMixin.post_resolve_attr title=vectorbtpro.utils.attr_.AttrResolverMixin.post_resolve_attr>AttrResolverMixin.post_resolve_attr</a></li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.pre_resolve_attr>pre_resolve_attr <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10733-L10762 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.pre_resolve_attr title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-158-1><a id=__codelineno-158-1 name=__codelineno-158-1 href=#__codelineno-158-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>pre_resolve_attr</span><span class=p>(</span>
</span><span id=__span-158-2><a id=__codelineno-158-2 name=__codelineno-158-2 href=#__codelineno-158-2></a>    <span class=n>attr</span><span class=p>,</span>
</span><span id=__span-158-3><a id=__codelineno-158-3 name=__codelineno-158-3 href=#__codelineno-158-3></a>    <span class=n>final_kwargs</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-158-4><a id=__codelineno-158-4 name=__codelineno-158-4 href=#__codelineno-158-4></a><span class=p>)</span>
</span></code></pre></div> <p>Pre-process an attribute before resolution.</p> <p>Apply modifications based on the provided keyword arguments. Specifically, if <code>use_asset_returns</code> is set in <code>final_kwargs</code> and the attribute is "returns", it is changed to "asset_returns". Similarly, if <code>trades_type</code> is provided, the attribute may be modified to "entry_trades", "exit_trades", or "positions" based on the trade type.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>attr</code></strong> :&ensp;<code>str</code></dt> <dd>Attribute name to be processed.</dd> <dt><strong><code>final_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd>Keyword arguments that may influence attribute resolution.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>str</code></dt> <dd>Pre-processed attribute name.</dd> </dl> <p><strong>Overridden methods</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/attr_/#vectorbtpro.utils.attr_.AttrResolverMixin.pre_resolve_attr title=vectorbtpro.utils.attr_.AttrResolverMixin.pre_resolve_attr>AttrResolverMixin.pre_resolve_attr</a></li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.prob_sharpe_ratio>prob_sharpe_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.prob_sharpe_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_prob_sharpe_ratio title=vectorbtpro.portfolio.base.Portfolio.get_prob_sharpe_ratio>Portfolio.get_prob_sharpe_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.qs>qs <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10718-L10725 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.qs title="Permanent link">&para;</a></h3> <p>Quantstats adapter computed by <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_qs title=vectorbtpro.portfolio.base.Portfolio.get_qs>Portfolio.get_qs</a> with default arguments.</p> <p><strong>Returns</strong></p> <dl> <dt><code>QSAdapter</code></dt> <dd>Instance of <a href=https://vectorbt.pro/pvt_41531c19/api/returns/qs_adapter/#vectorbtpro.returns.qs_adapter.QSAdapter title=vectorbtpro.returns.qs_adapter.QSAdapter>QSAdapter</a>.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.resample>resample <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L2562-L2678 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.resample title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-159-1><a id=__codelineno-159-1 name=__codelineno-159-1 href=#__codelineno-159-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span>
</span><span id=__span-159-2><a id=__codelineno-159-2 name=__codelineno-159-2 href=#__codelineno-159-2></a>    <span class=o>*</span><span class=n>args</span><span class=p>,</span>
</span><span id=__span-159-3><a id=__codelineno-159-3 name=__codelineno-159-3 href=#__codelineno-159-3></a>    <span class=n>ffill_close</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-159-4><a id=__codelineno-159-4 name=__codelineno-159-4 href=#__codelineno-159-4></a>    <span class=n>fbfill_close</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-159-5><a id=__codelineno-159-5 name=__codelineno-159-5 href=#__codelineno-159-5></a>    <span class=n>in_output_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-159-6><a id=__codelineno-159-6 name=__codelineno-159-6 href=#__codelineno-159-6></a>    <span class=n>wrapper_meta</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-159-7><a id=__codelineno-159-7 name=__codelineno-159-7 href=#__codelineno-159-7></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-159-8><a id=__codelineno-159-8 name=__codelineno-159-8 href=#__codelineno-159-8></a><span class=p>)</span>
</span></code></pre></div> <p>Resample the <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instance.</p> <p>Resamples various portfolio components including price series, order and log records, cash deposits, cash earnings, benchmark data, and in-place outputs. Downsampling is performed using methods provided by the portfolio's wrapper, with optional forward-fill or backward-fill applied to the close prices.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>*args</code></strong></dt> <dd>Positional arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.resample_meta title=vectorbtpro.base.wrapping.ArrayWrapper.resample_meta>ArrayWrapper.resample_meta</a>.</dd> <dt><strong><code>ffill_close</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, forward-fill missing values in the close prices.</dd> <dt><strong><code>fbfill_close</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, forward and backward-fill missing values in the close prices.</dd> <dt><strong><code>in_output_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for resampling in-place outputs.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.resample_in_outputs title=vectorbtpro.portfolio.base.Portfolio.resample_in_outputs>Portfolio.resample_in_outputs</a>.</p> </dd> <dt><strong><code>wrapper_meta</code></strong> :&ensp;<code>DictLike</code></dt> <dd>Metadata from the resampling operation on the wrapper.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.resample_meta title=vectorbtpro.base.wrapping.ArrayWrapper.resample_meta>ArrayWrapper.resample_meta</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a></dt> <dd>New resampled <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instance.</dd> </dl> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Downsampling is associated with information loss:</p> <ul> <li>Cash deposits and earnings are assumed to be added/removed at the beginning of each bar. Imagine depositing $100 and using them up in the same bar, and then depositing another $100 and using them up. Downsampling both bars into a single bar will aggregate cash deposits and earnings, and assign both to the beginning of the new bar, even though the second deposit was made later.</li> <li>Market/benchmark returns are computed by applying the initial close price of the first bar and tracking the price change to simulate holding. Moving the close price of the first bar further into the future will affect this computation and likely produce different market values and returns. To mitigate this, ensure that the downsampled index's first bar contains only the first bar from the original timeframe.</li> </ul> </div> <p><strong>Overridden methods</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.resample title=vectorbtpro.base.wrapping.Wrapping.resample>Wrapping.resample</a></li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.resample_in_outputs>resample_in_outputs <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L2504-L2560 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.resample_in_outputs title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-160-1><a id=__codelineno-160-1 name=__codelineno-160-1 href=#__codelineno-160-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>resample_in_outputs</span><span class=p>(</span>
</span><span id=__span-160-2><a id=__codelineno-160-2 name=__codelineno-160-2 href=#__codelineno-160-2></a>    <span class=n>resampler</span><span class=p>,</span>
</span><span id=__span-160-3><a id=__codelineno-160-3 name=__codelineno-160-3 href=#__codelineno-160-3></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-160-4><a id=__codelineno-160-4 name=__codelineno-160-4 href=#__codelineno-160-4></a><span class=p>)</span>
</span></code></pre></div> <p>Resample <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> using the provided resampler.</p> <p>For each field in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a>, this method merges options obtained from <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.parse_field_options title=vectorbtpro.portfolio.base.Portfolio.parse_field_options>Portfolio.parse_field_options</a> with those from <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_output_config title=vectorbtpro.portfolio.base.Portfolio.in_output_config>Portfolio.in_output_config</a> and then applies the resampling function via <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.resample_obj title=vectorbtpro.portfolio.base.Portfolio.resample_obj>Portfolio.resample_obj</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>resampler</code></strong> :&ensp;<code>Union[Resampler, PandasResampler]</code></dt> <dd><a href=https://vectorbt.pro/pvt_41531c19/api/base/resampling/base/#vectorbtpro.base.resampling.base.Resampler title=vectorbtpro.base.resampling.base.Resampler>Resampler</a> instance or a Pandas resampler.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.resample_obj title=vectorbtpro.portfolio.base.Portfolio.resample_obj>Portfolio.resample_obj</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[NamedTuple]</code></dt> <dd>Resampled in-place outputs object created from the existing outputs, or None if <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> is not set.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.resample_obj>resample_obj <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L2415-L2502 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.resample_obj title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-161-1><a id=__codelineno-161-1 name=__codelineno-161-1 href=#__codelineno-161-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>resample_obj</span><span class=p>(</span>
</span><span id=__span-161-2><a id=__codelineno-161-2 name=__codelineno-161-2 href=#__codelineno-161-2></a>    <span class=n>obj</span><span class=p>,</span>
</span><span id=__span-161-3><a id=__codelineno-161-3 name=__codelineno-161-3 href=#__codelineno-161-3></a>    <span class=n>resampler</span><span class=p>,</span>
</span><span id=__span-161-4><a id=__codelineno-161-4 name=__codelineno-161-4 href=#__codelineno-161-4></a>    <span class=n>obj_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-161-5><a id=__codelineno-161-5 name=__codelineno-161-5 href=#__codelineno-161-5></a>    <span class=n>obj_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-161-6><a id=__codelineno-161-6 name=__codelineno-161-6 href=#__codelineno-161-6></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-161-7><a id=__codelineno-161-7 name=__codelineno-161-7 href=#__codelineno-161-7></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-161-8><a id=__codelineno-161-8 name=__codelineno-161-8 href=#__codelineno-161-8></a>    <span class=n>resample_func</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-161-9><a id=__codelineno-161-9 name=__codelineno-161-9 href=#__codelineno-161-9></a>    <span class=n>resample_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-161-10><a id=__codelineno-161-10 name=__codelineno-161-10 href=#__codelineno-161-10></a>    <span class=n>force_resampling</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-161-11><a id=__codelineno-161-11 name=__codelineno-161-11 href=#__codelineno-161-11></a>    <span class=n>silence_warnings</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-161-12><a id=__codelineno-161-12 name=__codelineno-161-12 href=#__codelineno-161-12></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-161-13><a id=__codelineno-161-13 name=__codelineno-161-13 href=#__codelineno-161-13></a><span class=p>)</span>
</span></code></pre></div> <p>Resample an object.</p> <p>This function resamples the given object using the specified resampler and resampling function. If <code>resample_func</code> is a string, it is used as <code>reduce_func_nb</code> in <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.resample_apply title=vectorbtpro.generic.accessors.GenericAccessor.resample_apply>GenericAccessor.resample_apply</a> (default is "last"). If the object is None, a boolean, or an empty array, it is returned unchanged.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>obj</code></strong> :&ensp;<code>Any</code></dt> <dd>Object to be resampled.</dd> <dt><strong><code>resampler</code></strong> :&ensp;<code>Union[Resampler, PandasResampler]</code></dt> <dd><a href=https://vectorbt.pro/pvt_41531c19/api/base/resampling/base/#vectorbtpro.base.resampling.base.Resampler title=vectorbtpro.base.resampling.base.Resampler>Resampler</a> instance or a Pandas resampler.</dd> <dt><strong><code>obj_name</code></strong> :&ensp;<code>str</code></dt> <dd>Name of the object for reference.</dd> <dt><strong><code>obj_type</code></strong> :&ensp;<code>str</code></dt> <dd>Identifier specifying the type of the object.</dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>ArrayWrapper</code></dt> <dd> <p>Array wrapper instance.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper title=vectorbtpro.base.wrapping.ArrayWrapper>ArrayWrapper</a>.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>resample_func</code></strong> :&ensp;<code>Union[None, str, Callable]</code></dt> <dd>Function or name used for resampling.</dd> <dt><strong><code>resample_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for the resampling function.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/generic/accessors/#vectorbtpro.generic.accessors.GenericAccessor.resample_apply title=vectorbtpro.generic.accessors.GenericAccessor.resample_apply>GenericAccessor.resample_apply</a>.</p> </dd> <dt><strong><code>force_resampling</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to force resampling if conditions are met.</dd> <dt><strong><code>silence_warnings</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to suppress warning messages.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <code>resample_func</code>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Any</code></dt> <dd>Resampled object.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.resolve_shortcut_attr>resolve_shortcut_attr <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10784-L10850 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.resolve_shortcut_attr title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-162-1><a id=__codelineno-162-1 name=__codelineno-162-1 href=#__codelineno-162-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>resolve_shortcut_attr</span><span class=p>(</span>
</span><span id=__span-162-2><a id=__codelineno-162-2 name=__codelineno-162-2 href=#__codelineno-162-2></a>    <span class=n>attr_name</span><span class=p>,</span>
</span><span id=__span-162-3><a id=__codelineno-162-3 name=__codelineno-162-3 href=#__codelineno-162-3></a>    <span class=o>*</span><span class=n>args</span><span class=p>,</span>
</span><span id=__span-162-4><a id=__codelineno-162-4 name=__codelineno-162-4 href=#__codelineno-162-4></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-162-5><a id=__codelineno-162-5 name=__codelineno-162-5 href=#__codelineno-162-5></a><span class=p>)</span>
</span></code></pre></div> <p>Resolve an attribute, utilizing shortcut properties if available.</p> <p>Checks if the given attribute name or its shortcut variant (prefixed with <code>get_</code>) can be accessed directly as a property or needs to be called as a function. When no positional arguments are provided, additional keyword arguments such as <code>free</code>, <code>direction</code>, and <code>group_by</code> may influence the resolution by selecting an alternative cached property.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>attr_name</code></strong> :&ensp;<code>str</code></dt> <dd>Name of the attribute to resolve.</dd> <dt><strong><code>*args</code></strong></dt> <dd>Positional arguments for the attribute.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for the attribute.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Any</code></dt> <dd>Resolved attribute value.</dd> </dl> <p><strong>Overridden methods</strong></p> <ul> <li><a href=https://vectorbt.pro/pvt_41531c19/api/utils/attr_/#vectorbtpro.utils.attr_.AttrResolverMixin.resolve_shortcut_attr title=vectorbtpro.utils.attr_.AttrResolverMixin.resolve_shortcut_attr>AttrResolverMixin.resolve_shortcut_attr</a></li> </ul> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.returns>returns <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.returns title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns title=vectorbtpro.portfolio.base.Portfolio.get_returns>Portfolio.get_returns</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.returns_acc>returns_acc <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10619-L10626 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.returns_acc title="Permanent link">&para;</a></h3> <p>Returns accessor computed by <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns_acc title=vectorbtpro.portfolio.base.Portfolio.get_returns_acc>Portfolio.get_returns_acc</a> with default arguments.</p> <p><strong>Returns</strong></p> <dl> <dt><code>ReturnsAccessor</code></dt> <dd>Instance of <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor title=vectorbtpro.returns.accessors.ReturnsAccessor>ReturnsAccessor</a>.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.returns_acc_defaults>returns_acc_defaults <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5661-L5668 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.returns_acc_defaults title="Permanent link">&para;</a></h3> <p>Defaults for <a href=https://vectorbt.pro/pvt_41531c19/api/returns/accessors/#vectorbtpro.returns.accessors.ReturnsAccessor title=vectorbtpro.returns.accessors.ReturnsAccessor>ReturnsAccessor</a>.</p> <p><strong>Returns</strong></p> <dl> <dt><code>KwargsLike</code></dt> <dd>Dictionary of default parameters to configure the returns accessor.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.returns_stats>returns_stats <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L11064-L11151 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.returns_stats title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-163-1><a id=__codelineno-163-1 name=__codelineno-163-1 href=#__codelineno-163-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>returns_stats</span><span class=p>(</span>
</span><span id=__span-163-2><a id=__codelineno-163-2 name=__codelineno-163-2 href=#__codelineno-163-2></a>    <span class=n>returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-3><a id=__codelineno-163-3 name=__codelineno-163-3 href=#__codelineno-163-3></a>    <span class=n>use_asset_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-163-4><a id=__codelineno-163-4 name=__codelineno-163-4 href=#__codelineno-163-4></a>    <span class=n>bm_returns</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-5><a id=__codelineno-163-5 name=__codelineno-163-5 href=#__codelineno-163-5></a>    <span class=n>log_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-163-6><a id=__codelineno-163-6 name=__codelineno-163-6 href=#__codelineno-163-6></a>    <span class=n>daily_returns</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-163-7><a id=__codelineno-163-7 name=__codelineno-163-7 href=#__codelineno-163-7></a>    <span class=n>sim_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-8><a id=__codelineno-163-8 name=__codelineno-163-8 href=#__codelineno-163-8></a>    <span class=n>sim_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-9><a id=__codelineno-163-9 name=__codelineno-163-9 href=#__codelineno-163-9></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-10><a id=__codelineno-163-10 name=__codelineno-163-10 href=#__codelineno-163-10></a>    <span class=n>year_freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-11><a id=__codelineno-163-11 name=__codelineno-163-11 href=#__codelineno-163-11></a>    <span class=n>defaults</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-12><a id=__codelineno-163-12 name=__codelineno-163-12 href=#__codelineno-163-12></a>    <span class=n>jitted</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-13><a id=__codelineno-163-13 name=__codelineno-163-13 href=#__codelineno-163-13></a>    <span class=n>chunked</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-14><a id=__codelineno-163-14 name=__codelineno-163-14 href=#__codelineno-163-14></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-15><a id=__codelineno-163-15 name=__codelineno-163-15 href=#__codelineno-163-15></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-163-16><a id=__codelineno-163-16 name=__codelineno-163-16 href=#__codelineno-163-16></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-163-17><a id=__codelineno-163-17 name=__codelineno-163-17 href=#__codelineno-163-17></a><span class=p>)</span>
</span></code></pre></div> <p>Compute various statistics on portfolio returns.</p> <p>This method computes a range of return statistics from the portfolio's returns, with additional keyword arguments forwarded to the corresponding stats method of the returns accessor.</p> <p>Based on <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns_acc title=vectorbtpro.portfolio.base.Portfolio.get_returns_acc>Portfolio.get_returns_acc</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>returns</code></strong> :&ensp;<code>Optional[SeriesFrame]</code></dt> <dd> <p>Return Series or DataFrame.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_returns title=vectorbtpro.portfolio.base.Portfolio.get_returns>Portfolio.get_returns</a> or <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_returns title=vectorbtpro.portfolio.base.Portfolio.get_asset_returns>Portfolio.get_asset_returns</a> if not provided.</p> </dd> <dt><strong><code>use_asset_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether to use asset returns instead of portfolio returns.</dd> <dt><strong><code>bm_returns</code></strong> :&ensp;<code>Union[None, bool, ArrayLike]</code></dt> <dd> <p>Benchmark returns or a flag to resolve benchmark returns.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_bm_returns title=vectorbtpro.portfolio.base.Portfolio.get_bm_returns>Portfolio.get_bm_returns</a> if not provided.</p> </dd> <dt><strong><code>log_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to compute logarithmic returns.</dd> <dt><strong><code>daily_returns</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to convert computed returns to daily returns.</dd> <dt><strong><code>sim_start</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>Start index of the simulation range.</p> <p>Passed inside <code>settings</code>.</p> </dd> <dt><strong><code>sim_end</code></strong> :&ensp;<code>Optional[ArrayLike]</code></dt> <dd> <p>End index of the simulation range.</p> <p>Passed inside <code>settings</code>.</p> </dd> <dt><strong><code>freq</code></strong> :&ensp;<code>Optional[FrequencyLike]</code></dt> <dd> <p>Frequency of the index (e.g., "daily", "15 min", "index_mean").</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.freq title=vectorbtpro.base.wrapping.ArrayWrapper.freq>ArrayWrapper.freq</a> if not provided. See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/datetime_/#vectorbtpro.utils.datetime_.infer_index_freq title=vectorbtpro.utils.datetime_.infer_index_freq>infer_index_freq</a>.</p> </dd> <dt><strong><code>year_freq</code></strong> :&ensp;<code>Optional[FrequencyLike]</code></dt> <dd> <p>Year frequency for annualization (e.g., "252 days", "auto").</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.year_freq title=vectorbtpro.portfolio.base.Portfolio.year_freq>Portfolio.year_freq</a> if not provided.</p> </dd> <dt><strong><code>defaults</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Dictionary of default parameters.</p> <p>Merges with <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.returns_acc_defaults title=vectorbtpro.portfolio.base.Portfolio.returns_acc_defaults>Portfolio.returns_acc_defaults</a>.</p> </dd> <dt><strong><code>jitted</code></strong> :&ensp;<code>JittedOption</code></dt> <dd> <p>Option to control JIT compilation.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/jitting/#vectorbtpro.utils.jitting.resolve_jitted_option title=vectorbtpro.utils.jitting.resolve_jitted_option>resolve_jitted_option</a>.</p> </dd> <dt><strong><code>chunked</code></strong> :&ensp;<code>ChunkedOption</code></dt> <dd> <p>Option to control chunked processing.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/utils/chunking/#vectorbtpro.utils.chunking.resolve_chunked_option title=vectorbtpro.utils.chunking.resolve_chunked_option>resolve_chunked_option</a>.</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.StatsBuilderMixin.stats title=vectorbtpro.returns.accessors.ReturnsAccessor.stats>StatsBuilderMixin.stats</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>SeriesFrame</code></dt> <dd>DataFrame or Series containing the computed return statistics.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.row_stack>row_stack <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L917-L1184 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.row_stack title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-164-1><a id=__codelineno-164-1 name=__codelineno-164-1 href=#__codelineno-164-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>row_stack</span><span class=p>(</span>
</span><span id=__span-164-2><a id=__codelineno-164-2 name=__codelineno-164-2 href=#__codelineno-164-2></a>    <span class=o>*</span><span class=n>objs</span><span class=p>,</span>
</span><span id=__span-164-3><a id=__codelineno-164-3 name=__codelineno-164-3 href=#__codelineno-164-3></a>    <span class=n>wrapper_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-164-4><a id=__codelineno-164-4 name=__codelineno-164-4 href=#__codelineno-164-4></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-164-5><a id=__codelineno-164-5 name=__codelineno-164-5 href=#__codelineno-164-5></a>    <span class=n>combine_init_cash</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-164-6><a id=__codelineno-164-6 name=__codelineno-164-6 href=#__codelineno-164-6></a>    <span class=n>combine_init_position</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-164-7><a id=__codelineno-164-7 name=__codelineno-164-7 href=#__codelineno-164-7></a>    <span class=n>combine_init_price</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-164-8><a id=__codelineno-164-8 name=__codelineno-164-8 href=#__codelineno-164-8></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-164-9><a id=__codelineno-164-9 name=__codelineno-164-9 href=#__codelineno-164-9></a><span class=p>)</span>
</span></code></pre></div> <p>Stack multiple <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instances along rows.</p> <p>Stacks multiple <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instances by merging their underlying data arrays along rows. This method leverages <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.row_stack title=vectorbtpro.base.wrapping.ArrayWrapper.row_stack>ArrayWrapper.row_stack</a> to combine wrappers and applies specialized stacking functions for two-dimensional arrays such as close prices, benchmark close, cash deposits, cash earnings, and call sequences. Records are merged using <a href=https://vectorbt.pro/pvt_41531c19/api/records/base/#vectorbtpro.records.base.Records.row_stack_records_arrs title=vectorbtpro.records.base.Records.row_stack_records_arrs>Records.row_stack_records_arrs</a>.</p> <p>If an object's initial cash is specified as one of the options in <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/enums/#vectorbtpro.portfolio.enums.InitCashMode title=vectorbtpro.portfolio.enums.InitCashMode>InitCashMode</a>, it is retained in the final portfolio. When an object defines its initial cash as an absolute amount or an array, the first object's value is used by default, and subsequent non-zero values are treated as cash deposits. Set <code>combine_init_cash</code> to True to sum all initial cash arrays.</p> <p>The initial position is copied from the first object if it is the only one with a positive value; otherwise, stacking is disallowed unless <code>combine_init_position</code> is True, which will sum the positions. For initial price, stacking occurs only if non-NaN values are found across objects; otherwise, the first object's initial price is used. When <code>combine_init_price</code> is enabled, a weighted average is computed based on the initial positions.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>*objs</code></strong> :&ensp;<code>MaybeSequence[Portfolio]</code></dt> <dd>(Additional) <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instances to stack.</dd> <dt><strong><code>wrapper_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for configuring the wrapper.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper title=vectorbtpro.base.wrapping.ArrayWrapper>ArrayWrapper</a>.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>combine_init_cash</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, sums all initial cash arrays instead of using the first object's value.</dd> <dt><strong><code>combine_init_position</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, sums initial position arrays when multiple objects have non-zero positions.</dd> <dt><strong><code>combine_init_price</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, combines initial price arrays using a weighted average when stacking.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> through <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.resolve_row_stack_kwargs title=vectorbtpro.portfolio.base.Portfolio.resolve_row_stack_kwargs>Wrapping.resolve_row_stack_kwargs</a> and <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.Wrapping.resolve_stack_kwargs title=vectorbtpro.portfolio.base.Portfolio.resolve_stack_kwargs>Wrapping.resolve_stack_kwargs</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a></dt> <dd>New <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instance resulting from stacking the input objects along rows.</dd> </dl> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When possible, avoid including initial position and price in portfolios to be stacked, as their stacking order might not correctly reflect the simulation chronology and could lead to inaccurate results.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.row_stack_in_outputs>row_stack_in_outputs <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L843-L915 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.row_stack_in_outputs title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-165-1><a id=__codelineno-165-1 name=__codelineno-165-1 href=#__codelineno-165-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>row_stack_in_outputs</span><span class=p>(</span>
</span><span id=__span-165-2><a id=__codelineno-165-2 name=__codelineno-165-2 href=#__codelineno-165-2></a>    <span class=o>*</span><span class=n>objs</span><span class=p>,</span>
</span><span id=__span-165-3><a id=__codelineno-165-3 name=__codelineno-165-3 href=#__codelineno-165-3></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-165-4><a id=__codelineno-165-4 name=__codelineno-165-4 href=#__codelineno-165-4></a><span class=p>)</span>
</span></code></pre></div> <p>Stack <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_outputs title=vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> fields along rows.</p> <p>This method stacks the <code>in_outputs</code> named tuples from multiple <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> instances row-wise. All <code>in_outputs</code> must either be None or contain identical fields. For each field, stacking options are determined by merging options from <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.parse_field_options title=vectorbtpro.portfolio.base.Portfolio.parse_field_options>Portfolio.parse_field_options</a> and <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.in_output_config title=vectorbtpro.portfolio.base.Portfolio.in_output_config>Portfolio.in_output_config</a>. The stacking is then performed on each field using <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.row_stack_objs title=vectorbtpro.portfolio.base.Portfolio.row_stack_objs>Portfolio.row_stack_objs</a>.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>*objs</code></strong> :&ensp;<code>MaybeSequence[Portfolio]</code></dt> <dd><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a> objects whose <code>in_outputs</code> attributes are to be stacked.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.row_stack_objs title=vectorbtpro.portfolio.base.Portfolio.row_stack_objs>Portfolio.row_stack_objs</a>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[NamedTuple]</code></dt> <dd>New named tuple with each field stacked row-wise, or None if all <code>in_outputs</code> are None.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.row_stack_objs>row_stack_objs <span class=dobjtype>class method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L752-L841 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.row_stack_objs title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-166-1><a id=__codelineno-166-1 name=__codelineno-166-1 href=#__codelineno-166-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>row_stack_objs</span><span class=p>(</span>
</span><span id=__span-166-2><a id=__codelineno-166-2 name=__codelineno-166-2 href=#__codelineno-166-2></a>    <span class=n>objs</span><span class=p>,</span>
</span><span id=__span-166-3><a id=__codelineno-166-3 name=__codelineno-166-3 href=#__codelineno-166-3></a>    <span class=n>wrappers</span><span class=p>,</span>
</span><span id=__span-166-4><a id=__codelineno-166-4 name=__codelineno-166-4 href=#__codelineno-166-4></a>    <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;columns_or_groups&#39;</span><span class=p>,</span>
</span><span id=__span-166-5><a id=__codelineno-166-5 name=__codelineno-166-5 href=#__codelineno-166-5></a>    <span class=n>obj_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-166-6><a id=__codelineno-166-6 name=__codelineno-166-6 href=#__codelineno-166-6></a>    <span class=n>obj_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-166-7><a id=__codelineno-166-7 name=__codelineno-166-7 href=#__codelineno-166-7></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-166-8><a id=__codelineno-166-8 name=__codelineno-166-8 href=#__codelineno-166-8></a>    <span class=n>cash_sharing</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-166-9><a id=__codelineno-166-9 name=__codelineno-166-9 href=#__codelineno-166-9></a>    <span class=n>row_stack_func</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-166-10><a id=__codelineno-166-10 name=__codelineno-166-10 href=#__codelineno-166-10></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-166-11><a id=__codelineno-166-11 name=__codelineno-166-11 href=#__codelineno-166-11></a><span class=p>)</span>
</span></code></pre></div> <p>Stack two-dimensional objects along rows.</p> <p>This method stacks objects row-wise using either a custom stacking function or an internal logic based on grouping and object type. If all objects are None, boolean, or empty arrays, the first object is returned.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>objs</code></strong> :&ensp;<code>Sequence[Any]</code></dt> <dd>Objects to be stacked.</dd> <dt><strong><code>wrappers</code></strong> :&ensp;<code>Sequence[ArrayWrapper]</code></dt> <dd>Wrappers corresponding to the objects.</dd> <dt><strong><code>grouping</code></strong> :&ensp;<code>str</code></dt> <dd> <p>Grouping strategy.</p> <p>Supported options include "columns_or_groups", "columns", "groups", and "cash_sharing".</p> </dd> <dt><strong><code>obj_name</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd>Name of the object.</dd> <dt><strong><code>obj_type</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Type of the object.</p> <p>Supported options include "records", "array", and "red_array".</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd>Array wrapper instance.</dd> <dt><strong><code>cash_sharing</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag indicating whether cash is shared among assets of the same group.</dd> <dt><strong><code>row_stack_func</code></strong> :&ensp;<code>Optional[Callable]</code></dt> <dd> <p>Custom function for row stacking that must accept the portfolio class and all provided arguments.</p> <p>If unused, it should accept additional arguments via <code>**kwargs</code>.</p> </dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <code>row_stack_func</code>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Any</code></dt> <dd>Stacked result, or the first object if all inputs are None, boolean, or empty.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.sharpe_ratio>sharpe_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.sharpe_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio title=vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio>Portfolio.get_sharpe_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.sharpe_ratio_std>sharpe_ratio_std <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.sharpe_ratio_std title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio_std title=vectorbtpro.portfolio.base.Portfolio.get_sharpe_ratio_std>Portfolio.get_sharpe_ratio_std</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.short_allocations>short_allocations <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.short_allocations title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_allocations title=vectorbtpro.portfolio.base.Portfolio.get_allocations>Portfolio.get_allocations</a> with arguments <code>{'direction': 'shortonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.short_asset_flow>short_asset_flow <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.short_asset_flow title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_flow title=vectorbtpro.portfolio.base.Portfolio.get_asset_flow>Portfolio.get_asset_flow</a> with arguments <code>{'direction': 'shortonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.short_asset_value>short_asset_value <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.short_asset_value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_asset_value title=vectorbtpro.portfolio.base.Portfolio.get_asset_value>Portfolio.get_asset_value</a> with arguments <code>{'direction': 'shortonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.short_assets>short_assets <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.short_assets title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_assets title=vectorbtpro.portfolio.base.Portfolio.get_assets>Portfolio.get_assets</a> with arguments <code>{'direction': 'shortonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.short_gross_exposure>short_gross_exposure <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.short_gross_exposure title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_gross_exposure title=vectorbtpro.portfolio.base.Portfolio.get_gross_exposure>Portfolio.get_gross_exposure</a> with arguments <code>{'direction': 'shortonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.short_position_coverage>short_position_coverage <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.short_position_coverage title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_position_coverage title=vectorbtpro.portfolio.base.Portfolio.get_position_coverage>Portfolio.get_position_coverage</a> with arguments <code>{'direction': 'shortonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.short_position_mask>short_position_mask <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.short_position_mask title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_position_mask title=vectorbtpro.portfolio.base.Portfolio.get_position_mask>Portfolio.get_position_mask</a> with arguments <code>{'direction': 'shortonly'}</code>.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.short_view>short_view <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.short_view title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_short_view title=vectorbtpro.portfolio.base.Portfolio.get_short_view>Portfolio.get_short_view</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.signals>signals <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.signals title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_signals title=vectorbtpro.portfolio.base.Portfolio.get_signals>Portfolio.get_signals</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.sortino_ratio>sortino_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.sortino_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_sortino_ratio title=vectorbtpro.portfolio.base.Portfolio.get_sortino_ratio>Portfolio.get_sortino_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.stats_defaults>stats_defaults <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L10854-L10872 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.stats_defaults title="Permanent link">&para;</a></h3> <p>Default configuration for <a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.StatsBuilderMixin.stats title=vectorbtpro.portfolio.base.Portfolio.stats>StatsBuilderMixin.stats</a>.</p> <p>Merges the defaults from <a href=https://vectorbt.pro/pvt_41531c19/api/generic/stats_builder/#vectorbtpro.generic.stats_builder.StatsBuilderMixin.stats_defaults title=vectorbtpro.generic.stats_builder.StatsBuilderMixin.stats_defaults>StatsBuilderMixin.stats_defaults</a> with the <code>stats</code> configuration from <a href=https://vectorbt.pro/pvt_41531c19/api/_settings/#vectorbtpro._settings.portfolio title=vectorbtpro._settings.portfolio>portfolio</a>.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Kwargs</code></dt> <dd>Dictionary containing the default configuration for the stats builder.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.subplots>subplots <span class=dobjtype>property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L13183-L13185 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.subplots title="Permanent link">&para;</a></h3> <p>Subplots configuration for <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-167-1><a id=__codelineno-167-1 name=__codelineno-167-1 href=#__codelineno-167-1></a><span class=n>HybridConfig</span><span class=p>(</span>
</span><span id=__span-167-2><a id=__codelineno-167-2 name=__codelineno-167-2 href=#__codelineno-167-2></a>    <span class=n>orders</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-3><a id=__codelineno-167-3 name=__codelineno-167-3 href=#__codelineno-167-3></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Orders&#39;</span><span class=p>,</span>
</span><span id=__span-167-4><a id=__codelineno-167-4 name=__codelineno-167-4 href=#__codelineno-167-4></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-5><a id=__codelineno-167-5 name=__codelineno-167-5 href=#__codelineno-167-5></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Price&#39;</span>
</span><span id=__span-167-6><a id=__codelineno-167-6 name=__codelineno-167-6 href=#__codelineno-167-6></a>        <span class=p>),</span>
</span><span id=__span-167-7><a id=__codelineno-167-7 name=__codelineno-167-7 href=#__codelineno-167-7></a>        <span class=n>check_is_not_grouped</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-8><a id=__codelineno-167-8 name=__codelineno-167-8 href=#__codelineno-167-8></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_orders&#39;</span><span class=p>,</span>
</span><span id=__span-167-9><a id=__codelineno-167-9 name=__codelineno-167-9 href=#__codelineno-167-9></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-10><a id=__codelineno-167-10 name=__codelineno-167-10 href=#__codelineno-167-10></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-11><a id=__codelineno-167-11 name=__codelineno-167-11 href=#__codelineno-167-11></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-12><a id=__codelineno-167-12 name=__codelineno-167-12 href=#__codelineno-167-12></a>            <span class=s1>&#39;orders&#39;</span>
</span><span id=__span-167-13><a id=__codelineno-167-13 name=__codelineno-167-13 href=#__codelineno-167-13></a>        <span class=p>]</span>
</span><span id=__span-167-14><a id=__codelineno-167-14 name=__codelineno-167-14 href=#__codelineno-167-14></a>    <span class=p>),</span>
</span><span id=__span-167-15><a id=__codelineno-167-15 name=__codelineno-167-15 href=#__codelineno-167-15></a>    <span class=n>trades</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-16><a id=__codelineno-167-16 name=__codelineno-167-16 href=#__codelineno-167-16></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Trades&#39;</span><span class=p>,</span>
</span><span id=__span-167-17><a id=__codelineno-167-17 name=__codelineno-167-17 href=#__codelineno-167-17></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-18><a id=__codelineno-167-18 name=__codelineno-167-18 href=#__codelineno-167-18></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Price&#39;</span>
</span><span id=__span-167-19><a id=__codelineno-167-19 name=__codelineno-167-19 href=#__codelineno-167-19></a>        <span class=p>),</span>
</span><span id=__span-167-20><a id=__codelineno-167-20 name=__codelineno-167-20 href=#__codelineno-167-20></a>        <span class=n>check_is_not_grouped</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-21><a id=__codelineno-167-21 name=__codelineno-167-21 href=#__codelineno-167-21></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_trades&#39;</span><span class=p>,</span>
</span><span id=__span-167-22><a id=__codelineno-167-22 name=__codelineno-167-22 href=#__codelineno-167-22></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-23><a id=__codelineno-167-23 name=__codelineno-167-23 href=#__codelineno-167-23></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-24><a id=__codelineno-167-24 name=__codelineno-167-24 href=#__codelineno-167-24></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-25><a id=__codelineno-167-25 name=__codelineno-167-25 href=#__codelineno-167-25></a>            <span class=s1>&#39;trades&#39;</span>
</span><span id=__span-167-26><a id=__codelineno-167-26 name=__codelineno-167-26 href=#__codelineno-167-26></a>        <span class=p>]</span>
</span><span id=__span-167-27><a id=__codelineno-167-27 name=__codelineno-167-27 href=#__codelineno-167-27></a>    <span class=p>),</span>
</span><span id=__span-167-28><a id=__codelineno-167-28 name=__codelineno-167-28 href=#__codelineno-167-28></a>    <span class=n>trade_pnl</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-29><a id=__codelineno-167-29 name=__codelineno-167-29 href=#__codelineno-167-29></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Trade PnL&#39;</span><span class=p>,</span>
</span><span id=__span-167-30><a id=__codelineno-167-30 name=__codelineno-167-30 href=#__codelineno-167-30></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-31><a id=__codelineno-167-31 name=__codelineno-167-31 href=#__codelineno-167-31></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;PnL&#39;</span>
</span><span id=__span-167-32><a id=__codelineno-167-32 name=__codelineno-167-32 href=#__codelineno-167-32></a>        <span class=p>),</span>
</span><span id=__span-167-33><a id=__codelineno-167-33 name=__codelineno-167-33 href=#__codelineno-167-33></a>        <span class=n>check_is_not_grouped</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-34><a id=__codelineno-167-34 name=__codelineno-167-34 href=#__codelineno-167-34></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_trade_pnl&#39;</span><span class=p>,</span>
</span><span id=__span-167-35><a id=__codelineno-167-35 name=__codelineno-167-35 href=#__codelineno-167-35></a>        <span class=n>pct_scale</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-36><a id=__codelineno-167-36 name=__codelineno-167-36 href=#__codelineno-167-36></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-37><a id=__codelineno-167-37 name=__codelineno-167-37 href=#__codelineno-167-37></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-38><a id=__codelineno-167-38 name=__codelineno-167-38 href=#__codelineno-167-38></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-39><a id=__codelineno-167-39 name=__codelineno-167-39 href=#__codelineno-167-39></a>            <span class=s1>&#39;trades&#39;</span>
</span><span id=__span-167-40><a id=__codelineno-167-40 name=__codelineno-167-40 href=#__codelineno-167-40></a>        <span class=p>]</span>
</span><span id=__span-167-41><a id=__codelineno-167-41 name=__codelineno-167-41 href=#__codelineno-167-41></a>    <span class=p>),</span>
</span><span id=__span-167-42><a id=__codelineno-167-42 name=__codelineno-167-42 href=#__codelineno-167-42></a>    <span class=n>trade_signals</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-43><a id=__codelineno-167-43 name=__codelineno-167-43 href=#__codelineno-167-43></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Trade Signals&#39;</span><span class=p>,</span>
</span><span id=__span-167-44><a id=__codelineno-167-44 name=__codelineno-167-44 href=#__codelineno-167-44></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-45><a id=__codelineno-167-45 name=__codelineno-167-45 href=#__codelineno-167-45></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Price&#39;</span>
</span><span id=__span-167-46><a id=__codelineno-167-46 name=__codelineno-167-46 href=#__codelineno-167-46></a>        <span class=p>),</span>
</span><span id=__span-167-47><a id=__codelineno-167-47 name=__codelineno-167-47 href=#__codelineno-167-47></a>        <span class=n>check_is_not_grouped</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-48><a id=__codelineno-167-48 name=__codelineno-167-48 href=#__codelineno-167-48></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_trade_signals&#39;</span><span class=p>,</span>
</span><span id=__span-167-49><a id=__codelineno-167-49 name=__codelineno-167-49 href=#__codelineno-167-49></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-50><a id=__codelineno-167-50 name=__codelineno-167-50 href=#__codelineno-167-50></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-51><a id=__codelineno-167-51 name=__codelineno-167-51 href=#__codelineno-167-51></a>            <span class=s1>&#39;trades&#39;</span>
</span><span id=__span-167-52><a id=__codelineno-167-52 name=__codelineno-167-52 href=#__codelineno-167-52></a>        <span class=p>]</span>
</span><span id=__span-167-53><a id=__codelineno-167-53 name=__codelineno-167-53 href=#__codelineno-167-53></a>    <span class=p>),</span>
</span><span id=__span-167-54><a id=__codelineno-167-54 name=__codelineno-167-54 href=#__codelineno-167-54></a>    <span class=n>cash_flow</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-55><a id=__codelineno-167-55 name=__codelineno-167-55 href=#__codelineno-167-55></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Cash Flow&#39;</span><span class=p>,</span>
</span><span id=__span-167-56><a id=__codelineno-167-56 name=__codelineno-167-56 href=#__codelineno-167-56></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-57><a id=__codelineno-167-57 name=__codelineno-167-57 href=#__codelineno-167-57></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Amount&#39;</span>
</span><span id=__span-167-58><a id=__codelineno-167-58 name=__codelineno-167-58 href=#__codelineno-167-58></a>        <span class=p>),</span>
</span><span id=__span-167-59><a id=__codelineno-167-59 name=__codelineno-167-59 href=#__codelineno-167-59></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_cash_flow&#39;</span><span class=p>,</span>
</span><span id=__span-167-60><a id=__codelineno-167-60 name=__codelineno-167-60 href=#__codelineno-167-60></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-61><a id=__codelineno-167-61 name=__codelineno-167-61 href=#__codelineno-167-61></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-62><a id=__codelineno-167-62 name=__codelineno-167-62 href=#__codelineno-167-62></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-63><a id=__codelineno-167-63 name=__codelineno-167-63 href=#__codelineno-167-63></a>            <span class=s1>&#39;cash&#39;</span>
</span><span id=__span-167-64><a id=__codelineno-167-64 name=__codelineno-167-64 href=#__codelineno-167-64></a>        <span class=p>]</span>
</span><span id=__span-167-65><a id=__codelineno-167-65 name=__codelineno-167-65 href=#__codelineno-167-65></a>    <span class=p>),</span>
</span><span id=__span-167-66><a id=__codelineno-167-66 name=__codelineno-167-66 href=#__codelineno-167-66></a>    <span class=n>cash</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-67><a id=__codelineno-167-67 name=__codelineno-167-67 href=#__codelineno-167-67></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Cash&#39;</span><span class=p>,</span>
</span><span id=__span-167-68><a id=__codelineno-167-68 name=__codelineno-167-68 href=#__codelineno-167-68></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-69><a id=__codelineno-167-69 name=__codelineno-167-69 href=#__codelineno-167-69></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Amount&#39;</span>
</span><span id=__span-167-70><a id=__codelineno-167-70 name=__codelineno-167-70 href=#__codelineno-167-70></a>        <span class=p>),</span>
</span><span id=__span-167-71><a id=__codelineno-167-71 name=__codelineno-167-71 href=#__codelineno-167-71></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_cash&#39;</span><span class=p>,</span>
</span><span id=__span-167-72><a id=__codelineno-167-72 name=__codelineno-167-72 href=#__codelineno-167-72></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-73><a id=__codelineno-167-73 name=__codelineno-167-73 href=#__codelineno-167-73></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-74><a id=__codelineno-167-74 name=__codelineno-167-74 href=#__codelineno-167-74></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-75><a id=__codelineno-167-75 name=__codelineno-167-75 href=#__codelineno-167-75></a>            <span class=s1>&#39;cash&#39;</span>
</span><span id=__span-167-76><a id=__codelineno-167-76 name=__codelineno-167-76 href=#__codelineno-167-76></a>        <span class=p>]</span>
</span><span id=__span-167-77><a id=__codelineno-167-77 name=__codelineno-167-77 href=#__codelineno-167-77></a>    <span class=p>),</span>
</span><span id=__span-167-78><a id=__codelineno-167-78 name=__codelineno-167-78 href=#__codelineno-167-78></a>    <span class=n>asset_flow</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-79><a id=__codelineno-167-79 name=__codelineno-167-79 href=#__codelineno-167-79></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Asset Flow&#39;</span><span class=p>,</span>
</span><span id=__span-167-80><a id=__codelineno-167-80 name=__codelineno-167-80 href=#__codelineno-167-80></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-81><a id=__codelineno-167-81 name=__codelineno-167-81 href=#__codelineno-167-81></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Amount&#39;</span>
</span><span id=__span-167-82><a id=__codelineno-167-82 name=__codelineno-167-82 href=#__codelineno-167-82></a>        <span class=p>),</span>
</span><span id=__span-167-83><a id=__codelineno-167-83 name=__codelineno-167-83 href=#__codelineno-167-83></a>        <span class=n>check_is_not_grouped</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-84><a id=__codelineno-167-84 name=__codelineno-167-84 href=#__codelineno-167-84></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_asset_flow&#39;</span><span class=p>,</span>
</span><span id=__span-167-85><a id=__codelineno-167-85 name=__codelineno-167-85 href=#__codelineno-167-85></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-86><a id=__codelineno-167-86 name=__codelineno-167-86 href=#__codelineno-167-86></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-87><a id=__codelineno-167-87 name=__codelineno-167-87 href=#__codelineno-167-87></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-88><a id=__codelineno-167-88 name=__codelineno-167-88 href=#__codelineno-167-88></a>            <span class=s1>&#39;assets&#39;</span>
</span><span id=__span-167-89><a id=__codelineno-167-89 name=__codelineno-167-89 href=#__codelineno-167-89></a>        <span class=p>]</span>
</span><span id=__span-167-90><a id=__codelineno-167-90 name=__codelineno-167-90 href=#__codelineno-167-90></a>    <span class=p>),</span>
</span><span id=__span-167-91><a id=__codelineno-167-91 name=__codelineno-167-91 href=#__codelineno-167-91></a>    <span class=n>assets</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-92><a id=__codelineno-167-92 name=__codelineno-167-92 href=#__codelineno-167-92></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Assets&#39;</span><span class=p>,</span>
</span><span id=__span-167-93><a id=__codelineno-167-93 name=__codelineno-167-93 href=#__codelineno-167-93></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-94><a id=__codelineno-167-94 name=__codelineno-167-94 href=#__codelineno-167-94></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Amount&#39;</span>
</span><span id=__span-167-95><a id=__codelineno-167-95 name=__codelineno-167-95 href=#__codelineno-167-95></a>        <span class=p>),</span>
</span><span id=__span-167-96><a id=__codelineno-167-96 name=__codelineno-167-96 href=#__codelineno-167-96></a>        <span class=n>check_is_not_grouped</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-97><a id=__codelineno-167-97 name=__codelineno-167-97 href=#__codelineno-167-97></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_assets&#39;</span><span class=p>,</span>
</span><span id=__span-167-98><a id=__codelineno-167-98 name=__codelineno-167-98 href=#__codelineno-167-98></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-99><a id=__codelineno-167-99 name=__codelineno-167-99 href=#__codelineno-167-99></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-100><a id=__codelineno-167-100 name=__codelineno-167-100 href=#__codelineno-167-100></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-101><a id=__codelineno-167-101 name=__codelineno-167-101 href=#__codelineno-167-101></a>            <span class=s1>&#39;assets&#39;</span>
</span><span id=__span-167-102><a id=__codelineno-167-102 name=__codelineno-167-102 href=#__codelineno-167-102></a>        <span class=p>]</span>
</span><span id=__span-167-103><a id=__codelineno-167-103 name=__codelineno-167-103 href=#__codelineno-167-103></a>    <span class=p>),</span>
</span><span id=__span-167-104><a id=__codelineno-167-104 name=__codelineno-167-104 href=#__codelineno-167-104></a>    <span class=n>asset_value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-105><a id=__codelineno-167-105 name=__codelineno-167-105 href=#__codelineno-167-105></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Asset Value&#39;</span><span class=p>,</span>
</span><span id=__span-167-106><a id=__codelineno-167-106 name=__codelineno-167-106 href=#__codelineno-167-106></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-107><a id=__codelineno-167-107 name=__codelineno-167-107 href=#__codelineno-167-107></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Value&#39;</span>
</span><span id=__span-167-108><a id=__codelineno-167-108 name=__codelineno-167-108 href=#__codelineno-167-108></a>        <span class=p>),</span>
</span><span id=__span-167-109><a id=__codelineno-167-109 name=__codelineno-167-109 href=#__codelineno-167-109></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_asset_value&#39;</span><span class=p>,</span>
</span><span id=__span-167-110><a id=__codelineno-167-110 name=__codelineno-167-110 href=#__codelineno-167-110></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-111><a id=__codelineno-167-111 name=__codelineno-167-111 href=#__codelineno-167-111></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-112><a id=__codelineno-167-112 name=__codelineno-167-112 href=#__codelineno-167-112></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-113><a id=__codelineno-167-113 name=__codelineno-167-113 href=#__codelineno-167-113></a>            <span class=s1>&#39;assets&#39;</span><span class=p>,</span>
</span><span id=__span-167-114><a id=__codelineno-167-114 name=__codelineno-167-114 href=#__codelineno-167-114></a>            <span class=s1>&#39;value&#39;</span>
</span><span id=__span-167-115><a id=__codelineno-167-115 name=__codelineno-167-115 href=#__codelineno-167-115></a>        <span class=p>]</span>
</span><span id=__span-167-116><a id=__codelineno-167-116 name=__codelineno-167-116 href=#__codelineno-167-116></a>    <span class=p>),</span>
</span><span id=__span-167-117><a id=__codelineno-167-117 name=__codelineno-167-117 href=#__codelineno-167-117></a>    <span class=n>value</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-118><a id=__codelineno-167-118 name=__codelineno-167-118 href=#__codelineno-167-118></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Value&#39;</span><span class=p>,</span>
</span><span id=__span-167-119><a id=__codelineno-167-119 name=__codelineno-167-119 href=#__codelineno-167-119></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-120><a id=__codelineno-167-120 name=__codelineno-167-120 href=#__codelineno-167-120></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Value&#39;</span>
</span><span id=__span-167-121><a id=__codelineno-167-121 name=__codelineno-167-121 href=#__codelineno-167-121></a>        <span class=p>),</span>
</span><span id=__span-167-122><a id=__codelineno-167-122 name=__codelineno-167-122 href=#__codelineno-167-122></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_value&#39;</span><span class=p>,</span>
</span><span id=__span-167-123><a id=__codelineno-167-123 name=__codelineno-167-123 href=#__codelineno-167-123></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-124><a id=__codelineno-167-124 name=__codelineno-167-124 href=#__codelineno-167-124></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-125><a id=__codelineno-167-125 name=__codelineno-167-125 href=#__codelineno-167-125></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-126><a id=__codelineno-167-126 name=__codelineno-167-126 href=#__codelineno-167-126></a>            <span class=s1>&#39;value&#39;</span>
</span><span id=__span-167-127><a id=__codelineno-167-127 name=__codelineno-167-127 href=#__codelineno-167-127></a>        <span class=p>]</span>
</span><span id=__span-167-128><a id=__codelineno-167-128 name=__codelineno-167-128 href=#__codelineno-167-128></a>    <span class=p>),</span>
</span><span id=__span-167-129><a id=__codelineno-167-129 name=__codelineno-167-129 href=#__codelineno-167-129></a>    <span class=n>cumulative_returns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-130><a id=__codelineno-167-130 name=__codelineno-167-130 href=#__codelineno-167-130></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Cumulative Returns&#39;</span><span class=p>,</span>
</span><span id=__span-167-131><a id=__codelineno-167-131 name=__codelineno-167-131 href=#__codelineno-167-131></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-132><a id=__codelineno-167-132 name=__codelineno-167-132 href=#__codelineno-167-132></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Cumulative return&#39;</span>
</span><span id=__span-167-133><a id=__codelineno-167-133 name=__codelineno-167-133 href=#__codelineno-167-133></a>        <span class=p>),</span>
</span><span id=__span-167-134><a id=__codelineno-167-134 name=__codelineno-167-134 href=#__codelineno-167-134></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_cumulative_returns&#39;</span><span class=p>,</span>
</span><span id=__span-167-135><a id=__codelineno-167-135 name=__codelineno-167-135 href=#__codelineno-167-135></a>        <span class=n>pass_hline_shape_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-136><a id=__codelineno-167-136 name=__codelineno-167-136 href=#__codelineno-167-136></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-137><a id=__codelineno-167-137 name=__codelineno-167-137 href=#__codelineno-167-137></a>        <span class=n>pass_xref</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-138><a id=__codelineno-167-138 name=__codelineno-167-138 href=#__codelineno-167-138></a>        <span class=n>pass_yref</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-139><a id=__codelineno-167-139 name=__codelineno-167-139 href=#__codelineno-167-139></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-140><a id=__codelineno-167-140 name=__codelineno-167-140 href=#__codelineno-167-140></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-141><a id=__codelineno-167-141 name=__codelineno-167-141 href=#__codelineno-167-141></a>            <span class=s1>&#39;returns&#39;</span>
</span><span id=__span-167-142><a id=__codelineno-167-142 name=__codelineno-167-142 href=#__codelineno-167-142></a>        <span class=p>]</span>
</span><span id=__span-167-143><a id=__codelineno-167-143 name=__codelineno-167-143 href=#__codelineno-167-143></a>    <span class=p>),</span>
</span><span id=__span-167-144><a id=__codelineno-167-144 name=__codelineno-167-144 href=#__codelineno-167-144></a>    <span class=n>drawdowns</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-145><a id=__codelineno-167-145 name=__codelineno-167-145 href=#__codelineno-167-145></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Drawdowns&#39;</span><span class=p>,</span>
</span><span id=__span-167-146><a id=__codelineno-167-146 name=__codelineno-167-146 href=#__codelineno-167-146></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-147><a id=__codelineno-167-147 name=__codelineno-167-147 href=#__codelineno-167-147></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Value&#39;</span>
</span><span id=__span-167-148><a id=__codelineno-167-148 name=__codelineno-167-148 href=#__codelineno-167-148></a>        <span class=p>),</span>
</span><span id=__span-167-149><a id=__codelineno-167-149 name=__codelineno-167-149 href=#__codelineno-167-149></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_drawdowns&#39;</span><span class=p>,</span>
</span><span id=__span-167-150><a id=__codelineno-167-150 name=__codelineno-167-150 href=#__codelineno-167-150></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-151><a id=__codelineno-167-151 name=__codelineno-167-151 href=#__codelineno-167-151></a>        <span class=n>pass_xref</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-152><a id=__codelineno-167-152 name=__codelineno-167-152 href=#__codelineno-167-152></a>        <span class=n>pass_yref</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-153><a id=__codelineno-167-153 name=__codelineno-167-153 href=#__codelineno-167-153></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-154><a id=__codelineno-167-154 name=__codelineno-167-154 href=#__codelineno-167-154></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-155><a id=__codelineno-167-155 name=__codelineno-167-155 href=#__codelineno-167-155></a>            <span class=s1>&#39;value&#39;</span><span class=p>,</span>
</span><span id=__span-167-156><a id=__codelineno-167-156 name=__codelineno-167-156 href=#__codelineno-167-156></a>            <span class=s1>&#39;drawdowns&#39;</span>
</span><span id=__span-167-157><a id=__codelineno-167-157 name=__codelineno-167-157 href=#__codelineno-167-157></a>        <span class=p>]</span>
</span><span id=__span-167-158><a id=__codelineno-167-158 name=__codelineno-167-158 href=#__codelineno-167-158></a>    <span class=p>),</span>
</span><span id=__span-167-159><a id=__codelineno-167-159 name=__codelineno-167-159 href=#__codelineno-167-159></a>    <span class=n>underwater</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-160><a id=__codelineno-167-160 name=__codelineno-167-160 href=#__codelineno-167-160></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Underwater&#39;</span><span class=p>,</span>
</span><span id=__span-167-161><a id=__codelineno-167-161 name=__codelineno-167-161 href=#__codelineno-167-161></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-162><a id=__codelineno-167-162 name=__codelineno-167-162 href=#__codelineno-167-162></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Drawdown&#39;</span>
</span><span id=__span-167-163><a id=__codelineno-167-163 name=__codelineno-167-163 href=#__codelineno-167-163></a>        <span class=p>),</span>
</span><span id=__span-167-164><a id=__codelineno-167-164 name=__codelineno-167-164 href=#__codelineno-167-164></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_underwater&#39;</span><span class=p>,</span>
</span><span id=__span-167-165><a id=__codelineno-167-165 name=__codelineno-167-165 href=#__codelineno-167-165></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-166><a id=__codelineno-167-166 name=__codelineno-167-166 href=#__codelineno-167-166></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-167><a id=__codelineno-167-167 name=__codelineno-167-167 href=#__codelineno-167-167></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-168><a id=__codelineno-167-168 name=__codelineno-167-168 href=#__codelineno-167-168></a>            <span class=s1>&#39;value&#39;</span><span class=p>,</span>
</span><span id=__span-167-169><a id=__codelineno-167-169 name=__codelineno-167-169 href=#__codelineno-167-169></a>            <span class=s1>&#39;drawdowns&#39;</span>
</span><span id=__span-167-170><a id=__codelineno-167-170 name=__codelineno-167-170 href=#__codelineno-167-170></a>        <span class=p>]</span>
</span><span id=__span-167-171><a id=__codelineno-167-171 name=__codelineno-167-171 href=#__codelineno-167-171></a>    <span class=p>),</span>
</span><span id=__span-167-172><a id=__codelineno-167-172 name=__codelineno-167-172 href=#__codelineno-167-172></a>    <span class=n>gross_exposure</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-173><a id=__codelineno-167-173 name=__codelineno-167-173 href=#__codelineno-167-173></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Gross Exposure&#39;</span><span class=p>,</span>
</span><span id=__span-167-174><a id=__codelineno-167-174 name=__codelineno-167-174 href=#__codelineno-167-174></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-175><a id=__codelineno-167-175 name=__codelineno-167-175 href=#__codelineno-167-175></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Exposure&#39;</span>
</span><span id=__span-167-176><a id=__codelineno-167-176 name=__codelineno-167-176 href=#__codelineno-167-176></a>        <span class=p>),</span>
</span><span id=__span-167-177><a id=__codelineno-167-177 name=__codelineno-167-177 href=#__codelineno-167-177></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_gross_exposure&#39;</span><span class=p>,</span>
</span><span id=__span-167-178><a id=__codelineno-167-178 name=__codelineno-167-178 href=#__codelineno-167-178></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-179><a id=__codelineno-167-179 name=__codelineno-167-179 href=#__codelineno-167-179></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-180><a id=__codelineno-167-180 name=__codelineno-167-180 href=#__codelineno-167-180></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-181><a id=__codelineno-167-181 name=__codelineno-167-181 href=#__codelineno-167-181></a>            <span class=s1>&#39;exposure&#39;</span>
</span><span id=__span-167-182><a id=__codelineno-167-182 name=__codelineno-167-182 href=#__codelineno-167-182></a>        <span class=p>]</span>
</span><span id=__span-167-183><a id=__codelineno-167-183 name=__codelineno-167-183 href=#__codelineno-167-183></a>    <span class=p>),</span>
</span><span id=__span-167-184><a id=__codelineno-167-184 name=__codelineno-167-184 href=#__codelineno-167-184></a>    <span class=n>net_exposure</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-185><a id=__codelineno-167-185 name=__codelineno-167-185 href=#__codelineno-167-185></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Net Exposure&#39;</span><span class=p>,</span>
</span><span id=__span-167-186><a id=__codelineno-167-186 name=__codelineno-167-186 href=#__codelineno-167-186></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-187><a id=__codelineno-167-187 name=__codelineno-167-187 href=#__codelineno-167-187></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Exposure&#39;</span>
</span><span id=__span-167-188><a id=__codelineno-167-188 name=__codelineno-167-188 href=#__codelineno-167-188></a>        <span class=p>),</span>
</span><span id=__span-167-189><a id=__codelineno-167-189 name=__codelineno-167-189 href=#__codelineno-167-189></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_net_exposure&#39;</span><span class=p>,</span>
</span><span id=__span-167-190><a id=__codelineno-167-190 name=__codelineno-167-190 href=#__codelineno-167-190></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-191><a id=__codelineno-167-191 name=__codelineno-167-191 href=#__codelineno-167-191></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-192><a id=__codelineno-167-192 name=__codelineno-167-192 href=#__codelineno-167-192></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-193><a id=__codelineno-167-193 name=__codelineno-167-193 href=#__codelineno-167-193></a>            <span class=s1>&#39;exposure&#39;</span>
</span><span id=__span-167-194><a id=__codelineno-167-194 name=__codelineno-167-194 href=#__codelineno-167-194></a>        <span class=p>]</span>
</span><span id=__span-167-195><a id=__codelineno-167-195 name=__codelineno-167-195 href=#__codelineno-167-195></a>    <span class=p>),</span>
</span><span id=__span-167-196><a id=__codelineno-167-196 name=__codelineno-167-196 href=#__codelineno-167-196></a>    <span class=n>allocations</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-197><a id=__codelineno-167-197 name=__codelineno-167-197 href=#__codelineno-167-197></a>        <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Allocations&#39;</span><span class=p>,</span>
</span><span id=__span-167-198><a id=__codelineno-167-198 name=__codelineno-167-198 href=#__codelineno-167-198></a>        <span class=n>yaxis_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-167-199><a id=__codelineno-167-199 name=__codelineno-167-199 href=#__codelineno-167-199></a>            <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Allocation&#39;</span>
</span><span id=__span-167-200><a id=__codelineno-167-200 name=__codelineno-167-200 href=#__codelineno-167-200></a>        <span class=p>),</span>
</span><span id=__span-167-201><a id=__codelineno-167-201 name=__codelineno-167-201 href=#__codelineno-167-201></a>        <span class=n>plot_func</span><span class=o>=</span><span class=s1>&#39;plot_allocations&#39;</span><span class=p>,</span>
</span><span id=__span-167-202><a id=__codelineno-167-202 name=__codelineno-167-202 href=#__codelineno-167-202></a>        <span class=n>pass_add_trace_kwargs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-167-203><a id=__codelineno-167-203 name=__codelineno-167-203 href=#__codelineno-167-203></a>        <span class=n>tags</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-167-204><a id=__codelineno-167-204 name=__codelineno-167-204 href=#__codelineno-167-204></a>            <span class=s1>&#39;portfolio&#39;</span><span class=p>,</span>
</span><span id=__span-167-205><a id=__codelineno-167-205 name=__codelineno-167-205 href=#__codelineno-167-205></a>            <span class=s1>&#39;allocations&#39;</span>
</span><span id=__span-167-206><a id=__codelineno-167-206 name=__codelineno-167-206 href=#__codelineno-167-206></a>        <span class=p>]</span>
</span><span id=__span-167-207><a id=__codelineno-167-207 name=__codelineno-167-207 href=#__codelineno-167-207></a>    <span class=p>)</span>
</span><span id=__span-167-208><a id=__codelineno-167-208 name=__codelineno-167-208 href=#__codelineno-167-208></a><span class=p>)</span>
</span></code></pre></div> <p>This property returns a hybrid copy of <code>Portfolio._subplots</code> created at instance initialization, ensuring that modifications do not affect the class-level configuration.</p> <p>To modify the subplots, update the configuration in-place, override this property, or assign a new value to <code>Portfolio._subplots</code> on the instance.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Config</code></dt> <dd>Hybrid copy of the subplots configuration.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.tail_ratio>tail_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.tail_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_tail_ratio title=vectorbtpro.portfolio.base.Portfolio.get_tail_ratio>Portfolio.get_tail_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.total_cash_deposits>total_cash_deposits <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.total_cash_deposits title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_total_cash_deposits title=vectorbtpro.portfolio.base.Portfolio.get_total_cash_deposits>Portfolio.get_total_cash_deposits</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.total_cash_earnings>total_cash_earnings <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.total_cash_earnings title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_total_cash_earnings title=vectorbtpro.portfolio.base.Portfolio.get_total_cash_earnings>Portfolio.get_total_cash_earnings</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.total_market_return>total_market_return <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.total_market_return title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_total_market_return title=vectorbtpro.portfolio.base.Portfolio.get_total_market_return>Portfolio.get_total_market_return</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.total_profit>total_profit <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.total_profit title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_total_profit title=vectorbtpro.portfolio.base.Portfolio.get_total_profit>Portfolio.get_total_profit</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.total_return>total_return <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.total_return title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_total_return title=vectorbtpro.portfolio.base.Portfolio.get_total_return>Portfolio.get_total_return</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.trade_history>trade_history <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.trade_history title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_trade_history title=vectorbtpro.portfolio.base.Portfolio.get_trade_history>Portfolio.get_trade_history</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.trades>trades <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.trades title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_trades title=vectorbtpro.portfolio.base.Portfolio.get_trades>Portfolio.get_trades</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.trades_cls>trades_cls <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5705-L5716 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.trades_cls title="Permanent link">&para;</a></h3> <p>Trade records wrapper class.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Type</code></dt> <dd> <p>Class used to wrap trade records.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.Trades title=vectorbtpro.portfolio.trades.Trades>Trades</a> if not explicitly configured.</p> </dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.trades_type>trades_type <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5670-L5677 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.trades_type title="Permanent link">&para;</a></h3> <p>Default <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/trades/#vectorbtpro.portfolio.trades.Trades title=vectorbtpro.portfolio.trades.Trades>Trades</a> type to use across <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</p> <p><strong>Returns</strong></p> <dl> <dt><code>int</code></dt> <dd>Integer representing the default trades type.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.up_capture_ratio>up_capture_ratio <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.up_capture_ratio title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_up_capture_ratio title=vectorbtpro.portfolio.base.Portfolio.get_up_capture_ratio>Portfolio.get_up_capture_ratio</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.use_in_outputs>use_in_outputs <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5628-L5635 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.use_in_outputs title="Permanent link">&para;</a></h3> <p>Whether to return in-place output objects when calling properties.</p> <p><strong>Returns</strong></p> <dl> <dt><code>bool</code></dt> <dd>True if in-place output objects should be used for property values; otherwise, False.</dd> </dl> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.value>value <span class=dobjtype>cacheable_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.value title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_value title=vectorbtpro.portfolio.base.Portfolio.get_value>Portfolio.get_value</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.value_at_risk>value_at_risk <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.value_at_risk title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_value_at_risk title=vectorbtpro.portfolio.base.Portfolio.get_value_at_risk>Portfolio.get_value_at_risk</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.weights>weights <span class=dobjtype>cached_property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L496-L13220 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.weights title="Permanent link">&para;</a></h3> <p><a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio.get_weights title=vectorbtpro.portfolio.base.Portfolio.get_weights>Portfolio.get_weights</a> with default arguments.</p> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.wrap_obj>wrap_obj <span class=dobjtype>method</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L1763-L1925 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.wrap_obj title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-168-1><a id=__codelineno-168-1 name=__codelineno-168-1 href=#__codelineno-168-1></a><span class=n>Portfolio</span><span class=o>.</span><span class=n>wrap_obj</span><span class=p>(</span>
</span><span id=__span-168-2><a id=__codelineno-168-2 name=__codelineno-168-2 href=#__codelineno-168-2></a>    <span class=n>obj</span><span class=p>,</span>
</span><span id=__span-168-3><a id=__codelineno-168-3 name=__codelineno-168-3 href=#__codelineno-168-3></a>    <span class=n>obj_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-168-4><a id=__codelineno-168-4 name=__codelineno-168-4 href=#__codelineno-168-4></a>    <span class=n>grouping</span><span class=o>=</span><span class=s1>&#39;columns_or_groups&#39;</span><span class=p>,</span>
</span><span id=__span-168-5><a id=__codelineno-168-5 name=__codelineno-168-5 href=#__codelineno-168-5></a>    <span class=n>obj_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-168-6><a id=__codelineno-168-6 name=__codelineno-168-6 href=#__codelineno-168-6></a>    <span class=n>wrapper</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-168-7><a id=__codelineno-168-7 name=__codelineno-168-7 href=#__codelineno-168-7></a>    <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-168-8><a id=__codelineno-168-8 name=__codelineno-168-8 href=#__codelineno-168-8></a>    <span class=n>wrap_func</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-168-9><a id=__codelineno-168-9 name=__codelineno-168-9 href=#__codelineno-168-9></a>    <span class=n>wrap_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-168-10><a id=__codelineno-168-10 name=__codelineno-168-10 href=#__codelineno-168-10></a>    <span class=n>force_wrapping</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-168-11><a id=__codelineno-168-11 name=__codelineno-168-11 href=#__codelineno-168-11></a>    <span class=n>silence_warnings</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-168-12><a id=__codelineno-168-12 name=__codelineno-168-12 href=#__codelineno-168-12></a>    <span class=o>**</span><span class=n>kwargs</span>
</span><span id=__span-168-13><a id=__codelineno-168-13 name=__codelineno-168-13 href=#__codelineno-168-13></a><span class=p>)</span>
</span></code></pre></div> <p>Wrap an object.</p> <p>Wraps the provided object according to the specified object type, grouping strategy, and wrapping function. If <code>wrap_func</code> is provided, it is called with the portfolio (<a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/base/#vectorbtpro.portfolio.base.Portfolio title=vectorbtpro.portfolio.base.Portfolio>Portfolio</a>), the object, and all other arguments. If the object is None or a boolean, it is returned unchanged.</p> <p><strong>Args</strong></p> <dl> <dt><strong><code>obj</code></strong> :&ensp;<code>Any</code></dt> <dd>Object to be wrapped.</dd> <dt><strong><code>obj_name</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd>Name of the object.</dd> <dt><strong><code>grouping</code></strong> :&ensp;<code>str</code></dt> <dd> <p>Grouping strategy.</p> <p>Supported options include "columns_or_groups", "columns", "groups", and "cash_sharing".</p> </dd> <dt><strong><code>obj_type</code></strong> :&ensp;<code>Optional[str]</code></dt> <dd> <p>Type of the object.</p> <p>Supported options include "records", "array", and "red_array".</p> </dd> <dt><strong><code>wrapper</code></strong> :&ensp;<code>Optional[ArrayWrapper]</code></dt> <dd> <p>Array wrapper instance.</p> <p>Defaults to <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.HasWrapper.wrapper title=vectorbtpro.portfolio.base.Portfolio.wrapper>Portfolio.wrapper</a> if not provided.</p> </dd> <dt><strong><code>group_by</code></strong> :&ensp;<code>GroupByLike</code></dt> <dd> <p>Grouping specification.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/grouping/base/#vectorbtpro.base.grouping.base.Grouper title=vectorbtpro.base.grouping.base.Grouper>Grouper</a>.</p> </dd> <dt><strong><code>wrap_func</code></strong> :&ensp;<code>Optional[Callable]</code></dt> <dd>Custom wrapping function that takes the portfolio, object, and additional parameters.</dd> <dt><strong><code>wrap_kwargs</code></strong> :&ensp;<code>KwargsLike</code></dt> <dd> <p>Keyword arguments for wrapping the result.</p> <p>See <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap title=vectorbtpro.base.wrapping.ArrayWrapper.wrap>ArrayWrapper.wrap</a> and <a href=https://vectorbt.pro/pvt_41531c19/api/base/wrapping/#vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced title=vectorbtpro.base.wrapping.ArrayWrapper.wrap_reduced>ArrayWrapper.wrap_reduced</a>.</p> </dd> <dt><strong><code>force_wrapping</code></strong> :&ensp;<code>bool</code></dt> <dd>If True, forces wrapping and raises an error when wrapping is not feasible.</dd> <dt><strong><code>silence_warnings</code></strong> :&ensp;<code>bool</code></dt> <dd>Flag to suppress warning messages.</dd> <dt><strong><code>**kwargs</code></strong></dt> <dd>Keyword arguments for <code>wrap_func</code>.</dd> </dl> <p><strong>Returns</strong></p> <dl> <dt><code>Any</code></dt> <dd>Wrapped object, or the original object if no wrapping is applied.</dd> </dl> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The wrapping process considers the object type, its dimensionality, and the specified grouping or cash sharing settings.</p> </div> <hr> <h3 id=vectorbtpro.portfolio.base.Portfolio.year_freq>year_freq <span class=dobjtype>class property</span><a class=githublink href=https://github.com/polakowo/vectorbt.pro/blob/d0bfef94b75be3087e04d1b58c9c7216f2f25ce8/vectorbtpro/portfolio/base.py#L5647-L5659 target=_blank title="Jump to source"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span></a><a class=headerlink href=#vectorbtpro.portfolio.base.Portfolio.year_freq title="Permanent link">&para;</a></h3> <p>Year frequency derived from the portfolio's index.</p> <p><strong>Returns</strong></p> <dl> <dt><code>Optional[PandasFrequency]</code></dt> <dd>Inferred yearly frequency based on the portfolio's index, or None if it cannot be determined.</dd> </dl> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/ class="md-footer__link md-footer__link--prev" aria-label="Previous: portfolio"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> portfolio </div> </div> </a> <a href=https://vectorbt.pro/pvt_41531c19/api/portfolio/call_seq/ class="md-footer__link md-footer__link--next" aria-label="Next: call_seq"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> call_seq </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021-2025 Oleg Polakow. All rights reserved. </div> </div> <div class=md-social> <a href=https://www.linkedin.com/in/polakowo target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://github.com/polakowo target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"annotate": null, "base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.instant", "navigation.instant.progress", "navigation.top", "navigation.prune", "navigation.path", "navigation.footer", "search.suggest", "search.share", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "content.tabs.link", "toc.follow", "toc.integrate", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.26099bd0.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=https://vectorbt.pro/pvt_41531c19/assets/javascripts/bundle.9d1edc04.min.js></script> <script src=https://vectorbt.pro/pvt_41531c19/assets/scripts/extra.js></script> <script src=https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js></script> </body> 
<!-- Mirrored from vectorbt.pro/pvt_41531c19/api/portfolio/base/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 22 Nov 2025 03:48:07 GMT -->
</html>